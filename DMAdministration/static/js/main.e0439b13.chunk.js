(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{113:function(e,t){},282:function(e,t,n){},470:function(e,t,n){},471:function(e,t,n){},472:function(e,t,n){},474:function(e,t,n){},475:function(e,t,n){},476:function(e,t,n){},478:function(e,t,n){},479:function(e,t,n){},481:function(e,t,n){},485:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(49),o=n.n(s),c=(n(282),n(6)),i=n.n(c),l=n(12),d=n(38),u=(n(283),n(284),n(113)),p=n.n(u),h=n(74),j=n.n(h),b=n(190);j.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||b.a.error("An Unexpected error occurred (Network Error)",{toastId:"unexpectedErrors",position:"bottom-center",autoClose:5e3}),Promise.reject(e)}));var f={get:j.a.get,post:j.a.post,put:j.a.put,patch:j.a.patch,delete:j.a.delete},x="http://localhost:8000/",m="http://localhost:3000/",O="userCreationPath",g="userAdvancedSearchPath",y="userHomeSearchPath",v="userUpdatePath/",R="/DMERP/v1/profiles/",w=void 0,S=[{title:"Libell\xe9",dataIndex:"PF_LIBPRF"},{title:"Application",dataIndex:"PF_APPLI"},{title:"Langue",dataIndex:"PF_LANGUE"},{title:"Niveau d'acces",dataIndex:"PF_NIVACC"}],C=[{title:"Libell\xe9",dataIndex:"PF_LIBPRF",type:"string",max:45,spann:24},{title:"Application",dataIndex:"PF_APPLI",type:"string",max:45,spann:8},{title:"Langue",dataIndex:"PF_LANGUE",type:"string",max:45,spann:8},{title:"Niveau d'acces",dataIndex:"PF_NIVACC",type:"number",max:4,spann:8}],k=[{type:"table",column:[{title:"name",dataIndex:"PF_LIBPRF"},{title:"email",dataIndex:"PF_APPLI"},{title:"type",dataIndex:"PF_LANGUE"},{title:"description",dataIndex:"PF_NIVACC"}],titre:"Utilisateur"},{type:"formulaire",Inputs:[{title:"Libell\xe9",dataIndex:"PF_LIBPRF",type:"string",max:45},{title:"Application",dataIndex:"PF_APPLI",type:"string",max:45},{title:"Langue",dataIndex:"PF_LANGUE",type:"string",max:45},{title:"Niveau d'acces",dataIndex:"PF_NIVACC",type:"number",max:4}],titre:"contact"}],T={result:{getColumn:function(){return S},getDatas:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://10.0.0.253:8000/DMERP/v1/profiles/",{headers:{Authorization:"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNjIyNzg0OTI2LCJqdGkiOiIxYzUxMmM5OWM4MzQ0ZTk2OWUzZDdjNWYzM2Q1NmQ0NiIsInVzZXJfaWQiOjIzLCJNVVRQUk9GSUQiOnsiSURfUk9XSUQiOjEsIkRDUkUiOiIyMDIxLTA2LTAyVDE2OjU2OjA0WiIsIkRNQUoiOiIyMDIxLTA2LTAyVDE2OjU2OjA4WiIsIk1QUlBSRkVYVCI6IkFVVEgwMDEiLCJNUFJMSUJMT05HIjoiQVVUSEFETUlOIiwiTVBSTElCQ09VUiI6ImFkbSIsIk1QUk5JVkFDQyI6MSwiVVRJTCI6bnVsbH19.1WRR0F3GSTLPhyV0LK82ev0UT7h5NAbwNbOeAjE3c0g","Content-Type":"application/json",accept:"application/json"}}).then((function(e){console.log("app    =>   : ",e.data),w.setState({datas:e.data})}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("error :",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},formulaire:{getformulaire:function(){return C},gettabs:function(){return k},getDatas:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a=void 0,console.log("bbb getAllProfiles"),f.get(R,{headers:{Authorization:"Bearer  ".concat(a)}});case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log("error :",e.t0);case 11:case"end":return e.stop()}var a}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()}},L=n(15),I=n(16),P=n(18),V=n(17),A=n(487),D=(n(229),n(488)),U=n(489),F=n(65),N=n(1),E=A.a.Sider,M=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){var e=this.props,t=e.collapsed,n=e.nouvelOnglet,a=e.menu;return Object(N.jsx)(E,{breakpoint:"lg",onBreakpoint:function(e){console.log(e)},trigger:null,collapsible:!0,collapsed:t,style:{height:"100vh",position:"fixed",zIndex:2,left:0},children:Object(N.jsxs)(D.a,{gutter:[25,0],justify:"start",align:"middle",style:{textAlign:"center"},children:[" ",Object(N.jsx)(U.a,{span:24,style:{minHeight:"48px",maxHeight:"48px"}}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(F.a,{className:"template-menu-principale",mode:"inline",defaultSelectedKeys:["1"],children:null!=a[0]&&a.map((function(e){return null==e.subMenu?Object(N.jsx)(F.a.Item,{style:{margin:"0px",height:"50px",display:"flex",justifyContent:"center"},icon:Object(N.jsxs)("div",{style:{height:"14px"},children:[Object(N.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:Object(N.jsx)(e.icon,{})}),Object(N.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontSize:"11px",padding:"4px",fontWeight:"400px"},children:e.title})]}),onClick:function(){n(e.title,e.icon,e.content,e.key,e.services,e.service,e.composant)}},e.key):Object(N.jsx)(F.a.SubMenu,{className:"template-submenu",icon:Object(N.jsxs)("div",{style:{height:"14px"},children:[Object(N.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:Object(N.jsx)(e.icon,{})}),Object(N.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontSize:"11px",padding:"4px",fontWeight:"400px"},children:e.title})]}),style:{height:"50px",display:"flex",justifyContent:"center"},children:null!=e.subMenu[0]&&e.subMenu.map((function(e){return Object(N.jsx)(F.a.Item,{style:{margin:"0px"},icon:Object(N.jsx)(e.icon,{}),onClick:function(){n(e.title,e.icon,e.content,e.key,e.services,e.service,e.composant)},children:e.title},e.key)}))},"sub"+e.key)}))})})]})})}}]),n}(a.Component),B=n(271),z=n(506),q=n(55),H=n(501),_=n(496),G=n(503),W=n(493),$=n(516),Y=n(139),K=n(517),X=n(518),Z=n(519),J=n(520),Q=n(521),ee=n(502),te=n(2),ne=(n(470),n(507)),ae=n(30),re=n(505),se={results:[{gender:"female",name:{title:"Miss",first:"Milla",last:"Koskinen"},email:"milla.koskinen@example.com",nat:"FI"}]},oe=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={initLoading:!0,loading:!1,data:[],list:[]},e.getData=function(e){e(se)},e.onLoadMore=function(){e.setState({loading:!0,list:e.state.data.concat(Object(ae.a)(new Array(3)).map((function(){return{loading:!0,name:{}}})))}),e.getData((function(t){var n=e.state.data.concat(t.results);e.setState({data:n,list:n,loading:!1},(function(){window.dispatchEvent(new Event("resize"))}))}))},e}return Object(I.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.getData((function(t){e.setState({initLoading:!1,data:t.results,list:t.results})}))}},{key:"render",value:function(){var e=this.state,t=e.initLoading,n=e.loading,a=e.list,r=t||n?null:Object(N.jsx)("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:Object(N.jsx)(q.a,{onClick:this.onLoadMore,children:"loading more"})});return Object(N.jsx)(re.b,{className:"demo-loadmore-list",loading:t,itemLayout:"horizontal",loadMore:r,dataSource:a,renderItem:function(e){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:"10px"},children:[" ",Object(N.jsx)("button",{onClick:function(){document.body.style.setProperty("--header","#4f448d"),document.body.style.setProperty("--link-color","#7b6ccf"),document.body.style.setProperty("--link-color-hover","#3a2e7c"),document.body.style.setProperty("--menu-selected","#4f448dd9"),document.body.style.setProperty("--btn-primary","#4f448dd9"),document.body.style.setProperty("--border-btn-primary","#4f448dd9"),document.body.style.setProperty("--btn-primary-focus","#6256a9bf"),document.body.style.setProperty("--border-btn-primary-focus","#6256a9bf"),document.body.style.setProperty("--tabs-notselected-bck-color-hover","#4f448d8c"),document.body.style.setProperty("--table-icon-primary","#8176c0"),document.body.style.setProperty("--tab-active-bck-color-secandary","#8f95c5"),document.body.style.setProperty("--tabs-notselected-bck-color-hover-secandary","#8f95c547"),document.body.style.setProperty("--tabs-notselected-text-color-hover-secandary","#776684"),document.body.style.setProperty("--tab-active-bck-color-hover-secandary","#8f95c5e6")},style:{margin:"0px 5px",width:"20%",height:"30px",backgroundColor:"#4f448d"}}),Object(N.jsx)("button",{onClick:function(){document.body.style.setProperty("--header","#44718d"),document.body.style.setProperty("--link-color","#77b8e0"),document.body.style.setProperty("--link-color-hover","#3b7192"),document.body.style.setProperty("--menu-selected","#56819d"),document.body.style.setProperty("--btn-primary","#44718d"),document.body.style.setProperty("--border-btn-primary","#44718dbf"),document.body.style.setProperty("--btn-primary-focus","#4c86aae0"),document.body.style.setProperty("--border-btn-primary-focus","#4c86aae0"),document.body.style.setProperty("--tabs-notselected-bck-color-hover","#385b71c9"),document.body.style.setProperty("--table-icon-primary","#3683b3"),document.body.style.setProperty("--tab-active-bck-color-secandary","#4688b0c7"),document.body.style.setProperty("--tabs-notselected-bck-color-hover-secandary","#469fd638"),document.body.style.setProperty("--tabs-notselected-text-color-hover-secandary","#1c3544eb"),document.body.style.setProperty("--tab-active-bck-color-hover-secandary","#5699c3c4")},style:{width:"20%",margin:"0px 5px",height:"30px",backgroundColor:"#44718d"}})," ",Object(N.jsx)("button",{onClick:function(){document.body.style.setProperty("--header","#40a875"),document.body.style.setProperty("--link-color","#61e4a4"),document.body.style.setProperty("--link-color-hover","#44c687"),document.body.style.setProperty("--menu-selected","#50eea1"),document.body.style.setProperty("--btn-primary","#51e39b"),document.body.style.setProperty("--border-btn-primary","#41c785"),document.body.style.setProperty("--btn-primary-focus","#35c57e"),document.body.style.setProperty("--border-btn-primary-focus","#51e39b"),document.body.style.setProperty("--tabs-notselected-bck-color-hover","#50d6949c"),document.body.style.setProperty("--table-icon-primary","#44db91"),document.body.style.setProperty("--tab-active-bck-color-secandary","#57e9a1de"),document.body.style.setProperty("--tabs-notselected-bck-color-hover-secandary","#6decad57"),document.body.style.setProperty("--tabs-notselected-text-color-hover-secandary","#246545"),document.body.style.setProperty("--tab-active-bck-color-hover-secandary","#6decadd6")},style:{width:"20%",margin:"0px 5px",height:"30px",backgroundColor:"#40a875"}}),Object(N.jsx)("button",{onClick:function(){document.body.style.setProperty("--header","#a84077"),document.body.style.setProperty("--link-color","#e977b3"),document.body.style.setProperty("--link-color-hover","#a84077"),document.body.style.setProperty("--menu-selected","#ff5bb2bf"),document.body.style.setProperty("--btn-primary","#e63e97e0"),document.body.style.setProperty("--border-btn-primary","#f3349a"),document.body.style.setProperty("--btn-primary-focus","#ea5ba8"),document.body.style.setProperty("--border-btn-primary-focus","#e955a4"),document.body.style.setProperty("--tabs-notselected-bck-color-hover","#e55ea575"),document.body.style.setProperty("--table-icon-primary","#ea6daf"),document.body.style.setProperty("--tab-active-bck-color-secandary","#ff9fd2"),document.body.style.setProperty("--tabs-notselected-bck-color-hover-secandary","#ff9fd25e"),document.body.style.setProperty("--tabs-notselected-text-color-hover-secandary","#5a2340"),document.body.style.setProperty("--tab-active-bck-color-hover-secandary","#e578b2fa")},style:{width:"20%",margin:"0px 5px",height:"30px",backgroundColor:"#a84077"}}),Object(N.jsx)("button",{onClick:function(){document.body.style.setProperty("--header","#bcb540"),document.body.style.setProperty("--link-color","#f1eb85"),document.body.style.setProperty("--link-color-hover","#bcb540"),document.body.style.setProperty("--menu-selected","#cfc74a"),document.body.style.setProperty("--btn-primary","#f3d35d"),document.body.style.setProperty("--border-btn-primary","#f4d254"),document.body.style.setProperty("--btn-primary-focus","#f3d35dd9"),document.body.style.setProperty("--border-btn-primary-focus","#f3d35d"),document.body.style.setProperty("--tabs-notselected-bck-color-hover","#e5e3be"),document.body.style.setProperty("--table-icon-primary","#f8ee45"),document.body.style.setProperty("--tab-active-bck-color-secandary","#ece358"),document.body.style.setProperty("--tabs-notselected-bck-color-hover-secandary","#fcf9cd"),document.body.style.setProperty("--tabs-notselected-text-color-hover-secandary","#65340b"),document.body.style.setProperty("--tab-active-bck-color-hover-secandary","#ece358db")},style:{width:"20%",margin:"0px 5px",height:"30px",backgroundColor:"#bcb540"}})]})," ",Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:"10px"},children:[" ",Object(N.jsx)("button",{onClick:function(){document.body.style.setProperty("--header","#cf4444"),document.body.style.setProperty("--link-color","#ff6161"),document.body.style.setProperty("--link-color-hover","#ce2929"),document.body.style.setProperty("--menu-selected","#f43e3e"),document.body.style.setProperty("--btn-primary","#ed2f2ffa"),document.body.style.setProperty("--border-btn-primary","#f24646"),document.body.style.setProperty("--btn-primary-focus","#ed3333c9"),document.body.style.setProperty("--border-btn-primary-focus","#ed3333"),document.body.style.setProperty("--tabs-notselected-bck-color-hover","#f1414161"),document.body.style.setProperty("--table-icon-primary","#ff2e2e"),document.body.style.setProperty("--tab-active-bck-color-secandary","#fc4646c2"),document.body.style.setProperty("--tabs-notselected-bck-color-hover-secandary","#fd727238"),document.body.style.setProperty("--tabs-notselected-text-color-hover-secandary","#610707"),document.body.style.setProperty("--tab-active-bck-color-hover-secandary","#fd7272d1")},style:{margin:"0px 5px",width:"20%",height:"30px",backgroundColor:"#cf4444"}}),Object(N.jsx)("button",{onClick:function(){document.body.style.setProperty("--header","#424ad3")},style:{width:"20%",margin:"0px 5px",height:"30px",backgroundColor:"#424ad3"}})," ",Object(N.jsx)("button",{onClick:function(){document.body.style.setProperty("--header","#d3d242")},style:{width:"20%",margin:"0px 5px",height:"30px",backgroundColor:"#d3d242"}}),Object(N.jsx)("button",{onClick:function(){document.body.style.setProperty("--header","#42d0d3")},style:{width:"20%",margin:"0px 5px",height:"30px",backgroundColor:"#42d0d3"}}),Object(N.jsx)("button",{onClick:function(){document.body.style.setProperty("--header","#5cd342")},style:{width:"20%",margin:"0px 5px",height:"30px",backgroundColor:"#5cd342"}})]})]})}})}}]),n}(r.a.Component),ce={results:[{gender:"female",name:{title:"Miss",first:"Milla",last:"Koskinen"},email:"milla.koskinen@example.com",nat:"FI"}]},ie=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={initLoading:!0,loading:!1,data:[],list:[]},e.getData=function(e){e(ce)},e.onLoadMore=function(){e.setState({loading:!0,list:e.state.data.concat(Object(ae.a)(new Array(3)).map((function(){return{loading:!0,name:{}}})))}),e.getData((function(t){var n=e.state.data.concat(t.results);e.setState({data:n,list:n,loading:!1},(function(){window.dispatchEvent(new Event("resize"))}))}))},e}return Object(I.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.getData((function(t){e.setState({initLoading:!1,data:t.results,list:t.results})}))}},{key:"render",value:function(){var e=this.state,t=e.initLoading,n=e.loading,a=e.list,r=t||n?null:Object(N.jsx)("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:Object(N.jsx)(q.a,{onClick:this.onLoadMore,children:"loading more"})});return Object(N.jsx)(re.b,{className:"demo-loadmore-list",loading:t,itemLayout:"horizontal",loadMore:r,dataSource:a,renderItem:function(e){return Object(N.jsxs)(N.Fragment,{children:[" ",Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:"10px"},children:[" ",Object(N.jsx)("div",{style:{width:"30%",height:"50px",backgroundColor:"#777"},children:Object(N.jsx)("img",{src:"./defaultBck.png",style:{width:"100%",height:"100%"}})})," ",Object(N.jsxs)("div",{style:{width:"30%",height:"50px",backgroundColor:"#777"},children:[" ",Object(N.jsx)("img",{src:"./bck (5).png",style:{width:"100%",height:"100%"}})]}),Object(N.jsxs)("div",{style:{width:"30%",height:"50px",backgroundColor:"#777"},children:[" ",Object(N.jsx)("img",{src:"./bck1.png",style:{width:"100%",height:"100%"}})]})," "]}),Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:"10px"},children:[" ",Object(N.jsx)("div",{style:{width:"30%",height:"50px",backgroundColor:"#777"},children:Object(N.jsx)("img",{src:"./bck (3).png",style:{width:"100%",height:"100%"}})}),Object(N.jsxs)("div",{style:{width:"30%",height:"50px",backgroundColor:"#777"},children:[" ",Object(N.jsx)("img",{src:"./bck (4).png",style:{width:"100%",height:"100%"}})]}),Object(N.jsxs)("div",{style:{width:"30%",height:"50px",backgroundColor:"#777"},children:[" ",Object(N.jsx)("img",{src:"./bkg.jpg",style:{width:"100%",height:"100%"}})]})," "]})]})}})}}]),n}(r.a.Component),le=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1},e.onClose=function(){e.setState({visible:!1}),e.props.visible(!0)},e}return Object(I.a)(n,[{key:"showDrawer",value:function(){this.setState({visible:!0}),this.props.visible(!1)}},{key:"render",value:function(){var e=this.state.visible;return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(ee.a,{title:Object(N.jsx)("div",{children:Object(N.jsxs)(te.F.Title,{level:4,style:{margin:"0",fontSize:"18px",fontWeight:"500",lineHeight:"0.9"},children:[Object(N.jsx)(ne.a,{twoToneColor:"#0a304e"})," Setting"]})}),className:"mask",placement:"right",closable:!1,width:350,onClose:this.onClose,visible:e,children:[Object(N.jsx)("div",{style:{marginBottom:"20px"},children:Object(N.jsx)(te.F.Title,{level:4,style:{fontSize:"13px",fontWeight:"600",lineHeight:"0",color:"#444"},children:"THEME"})}),Object(N.jsx)(oe,{}),Object(N.jsx)(te.i,{dashed:!0,style:{margin:"20px 0px "}})," ",Object(N.jsx)("div",{style:{marginBottom:"20px"},children:Object(N.jsx)(te.F.Title,{level:4,style:{fontSize:"13px",fontWeight:"600",lineHeight:"0",color:"#444"},children:"BACKGRAUND"})}),Object(N.jsx)(ie,{}),Object(N.jsx)(te.i,{dashed:!0,style:{margin:"20px 0px "}})," ",Object(N.jsx)("div",{style:{marginBottom:"20px"},children:Object(N.jsx)(te.F.Title,{level:4,style:{fontSize:"13px",fontWeight:"600",lineHeight:"0",color:"#444"},children:"MODE"})})," ",Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(N.jsxs)("div",{style:{width:"40%",display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(N.jsx)("img",{src:"./dark.png",style:{width:"100%",height:"80px",border:"2px solid rgb(128 128 128)",borderRadius:"4px",padding:"10px 28px",marginBottom:"17px"}}),Object(N.jsx)(te.F.Title,{level:4,style:{fontSize:"12px",fontWeight:"600",lineHeight:"0",color:"#444"},children:"Dark Mode"})]}),Object(N.jsxs)("div",{style:{width:"40%",display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(N.jsx)("img",{src:"./light.png",style:{width:"100%",height:"80px",border:"2px solid rgb(128 128 128)",borderRadius:"4px",padding:"10px 28px",marginBottom:"17px"}}),Object(N.jsxs)(te.F.Title,{level:4,style:{fontSize:"12px",fontWeight:"600",lineHeight:"0",color:"#444"},children:[" ","Light Mode"]})]})]}),Object(N.jsx)(te.i,{dashed:!0,style:{margin:"20px 0px "}})," ",Object(N.jsxs)("div",{style:{marginBottom:"10px",display:"flex",alignItems:"baseline"},children:[Object(N.jsx)(te.F.Title,{level:4,style:{fontSize:"13px",fontWeight:"600",lineHeight:"0",marginRight:"65px",color:"#444"},children:"LANGUE"}),Object(N.jsxs)(te.u,{labelInValue:!0,defaultValue:{value:"en"},style:{width:"100%"},children:[Object(N.jsx)(te.u.Option,{value:"en",children:"English (United States)"}),Object(N.jsx)(te.u.Option,{value:"fr",children:"Fran\xe7ais (France)"}),Object(N.jsx)(te.u.Option,{value:"ar",children:"Arabe "})]})]}),Object(N.jsxs)("div",{style:{marginBottom:" 0px",display:"flex",alignItems:"baseline"},children:[Object(N.jsx)(te.F.Title,{level:4,style:{fontSize:"13px",fontWeight:"600",lineHeight:"0",marginRight:"65px",color:"#444"},children:"SON"}),Object(N.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(N.jsx)(te.x,{checkedChildren:"on",unCheckedChildren:"off"})})]}),"Faire jouer le son pour les messages entrants et les notifications"]},"right")})}}]),n}(r.a.Component),de=n(508),ue=n(509),pe=n(510),he=n(511),je=n(512),be=n(513),fe=n(514),xe=n(515);j.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||b.a.error("An Unexpected error occurred (Network Error)",{toastId:"unexpectedErrors",position:"bottom-center",autoClose:5e3}),Promise.reject(e)}));for(var me={get:j.a.get,post:j.a.post,put:j.a.put,patch:j.a.patch,delete:j.a.delete},Oe=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",me.get(x+"DMERP/v1/auth/user/",{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json",accept:"application/json"}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(e){return me.post(x+"DMERP/v1/auth/token/verify/",{token:e},{headers:{"Content-Type":"application/json",accept:"application/json"}})},ye=function(){var e=Object(l.a)(i.a.mark((function e(t,n,a,r,s){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null,s=!1,console.log("------------------debut-ConnexionToHost------------------"),e.prev=3,e.next=6,ge(t);case 6:o=e.sent,console.log("tkoen verify result : ",o),e.next=28;break;case 10:if(e.prev=10,e.t0=e.catch(3),console.log("tkoen verify error : ",e.t0,o),e.prev=13,"Error: Request failed with status code 401"!=e.t0){e.next=23;break}return e.next=17,c=n,me.post(x+"DMERP/v1/auth/token/refresh/",{refresh:c},{headers:{"Content-Type":"application/json",accept:"application/json"}});case 17:return s=e.sent,r.set("access_token",s.data.access,(function(e,t){console.log("Host storage set (access token) => : ",t,"error",e,"refresh.data.access",s.data.access)})),r.set("refresh_token",s.data.refresh,(function(e,t){console.log("Host storage set (refrech token) => : ",t,"error",e,"refresh.data.refresh",s.data.refresh)})),console.log("tkoen refresh result : ",s),console.log("-------------------fin-ConnexionToHost-------------------"),e.abrupt("return",s.data.access);case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(13),"Error: Request failed with status code 401"==e.t1&&(console.log("tkoen refresh error : ",e.t1,s),r.remove("access_token",(function(e,t){console.log("Host storage remove (access token) => : ",t,"error",e)})),r.remove("refresh_token",(function(e,t){console.log("Host storage remove (refrech token) => : ",t,"error",e)})),a());case 28:return console.log("-------------------fin-ConnexionToHost-------------------"),e.abrupt("return",t);case 30:case"end":return e.stop()}var c}),e,null,[[3,10],[13,25]])})));return function(t,n,a,r,s){return e.apply(this,arguments)}}(),ve=[{title:"My Profile",descr:"Account settings and more",icon:de.a,color:"#69da87"},{title:"My Messages",descr:"Inbox and tasks",icon:ue.a,color:"#d8da69"},{title:"My Activities",descr:"Logs and notifications",icon:pe.a,color:"#da6969"},{title:"My Tasks",descr:"latest tasks and projects",icon:he.a,color:"#437bd1"}],Re=[{title:"Warning Alert",date:"21.05.2021- 12:45",icon:je.a,color:"#ffc85d",bckColor:"#fff8d5"},{title:"Success Alert",date:"21.05.2021- 10:00",icon:be.a,color:"#1bc5bd",bckColor:"#c9f7f5"},{title:"Error Alert",date:"20.05.2021- 23:00",icon:fe.a,color:"#f64e60",bckColor:"#ffe2e5"},{title:"Informational Alert",date:"19.05.2021- 22:00",icon:xe.a,color:"#8950fc",bckColor:"#eee5ff"}],we=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).onClose=function(){a.setState({visible:!1}),a.props.visible(!0)},a.state={visible:!1,userDatas:[],token:null},a}return Object(I.a)(n,[{key:"showDrawer",value:function(){this.setState({visible:!0}),this.props.visible(!1)}},{key:"render",value:function(){var e=this,t=this.state,n=t.visible,a=(t.userDatas,this.props),r=a.profil;a.goto;return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(ee.a,{title:Object(N.jsxs)("div",{style:{},children:[Object(N.jsx)(te.F.Title,{level:4,style:{margin:"0",fontSize:"18px",fontWeight:"500",lineHeight:"0.9"},children:"My Profile"})," ",Object(N.jsx)(te.F.Text,{type:"secondary",style:{fontSize:"13px"},children:"7 message"})]}),placement:"right",width:350,closable:!1,onClose:this.onClose,visible:n,children:[Object(N.jsxs)(te.t,{gutter:[16,16],align:"top",wrap:!1,children:[Object(N.jsx)(te.f,{flex:"104px",children:Object(N.jsx)(te.m,{width:104,height:105,src:this.props.user&&null!=this.props.user.MUTPHOTOS?this.props.user.MUTPHOTOS:r,style:{borderRadius:"3px",objectFit:"cover"}})}),Object(N.jsxs)(te.f,{flex:"auto",children:[Object(N.jsxs)(te.F.Title,{level:5,style:{margin:"0px"},ellipsis:!0,children:[!!this.props.user&&this.props.user.first_name,!!this.props.user&&this.props.user.last_name]}),Object(N.jsx)(te.F.Paragraph,{style:{margin:"0px"},ellipsis:!0,children:!!this.props.user&&null!=this.props.user.MUTPROFID&&this.props.user.MUTPROFID.MPRLIBCOUR}),Object(N.jsx)(te.F.Paragraph,{ellipsis:!0,style:{marginBottom:"4px"},type:"secondary",children:!!this.props.user&&this.props.user.email}),Object(N.jsx)(te.d,{type:"primary",onClick:function(){return p.a.post("http://10.0.0.253:8000/DMERP/v1/auth/logout/").then((function(t){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),e.props.goto("signIn")}))},style:{width:"100px"},children:"Logout"})]})]}),Object(N.jsx)(te.i,{dashed:!0,style:{margin:"20px 0px 5px"}}),Object(N.jsx)(te.o,{bordered:!1,itemLayout:"horizontal",dataSource:ve,renderItem:function(e){return Object(N.jsx)(te.o.Item,{style:{padding:"7px 0px",border:"0px"},children:Object(N.jsx)(te.o.Item.Meta,{style:{margin:"0px"},avatar:Object(N.jsx)("div",{style:{backgroundColor:"#f4f4f4",padding:"8px 12px",borderRadius:"4px"},children:Object(N.jsx)(e.icon,{twoToneColor:e.color,style:{fontSize:"15px"}})}),title:Object(N.jsx)("a",{href:" ",style:{fontSize:"13px"},children:e.title}),description:Object(N.jsx)("div",{style:{fontSize:"13px",lineHeight:"0"},children:e.descr})})})}}),Object(N.jsx)(te.i,{dashed:!0,style:{margin:"20px 0px 5px"}}),Object(N.jsx)("div",{style:{margin:"0px 0px 24px"},children:Object(N.jsx)(te.F.Title,{level:4,style:{margin:"18px 0px",fontSize:"18px",fontWeight:"500",lineHeight:"0.9"},children:"Recent Notifications"})}),Re.map((function(e){return Object(N.jsxs)("div",{style:{display:"flex",padding:"17px 6px 12px",backgroundColor:e.bckColor,borderRadius:"2px",marginBottom:"6px"},children:[Object(N.jsx)("div",{style:{padding:"5px 10px 0px 6px"},children:Object(N.jsx)(e.icon,{style:{fontSize:"18px",color:"#ffc85d"},twoToneColor:e.color})}),Object(N.jsxs)("div",{style:{margin:"0 "},children:[Object(N.jsx)(te.F.Title,{level:5,style:{margin:"0",fontSize:"15px",fontWeight:"500",lineHeight:"1"},children:e.title}),Object(N.jsx)(te.F.Text,{type:"secondary",style:{fontSize:"12px",color:"#b8b8b8"},children:e.date})]})]})}))]},"right")})}}]),n}(r.a.Component),Se=[{title:"Warning Alert",date:"21.05.2021- 12:45",icon:je.a,color:"#ffc85d",bckColor:"#fff8d5",see:!0},{title:"Success Alert",date:"21.05.2021- 10:00",icon:be.a,color:"#1bc5bd",bckColor:"#c9f7f5",see:!0},{title:"Error Alert",date:"20.05.2021- 23:00",icon:fe.a,color:"#f64e60",bckColor:"#ffe2e5",see:!1},{title:"Informational Alert",date:"19.05.2021- 22:00",icon:xe.a,color:"#8950fc",bckColor:"#eee5ff",see:!0},{title:"Warning Alert",date:"21.05.2021- 12:45",icon:je.a,color:"#ffc85d",bckColor:"#fff8d5",see:!0},{title:"Success Alert",date:"21.05.2021- 10:00",icon:be.a,color:"#1bc5bd",bckColor:"#c9f7f5",see:!1},{title:"Error Alert",date:"20.05.2021- 23:00",icon:fe.a,color:"#f64e60",bckColor:"#ffe2e5",see:!1},{title:"Informational Alert",date:"19.05.2021- 22:00",icon:xe.a,color:"#8950fc",bckColor:"#eee5ff",see:!0},{title:"Warning Alert",date:"21.05.2021- 12:45",icon:je.a,color:"#ffc85d",bckColor:"#fff8d5",see:!1},{title:"Success Alert",date:"21.05.2021- 10:00",icon:be.a,color:"#1bc5bd",bckColor:"#c9f7f5",see:!0},{title:"Error Alert",date:"20.05.2021- 23:00",icon:fe.a,color:"#f64e60",bckColor:"#ffe2e5",see:!1},{title:"Informational Alert",date:"19.05.2021- 22:00",icon:xe.a,color:"#8950fc",bckColor:"#eee5ff",see:!1},{title:"Warning Alert",date:"21.05.2021- 12:45",icon:je.a,color:"#ffc85d",bckColor:"#fff8d5",see:!0},{title:"Success Alert",date:"21.05.2021- 10:00",icon:be.a,color:"#1bc5bd",bckColor:"#c9f7f5",see:!1},{title:"Error Alert",date:"20.05.2021- 23:00",icon:fe.a,color:"#f64e60",bckColor:"#ffe2e5",see:!0},{title:"Informational Alert",date:"19.05.2021- 22:00",icon:xe.a,color:"#8950fc",bckColor:"#eee5ff",see:!0}],Ce=(N.Fragment,F.a,Se.map((function(e){return Object(N.jsx)(F.a.Item,{style:{display:"contents"},children:Object(N.jsxs)("div",{style:{width:"250px",display:"flex",padding:"2px 2px 1px",borderRadius:"2px",marginBottom:"1px"},children:[Object(N.jsx)("div",{style:{padding:"5px 10px 0px 6px"},children:Object(N.jsx)(e.icon,{style:{fontSize:"18px",color:"#ffc85d"},twoToneColor:e.color})}),Object(N.jsxs)("div",{style:{margin:"0 "},children:[Object(N.jsx)(te.F.Title,{level:5,style:{margin:"0",fontSize:"15px",fontWeight:"500",lineHeight:"1"},children:e.title})," ",Object(N.jsx)(te.F.Text,{type:"secondary",style:{fontSize:"12px",color:"#b8b8b8"},children:e.date})]})]})},"0")})),[{title:"Warning Alert",date:"21.05.2021- 12:45",icon:je.a,color:"#ffc85d",bckColor:"#fff8d5",see:!0},{title:"Success Alert",date:"21.05.2021- 10:00",icon:be.a,color:"#1bc5bd",bckColor:"#c9f7f5",see:!0},{title:"Error Alert",date:"20.05.2021- 23:00",icon:fe.a,color:"#f64e60",bckColor:"#ffe2e5",see:!1},{title:"Informational Alert",date:"19.05.2021- 22:00",icon:xe.a,color:"#8950fc",bckColor:"#eee5ff",see:!0},{title:"Warning Alert",date:"21.05.2021- 12:45",icon:je.a,color:"#ffc85d",bckColor:"#fff8d5",see:!0},{title:"Success Alert",date:"21.05.2021- 10:00",icon:be.a,color:"#1bc5bd",bckColor:"#c9f7f5",see:!1},{title:"Error Alert",date:"20.05.2021- 23:00",icon:fe.a,color:"#f64e60",bckColor:"#ffe2e5",see:!1},{title:"Informational Alert",date:"19.05.2021- 22:00",icon:xe.a,color:"#8950fc",bckColor:"#eee5ff",see:!0},{title:"Warning Alert",date:"21.05.2021- 12:45",icon:je.a,color:"#ffc85d",bckColor:"#fff8d5",see:!1},{title:"Success Alert",date:"21.05.2021- 10:00",icon:be.a,color:"#1bc5bd",bckColor:"#c9f7f5",see:!0},{title:"Error Alert",date:"20.05.2021- 23:00",icon:fe.a,color:"#f64e60",bckColor:"#ffe2e5",see:!1},{title:"Informational Alert",date:"19.05.2021- 22:00",icon:xe.a,color:"#8950fc",bckColor:"#eee5ff",see:!1},{title:"Warning Alert",date:"21.05.2021- 12:45",icon:je.a,color:"#ffc85d",bckColor:"#fff8d5",see:!0},{title:"Success Alert",date:"21.05.2021- 10:00",icon:be.a,color:"#1bc5bd",bckColor:"#c9f7f5",see:!1},{title:"Error Alert",date:"20.05.2021- 23:00",icon:fe.a,color:"#f64e60",bckColor:"#ffe2e5",see:!0},{title:"Informational Alert",date:"19.05.2021- 22:00",icon:xe.a,color:"#8950fc",bckColor:"#eee5ff",see:!0}]),ke=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){return Object(N.jsxs)("div",{style:{overflowY:"scroll",maxHeight:"300px"},children:[Ce.map((function(e){return Object(N.jsxs)("div",{style:{width:"300px",display:"flex",padding:"10px 2px 4px",backgroundColor:e.see?"#fff":"#f5f5f5",borderRadius:"2px",borderBottom:"1px solid #eee"},children:[Object(N.jsx)("div",{style:{padding:"0px 19px 0px 6px"},children:Object(N.jsx)(e.icon,{style:{fontSize:"18px",color:"#ffc85d"},twoToneColor:e.color})}),Object(N.jsxs)("div",{style:{margin:"0 ",width:"100%"},children:[Object(N.jsx)(te.F.Title,{level:5,style:{margin:"0",fontSize:"15px",fontWeight:"500",lineHeight:"1"},children:e.title})," ",Object(N.jsx)(te.F.Text,{type:"secondary",style:{fontSize:"12px",color:"#b8b8b8"},children:e.date})]})]})}))," ",Object(N.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center",fontSize:"13px",fontWeight:"600",color:"#555",backgroundColor:"#fff"},children:"View All"})]})}}]),n}(a.Component),Te=[{title:"Matt Pears",message:"How likely are you to recommend our company to your friends and family?",date:"21.05.2021- 12:45",icon:je.a,color:"#ffc85d",bckColor:"#fff8d5",see:!0},{title:"Success Alert",date:"21.05.2021- 10:00",message:"How likely are you to recommend our company to your friends and family?",icon:be.a,color:"#1bc5bd",bckColor:"#c9f7f5",see:!0},{title:"Error Alert",date:"20.05.2021- 23:00",message:"How likely are you to recommend our company to your friends and family?",icon:fe.a,color:"#f64e60",bckColor:"#ffe2e5",see:!1},{title:"Informational Alert",date:"19.05.2021- 22:00",message:"How likely are you to recommend our company to your friends and family?",icon:xe.a,color:"#8950fc",bckColor:"#eee5ff",see:!0},{title:"Warning Alert",date:"21.05.2021- 12:45",message:"How likely are you to recommend our company to your friends and family?",icon:je.a,color:"#ffc85d",bckColor:"#fff8d5",see:!0},{title:"Success Alert",date:"21.05.2021- 10:00",message:"How likely are you to recommend our company to your friends and family?",icon:be.a,color:"#1bc5bd",bckColor:"#c9f7f5",see:!1},{title:"Error Alert",date:"20.05.2021- 23:00",message:"How likely are you to recommend our company to your friends and family?",icon:fe.a,color:"#f64e60",bckColor:"#ffe2e5",see:!1},{title:"Informational Alert",date:"19.05.2021- 22:00",message:"How likely are you to recommend our company to your friends and family?",icon:xe.a,color:"#8950fc",bckColor:"#eee5ff",see:!0},{title:"Warning Alert",date:"21.05.2021- 12:45",message:"How likely are you to recommend our company to your friends and family?",icon:je.a,color:"#ffc85d",bckColor:"#fff8d5",see:!1},{title:"Success Alert",date:"21.05.2021- 10:00",message:"How likely are you to recommend our company to your friends and family?",icon:be.a,color:"#1bc5bd",bckColor:"#c9f7f5",see:!0},{title:"Error Alert",date:"20.05.2021- 23:00",icon:fe.a,message:"How likely are you to recommend our company to your friends and family?",color:"#f64e60",bckColor:"#ffe2e5",see:!1},{title:"Informational Alert",date:"19.05.2021- 22:00",message:"How likely are you to recommend our company to your friends and family?",icon:xe.a,color:"#8950fc",bckColor:"#eee5ff",see:!1},{title:"Warning Alert",date:"21.05.2021- 12:45",message:"How likely are you to recommend our company to your friends and family?",icon:je.a,color:"#ffc85d",bckColor:"#fff8d5",see:!0},{title:"Success Alert",date:"21.05.2021- 10:00",icon:be.a,message:"How likely are you to recommend our company to your friends and family?",color:"#1bc5bd",bckColor:"#c9f7f5",see:!1},{title:"Error Alert",date:"20.05.2021- 23:00",icon:fe.a,message:"How likely are you to recommend our company to your friends and family?",color:"#f64e60",bckColor:"#ffe2e5",see:!0},{title:"Informational Alert",date:"19.05.2021- 22:00",message:"How likely are you to recommend our company to your friends and family?",icon:xe.a,color:"#8950fc",bckColor:"#eee5ff",see:!0}],Le=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{style:{overflowY:"scroll",maxHeight:"300px"},children:[Te.map((function(t){return Object(N.jsxs)("div",{style:{width:"350px",display:"flex",padding:"10px 2px 4px",backgroundColor:t.see?"#fff":"#f5f5f5",borderRadius:"2px",borderBottom:"1px solid #eee"},children:[Object(N.jsx)("div",{style:{padding:"0px 10px 0px 6px"},children:Object(N.jsx)(te.c,{status:"success",offset:[-5,29],className:"template-dms-badge template-avatar",children:Object(N.jsx)(te.b,{src:Object(N.jsx)(te.m,{preview:!1,src:e.props.userPhoto}),size:32})})}),Object(N.jsxs)("div",{style:{margin:"0 ",width:"300px"},children:[Object(N.jsx)(te.F.Title,{level:5,style:{margin:"0",fontSize:"15px",fontWeight:"500",lineHeight:"1"},children:t.title})," ",Object(N.jsx)(te.F.Text,{style:{fontSize:"13px",color:"#bbb",display:"flex",whiteSpace:"nowrap",overflow:"hidden"},children:t.message}),Object(N.jsx)(te.F.Text,{type:"secondary",style:{fontSize:"12px",color:"#b8b8b8"},children:t.date})]})]})}))," ",Object(N.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center",fontSize:"13px",fontWeight:"600",color:"#555",backgroundColor:"#fff"},children:"View All"})]})}}]),n}(a.Component),Ie=Object(N.jsxs)("div",{style:{fontSize:"16px",padding:"10px",fontWeight:"600",color:"rgb(37 32 69)"},children:[Object(N.jsx)($.a,{twoToneColor:"#0a304e"})," Message"]}),Pe=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).settingRef=r.a.createRef(),a.compteRef=r.a.createRef(),a.state={drawarSetting:!0,userDatas:[]},a}return Object(I.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onSearch,a=t.userPhoto,r=t.goto;this.state.userDatas;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(le,{ref:this.settingRef,visible:function(t){e.setState({drawarSetting:t}),e.props.Drawervisible(t)},hostStorage:this.props.hostStorage}),Object(N.jsx)(we,{goto:function(e){return r(e)},ref:this.compteRef,profil:a,user:this.props.user,hostStorage:this.props.hostStorage,visible:function(e){}}),Object(N.jsx)(A.a.Header,{className:"header",style:{padding:"0px",paddingRight:this.state.drawarSetting?"8px":"358px",position:"fixed",zIndex:3,height:"48px",lineHeight:"48px",width:"100%"},children:Object(N.jsxs)(D.a,{justify:"space-between",align:"middle",wrap:!1,children:[Object(N.jsx)(U.a,{flex:"80px",style:{display:"flex",justifyContent:"center"},children:Object(N.jsx)("svg",{version:"1.1",style:{width:"28px",height:"28px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 110.6",children:Object(N.jsxs)("g",{fill:"#fff",children:[Object(N.jsx)("path",{d:"M91,38.8L53.8,1.6c-2.1-2.1-5.5-2.1-7.6,0l-8.5,8.5l41,41c5.2,5.2,5.2,13.7,0,19L59.5,89.2\r c-5.2,5.2-13.7,5.2-19,0L21.3,70c-5.2-5.2-5.2-13.7,0-19l16.3-16.3L25.3,22.4L9,38.8c-12,12-12,31.6,0,43.6l19.2,19.2\r c12,12,31.6,12,43.6,0L91,82.4C103,70.3,103,50.8,91,38.8z"}),Object(N.jsx)("path",{d:"M52.5,70l8.1-8.1c1.2-1.2,1.2-3.1,0-4.3L50.4,47.5L40.2,57.7c-1.2,1.2-1.2,3.1,0,4.3l8.1,8.1\r C49.4,71.1,51.3,71.1,52.5,70z"})]})})})," ",Object(N.jsx)(U.a,{flex:"auto",style:{display:"flex",justifyContent:"start"},children:Object(N.jsx)("div",{style:{width:"539px"},children:Object(N.jsx)(B.a,{prefix:Object(N.jsx)(Y.a,{style:{color:"#bbb"}}),placeholder:"Search",enterButton:!0,onSearch:n})})}),Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(D.a,{align:"top",justify:"end",children:Object(N.jsxs)(z.b,{size:0,children:[Object(N.jsx)(q.a,{type:"link",icon:Object(N.jsx)(K.a,{className:"header-icon-color"}),size:"large",onClick:function(){e.settingRef.current.showDrawer(),console.log("",e.settingRef.current.state.visible),e.setState({drawarSetting:e.settingRef.current.state.visible})},className:"trigger"}),Object(N.jsxs)(te.s,{className:"header-menu",placement:"bottomLeft",title:Ie,content:Object(N.jsx)(Le,{userPhoto:a}),trigger:"click",children:[Object(N.jsx)(q.a,{type:"link",icon:Object(N.jsx)(H.a,{className:"site-badge-count-109",count:7,size:"small",style:{backgroundColor:"#52c41a"},children:Object(N.jsx)(X.a,{className:"header-icon-color"})}),size:"large",className:"trigger"})," "]}),Object(N.jsxs)(te.s,{className:"header-menu",placement:"bottomLeft",title:Object(N.jsxs)("div",{style:{fontSize:"16px",padding:"10px",fontWeight:"600",color:"rgb(37 32 69)"},children:[Object(N.jsx)(Z.a,{twoToneColor:"#0a304e"})," Notifications"]}),content:Object(N.jsx)(ke,{}),trigger:"click",children:[" ",Object(N.jsx)(q.a,{type:"link",icon:Object(N.jsx)(H.a,{size:"small",count:5,children:Object(N.jsx)(J.a,{className:"header-icon-color"})}),size:"large",className:"trigger"})]}),Object(N.jsxs)(_.a.Text,{className:"header-icon-color",style:{paddingRight:"12px",paddingLeft:"8px"},children:["HI! ",!!this.props.user&&this.props.user.username]}),Object(N.jsx)(H.a,{status:"success",offset:[-5,29],className:"template-dms-badge template-avatar",children:Object(N.jsx)(G.a,{src:Object(N.jsx)(W.a,{preview:!1,src:this.props.user&&null!=this.props.user.MUTPHOTOS?this.props.user.MUTPHOTOS:a}),size:32,onClick:function(){e.compteRef.current.showDrawer()},icon:Object(N.jsx)(Q.a,{})})})]})})})]})})]})}}]),n}(a.Component),Ve=(n(471),n(472),n(10)),Ae=n(93),De=n(522),Ue=n(83),Fe=n(140),Ne=n(68),Ee=n(523),Me=n(524),Be=n(525),ze=n(526),qe=n(274),He=n(196),_e=n(504),Ge=n(270),We=n(498),$e=n(156),Ye=Object(N.jsxs)(F.a,{children:[Object(N.jsx)(F.a.Item,{children:Object(N.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.alipay.com/",children:"General"})}),Object(N.jsx)(F.a.Item,{children:Object(N.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.taobao.com/",children:"Layout"})}),Object(N.jsx)(F.a.Item,{children:Object(N.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.tmall.com/",children:"Navigation"})})]}),Ke=We.a.confirm,Xe=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).onChange=function(e,t){console.log("Selected Time: ",e),console.log("Formatted Selected Time: ",t,a.state.dateFinDesactiver),a.setState({dateFinDesactiver:t})},a.state={index:0,length:0,dateFinDesactiver:null},a}return Object(I.a)(n,[{key:"showConfirm",value:function(e,t,n,a,r){Ke({title:e,icon:t,content:n,onOk:function(){null!=a&&a()},onCancel:function(){null!=r&&r()}})}},{key:"goBack",value:function(){var e=this.props.history;e.current.history.goBack(),this.setState({index:e.current.history.index,length:e.current.history.length})}},{key:"goForward",value:function(){var e=this.props.history;e.current.history.goForward(),this.setState({index:e.current.history.index,length:e.current.history.length})}},{key:"goTo",value:function(e){console.log("------------------debut-GoTo-"+e+"------------------");var t=this.props.history;t.current.history.push(e),console.log("Location courante => :",t.current.history.location),this.setState({index:t.current.history.index,length:t.current.history.length}),console.log("-------------------fin-GoTo-"+e+"-------------------")}},{key:"onOk",value:function(e){console.log("onOk: ",e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.history,a=t.validerformulaire,r=t.disableFValiditer,s=t.onReset,o=t.onSubmit,c=t.activerUpdate,d=t.disabelEditButton,u=t.removeElem,p=t.route;return Object(N.jsxs)(D.a,{align:"middle",justify:"start",children:[Object(N.jsx)(U.a,{span:10,style:{display:"flex",color:"#fff"},children:Object(N.jsxs)(_e.a,{className:"header-tabs-text-secandary",children:[" ",Object(N.jsx)(_e.a.Item,{children:"Profile"}),Object(N.jsx)(_e.a.Item,{children:"listes"}),Object(N.jsx)(_e.a.Item,{overlay:Ye,children:"detail"}),Object(N.jsx)(_e.a.Item,{className:"header-tabs-text-primary",children:"administrateur"})]})}),Object(N.jsx)(U.a,{span:14,style:{display:"flex",justifyContent:"flex-end"},children:Object(N.jsxs)(z.b,{size:15,children:[Object(N.jsxs)(z.b,{size:0,children:[Object(N.jsx)(q.a,{icon:Object(N.jsx)(Ae.a,{}),className:"trigger",disabled:null!=n.current&&0===n.current.history.index,onClick:function(){a?e.goBack():e.showConfirm("Are you sure you want to leave this page?",Object(N.jsx)($e.a,{})," You will lose all change made.  Press OK to continue, or Cancel to stay on the current page. ",(function(){r(),e.goBack()}),null)}}),Object(N.jsx)(q.a,{icon:Object(N.jsx)(De.a,{}),className:"trigger",type:"primary",onClick:function(){a?e.goTo(p.search):e.showConfirm("Are you sure you want to leave this page?",Object(N.jsx)($e.a,{})," You will lose all change made. Press OK to continue, or Cancel to stay on the current page.",(function(){r(),e.goTo(p.search)}),null)}}),Object(N.jsx)(q.a,{icon:Object(N.jsx)(Ue.a,{}),className:"trigger",disabled:null!=n.current&&n.current.history.index===n.current.history.length-1,onClick:function(){a?e.goForward():e.showConfirm("Are you sure you want to leave this page?",Object(N.jsx)($e.a,{})," You will lose all change made.  Press OK to continue, or Cancel to stay on the current page. ",(function(){r(),e.goForward()}),null)}})]}),Object(N.jsxs)(z.b,{size:0,children:[Object(N.jsx)(q.a,{icon:Object(N.jsx)(Fe.a,{style:{color:a?"":"#52c41a"}}),className:"trigger",disabled:a,onClick:function(){e.showConfirm("Are you sure you want to submit?",Object(N.jsx)($e.a,{})," ",Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o();case 1:case"end":return e.stop()}}),e)}))),null)}}),Object(N.jsx)(q.a,{icon:Object(N.jsx)(Ne.a,{style:{color:a?"":"#ff4d4f"}}),disabled:a,onClick:function(){r(),s()},className:"trigger"}),Object(N.jsx)(q.a,{icon:Object(N.jsx)(Ee.a,{}),onClick:function(){Ge.b.loading({content:"Loading...",duration:2.5,style:{marginTop:"6vh"}})},className:"trigger"}),Object(N.jsx)(q.a,{icon:Object(N.jsx)(Me.a,{}),onClick:function(){},className:"trigger"}),Object(N.jsx)(q.a,{icon:Object(N.jsx)(Be.a,{}),className:"trigger"}),Object(N.jsx)(q.a,{icon:Object(N.jsx)(ze.a,{}),onClick:function(){n.current.history.push(p.create),e.setState({index:n.current.history.index,length:n.current.history.length})},className:"trigger"}),Object(N.jsx)(q.a,{icon:Object(N.jsx)(qe.a,{}),className:"trigger",disabled:d,onClick:function(){c()}}),Object(N.jsx)(q.a,{icon:Object(N.jsx)(He.a,{}),disabled:d,className:"trigger",onClick:function(){e.showConfirm("Are you sure you want to delete this profile?",Object(N.jsx)(He.a,{style:{color:"#ff4d4f"}}),Object(N.jsxs)(z.b,{direction:"vertical",size:12,children:[Object(N.jsx)(te.h,{showTime:!0,onChange:e.onChange,onOk:e.onOk})," ","This profile will be removed from database. Press OK to continue, or Cancel to stay on the current page."]}),(function(){var t=e.state.dateFinDesactiver;u(t)}),null)}})]})]})})]})}}]),n}(a.Component),Ze=n(59),Je=n(527),Qe=n(277),et=Object(N.jsx)(Je.a,{style:{fontSize:16,color:"#1890ff"}}),tt=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onSearch=function(t,n){console.log(e.props.history),e.props.goTo("AdvancedSearchPath")},e}return Object(I.a)(n,[{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{style:{height:"100%",width:"100%",paddingTop:"90px"},children:[Object(N.jsx)(te.a,{offsetTop:150,style:{position:"fixed",left:"95%",top:"90%"},children:Object(N.jsx)(te.d,{type:"primary",shape:"circle",size:"large",onClick:function(){return e.props.goTo("CreationPath")},children:Object(N.jsx)(Qe.a,{})})}),Object(N.jsxs)(D.a,{gutter:[16,0],align:"middle",justify:"space-around",children:[Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(z.b,{children:Object(N.jsx)("img",{src:"./search3.png",alt:"ooo",style:{width:"410px"}})})}),Object(N.jsx)(U.a,{span:10,children:Object(N.jsx)(B.a.Search,{placeholder:"what are you looking for ?",enterButton:"Search",size:"large",suffix:et,onSearch:this.onSearch})})]})]})}}]),n}(a.Component),nt=(Object(Ze.i)(tt),n(7)),at=n(28),rt=n(490),st=n(27),ot=n(528),ct=[],it=1;it<=100;it++)ct.push({key:it,US_EMAIL:"John Brown",US_NOMUSR:"".concat(it,"2"),US_PRNUSR:"New York No. ".concat(it," Lake Park"),US_TYPUSR:"My name is John Brown, I am ".concat(it,"2 years old, living in New York No. ").concat(it," Lake Park.")});for(var lt={expandedRowRender:function(e){return Object(N.jsx)("p",{children:e.description})}},dt={position:"bottom"},ut=[],pt=1;pt<=1;pt++)ut.push({titre:"Vue syst\xe9me "+pt,check:!0});for(var ht=[],jt=1;jt<=3;jt++)ht.push({titre:"Vues personnalis\xe9s "+jt,check:!1});for(var bt=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={bordered:!1,loading:!1,pagination:dt,columns:[{title:"Email",dataIndex:"US_EMAIL",sorter:function(e,t){return e.age-t.age}},{title:"Nom",dataIndex:"US_NOMUSR",filters:[{text:"London",value:"London"},{text:"New York",value:"New York"}],onFilter:function(e,t){return 0===t.address.indexOf(e)}},{title:"Prenom",dataIndex:"US_PRNUSR"},{title:"Type",dataIndex:"US_TYPUSR"},{title:"",key:"action",render:function(t,n){var a;return Object(N.jsxs)(te.v,{size:"middle",style:{display:"flex",justifyContent:"flex-end"},children:[Object(N.jsx)(te.d,(a={className:"dms-button-info dms-button dms",onClick:function(){return console.log("see",n.key)},shape:"circle"},Object(Ve.a)(a,"onClick",(function(){return e.props.history.push("UpdatePath/"+n.key)})),Object(Ve.a)(a,"icon",Object(N.jsx)(ot.a,{})),Object(Ve.a)(a,"size","small"),a)),Object(N.jsx)(te.d,{className:"dms-button-valide dms-button dms",onClick:function(){return console.log("edit",n.key)},shape:"circle",icon:Object(N.jsx)(qe.a,{}),size:"small"}),Object(N.jsx)(te.d,{className:"dms-button-error dms-button dms",shape:"circle",icon:Object(N.jsx)(He.a,{}),onClick:function(){return console.log("delete",n.key)},size:"small"})]})}}],expandable:lt,showHeader:!0,rowSelection:{},scroll:void 0,hasData:!0,tableLayout:void 0,top:"none",bottom:"bottomRight"},e}return Object(I.a)(n,[{key:"render",value:function(){var e=this.state,t=e.xScroll,n=e.yScroll,a=Object(at.a)(e,["xScroll","yScroll"]),r={};n&&(r.y=240),t&&(r.x="100vw");var s=this.state.columns.map((function(e){return Object(nt.a)(Object(nt.a)({},e),{},{ellipsis:a.ellipsis})}));return"fixed"===t&&(s[0].fixed=!0,s[s.length-1].fixed="right"),Object(N.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(N.jsx)(te.g,Object(nt.a)(Object(nt.a)({className:"template-dms"},this.state),{},{vues:{vueSysteme:ut,vuesPersonnalises:ht},size:"small",pagination:{position:[this.state.top,this.state.bottom]},columns:s,dataSource:a.hasData?ct:null,scroll:r}))})}}]),n}(a.Component),ft=Object(Ze.i)(bt),xt=te.A.TabPane,mt=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Ot="Le champ ${label} is not a valid ${type}",gt={required:"Le champ ${label} is Required!",default:"Validation error on field '${name}'",enum:"Le champ ${label} must be one of [${enum}]",whitespace:"Le champ ${label} cannot be empty",date:{format:"Le champ ${label} is invalid for format date",parse:"Le champ ${label} could not be parsed as date",invalid:"Le champ ${label} is invalid date"},types:{string:Ot,method:Ot,array:Ot,object:Ot,number:Ot,date:Ot,boolean:Ot,integer:Ot,float:Ot,regexp:Ot,email:Ot,url:Ot,hex:Ot},string:{len:"Le champ ${label} must be exactly ${len} characters",min:"Le champ ${label} must be at least ${min} characters",max:"Le champ ${label} cannot be longer than ${max} characters",range:"Le champ ${label} must be between ${min} and ${max} characters"},number:{len:"Le champ ${label} must equal ${len}",min:"Le champ ${label} cannot be less than ${min}",max:"Le champ ${label} cannot be greater than ${max}",range:"Le champ ${label} must be between ${min} and ${max}"},array:{len:"Le champ ${label} must be exactly ${len} in length",min:"Le champ ${label} cannot be less than ${min} in length",max:"Le champ ${label} cannot be greater than ${max} in length",range:"Le champ ${label} must be between ${min} and ${max} in length"},pattern:{mismatch:"Le champ ${label} does not match pattern ${pattern}"}},yt=(function(e){var t=function(t){Object(P.a)(a,t);var n=Object(V.a)(a);function a(){return Object(L.a)(this,a),n.apply(this,arguments)}return Object(I.a)(a,[{key:"render",value:function(){var t=this.props,n=t.forwardRef,a=Object(at.a)(t,["forwardRef"]);return Object(N.jsx)(e,Object(nt.a)(Object(nt.a)({},a),{},{ref:n}))}}]),a}(r.a.Component),n=Object(Ze.i)(t,{withRef:!0})}(function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).formRef=r.a.createRef(),a.onGenderChange=function(e){switch(e){case"male":return void a.formRef.current.setFieldsValue({note:"Hi, man!"});case"female":return void a.formRef.current.setFieldsValue({note:"Hi, lady!"});case"other":a.formRef.current.setFieldsValue({note:"Hi theres!"});break;default:return}},a.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.props.onFormulaireChange(!0),Ge.b.loading("Action in progress..",2.5).then((function(){return Ge.b.success("Loading finished",2.5)})).then((function(){return Ge.b.info("Loading finished is finished",2.5)})),e.next=4,mt(750);case 4:a.props.goTo("AdvancedSearchPath");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){a.formRef.current.submit(),console.log(a.formRef.current)},a.onReset=function(){a.formRef.current.resetFields(),a.setState({changecome:!1})},a.onFill=function(){a.formRef.current.setFieldsValue({note:"Hello world!",gender:"male"})},a.handleInputChange=function(e){a.state.changecome||(a.props.onFormulaireChange(!1),a.setState({changecome:!0}))},a.CleanInputChange=function(e){a.setState({changecome:!1}),a.setState({datas:{}}),console.log("datas: ",a.state.datas)},a.state={changecome:!1,loading:!1,form:{},datas:{US_EMAIL:"",US_NOMUSR:"",US_PRNUSR:"",US_TYPUSR:""}},a}return Object(I.a)(n,[{key:"loading",value:function(e){this.setState({loading:e})}},{key:"componentDidMount",value:function(){console.log(this.props.match.params.id,"identi")}},{key:"render",value:function(){var e=this;return Object(N.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(N.jsx)(te.w,{spinning:this.state.loading,delay:500,children:Object(N.jsxs)(D.a,{gutter:16,children:[Object(N.jsx)(U.a,{span:24,children:Object(N.jsxs)(D.a,{gutter:16,justify:"start",align:"stretch",children:[Object(N.jsx)(U.a,{span:2,children:Object(N.jsx)(this.props.icon,{style:{fontSize:"675%",color:"#2d2650d1"}})}),Object(N.jsxs)(U.a,{span:22,style:{padding:"5px"},children:[Object(N.jsx)(rt.a,{className:"border-main-content",orientation:"left",style:{margin:"-12px 0px"},children:"Information"})," ",Object(N.jsx)(st.b,{form:{validateMessages:gt},children:Object(N.jsxs)(te.l,{ref:this.formRef,name:"control-ref",onFinish:this.onFinish,children:[" ",Object(N.jsxs)(D.a,{gutter:[10,0],className:"border-main-content-2",style:{marginRight:"-2px",marginLeft:"-2px",padding:"22px 10px 9px 10px",borderRadius:"3px",borderWidth:"0px 2px 2px 2px",borderStyle:"solid"},children:[this.props.services.getformulaire().map((function(t){return Object(N.jsx)(U.a,{span:t.spann,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"10px"},label:t.title,name:t.dataIndex,rules:[{required:!0,max:t.max}],children:Object(N.jsx)(B.a,{onChange:e.handleInputChange})})})})})}))," "]})]})})]})]})}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)("div",{children:Object(N.jsx)(te.A,{type:"card",className:"tabs-formulaire dms-tabs",children:Object(N.jsx)(xt,{tab:Object(N.jsx)(te.y,{title:"Utilisateur"}),children:Object(N.jsx)("div",{className:"template-tabs-panel",children:Object(N.jsx)(ft,{})})},"1")})})})]})})})}}]),n}(a.Component)),n(474),[]),vt=1;vt<=100;vt++)yt.push({key:vt,PF_PRFINT:vt+9,PF_LIBPRF:"libele",PF_APPLI:"application",PF_LANGUE:"francer",PF_NIVACC:"".concat(vt,"2")});for(var Rt={expandedRowRender:function(e){return Object(N.jsx)("p",{children:e.description})}},wt={position:"bottom"},St=[],Ct=1;Ct<=1;Ct++)St.push({titre:"Vue syst\xe9me "+Ct,check:!0});for(var kt=[],Tt=1;Tt<=3;Tt++)kt.push({titre:"Vues personnalis\xe9s "+Tt,check:!1});for(var Lt=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={bordered:!1,loading:!1,pagination:wt,columns:[{title:"MPRLIBCOUR",dataIndex:"MPRLIBCOUR",ellipsis:{showTitle:!1},render:function(e){return Object(N.jsx)(te.D,{placement:"topLeft",title:e,children:e})}},{title:"MPRLIBLONG",dataIndex:"MPRLIBLONG",sorter:function(e,t){return e.age-t.age}},{title:"MPRNIVACC",dataIndex:"MPRNIVACC",filters:[{text:"francer",value:"francer"},{text:"English",value:"English"}],onFilter:function(e,t){return 0===t.PF_LANGUE.indexOf(e)}},{title:"MPRPRFEXT",dataIndex:"MPRPRFEXT"},{title:" ",key:"action",width:100,render:function(t,n){var a;return Object(N.jsxs)(te.v,{size:"middle",style:{display:"flex",justifyContent:"start"},children:[Object(N.jsx)(te.d,(a={className:"dms-button-info dms-button dms",onClick:function(){return console.log("see",n.PF_PRFINT)},shape:"circle"},Object(Ve.a)(a,"onClick",(function(){return e.props.goTo("UpdatePath/"+n.PF_PRFINT)})),Object(Ve.a)(a,"icon",Object(N.jsx)(ot.a,{})),Object(Ve.a)(a,"size","small"),a)),Object(N.jsx)(te.d,{className:"dms-button-error dms-button dms",shape:"circle",icon:Object(N.jsx)(He.a,{}),onClick:function(){return console.log("delete",n.PF_PRFINT)},size:"small"})]})}}],datass:[],expandable:Rt,showHeader:!0,rowSelection:{},scroll:void 0,hasData:!0,tableLayout:void 0,top:"none",bottom:"bottomRight"},e}return Object(I.a)(n,[{key:"componentDidMount",value:function(){this.getData(),this.getColumn()}},{key:"getData",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("resulta:",this.props.service),e.next=4,p.a.get(this.props.service,{headers:{Authorization:"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNjIyODQzODUwLCJqdGkiOiJiNzE3NjVkYjZhYmM0MWNmYWQ0ZGFmMWE3N2I0NTBmOSIsInVzZXJfaWQiOjIzLCJNVVRQUk9GSUQiOnsiSURfUk9XSUQiOjEsIkRDUkUiOiIyMDIxLTA2LTAyVDE2OjU2OjA0WiIsIkRNQUoiOiIyMDIxLTA2LTAyVDE2OjU2OjA4WiIsIk1QUlBSRkVYVCI6IkFVVEgwMDEiLCJNUFJMSUJMT05HIjoiQVVUSEFETUlOIiwiTVBSTElCQ09VUiI6ImFkbSIsIk1QUk5JVkFDQyI6MSwiVVRJTCI6bnVsbH19.1-Bvlo6RW2AWON1Dbs5DUtZSjIyk_s_fyhDY2hrPS74","Content-Type":"application/json",accept:"application/json"}}).then((function(e){console.log("app    =>   : ",e.data),t.setState({datass:e.data})}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("error2 :",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"getColumn",value:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.xScroll,n=e.yScroll,a=Object(at.a)(e,["xScroll","yScroll"]),r={};n&&(r.y=240),t&&(r.x="100vw");var s=this.state.columns.map((function(e){return Object(nt.a)(Object(nt.a)({},e),{},{ellipsis:a.ellipsis})}));return"fixed"===t&&(s[0].fixed=!0,s[s.length-1].fixed="right"),Object(N.jsx)("div",{style:{height:"100vh",width:"100%"},children:Object(N.jsx)(te.g,Object(nt.a)(Object(nt.a)({className:"template-dms"},this.state),{},Object(Ve.a)({vues:{vueSysteme:St,vuesPersonnalises:kt},size:"small",columns:s,dataSource:a.hasData?this.state.datass:null,scroll:r},"scroll",{y:400})))})}}]),n}(a.Component),It=(Object(Ze.i)(Lt),te.A.TabPane),Pt=A.a.Content,Vt=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;Object(L.a)(this,n),(a=t.call(this,e)).showDrawer=function(){a.setState({visible:!0})},a.onClose=function(){a.setState({visible:!1,titre:"",content:""}),a.state.enClose&&a.state.enClose()},a.onChange=function(e){a.setState({activeKey:e})},a.onEdit=function(e,t){a[t](e)},a.add=function(e,t,n,s,o,c,i){var l=a.state.panes,d=s+"";l.some((function(e){return e.key===d}))?a.setState({activeKey:d}):(l.push({title:e,content:n,key:d,icon:t,services:o,service:c,composant:i,routeRef:r.a.createRef(),refHeader:r.a.createRef()}),a.setState({panes:l,activeKey:d}))},a.remove=function(e){var t,n=a.state,r=n.panes,s=n.activeKey;r.forEach((function(n,a){n.key===e&&(t=a-1)}));var o=r.filter((function(t){return t.key!==e}));o.length&&s===e&&(s=t>=0?o[t].key:o[0].key),a.setState({panes:o,activeKey:s})},a.newTabIndex=0,a.routeRef=r.a.createRef(),a.refHeader=r.a.createRef();var s=[];return a.state={titre:"",content:"",enClose:null,width:350,activeKey:null!=s[0]?s[0].key:null,panes:s,refs:"[]",validerformulaire:!0,disabelEditButton:!0,history:a.routeRef,visible:!1},a}return Object(I.a)(n,[{key:"render",value:function(){var e=this;return Object(N.jsx)("div",{style:{height:"100%"},children:Object(N.jsx)(te.A,{style:{height:"100%"},hideAdd:!0,className:"dms-tabs",onChange:this.onChange,activeKey:this.state.activeKey,type:"iconic-closable",onEdit:this.onEdit,children:this.state.panes!==[]&&this.state.panes.map((function(t){var n;return Object(N.jsx)(It,{tab:Object(N.jsx)(te.y,{title:t.title,icon:Object(N.jsx)(t.icon,{}),onClose:function(n){return e.onEdit(t.key,"remove")}}),children:Object(N.jsx)(Pt,{className:"content-tab",style:{margin:"0px 0px 0",height:"84vh",overflow:"initial",borderRadius:"2px"},children:Object(N.jsxs)("div",{className:"site-layout-background",style:{textAlign:"center"},children:[Object(N.jsx)(D.a,{className:"header-tab",style:{padding:"10px",margin:"0px 0px",borderRadius:"4px 4px 0px 0px"},children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(Xe,{ref:t.refHeader,route:null!=t.routeRef.current?t.routeRef.current.Route:{search:"HomeSearchPath",create:"CreationPath",update:"UpdatePath/",result:"AdvancedSearchPath"},disableFValiditer:function(){return e.setState({validerformulaire:!0})},disabelEditButton:e.state.disabelEditButton,activerUpdate:function(){return t.routeRef.current.activerUpdate()},onSubmit:function(){return t.routeRef.current.onSubmit()},onReset:function(){t.routeRef.current.onReset()},CleanInputChange:function(){return t.routeRef.current.CleanInputChange()},loading:function(e){return t.routeRef.current.loadingFormulaire(e)},validerformulaire:e.state.validerformulaire,history:t.routeRef,removeElem:function(e){return t.routeRef.current.removeElem(e)}})})}),Object(N.jsx)("div",{className:"site-drawer-render-in-current-wrapper",style:{height:"100%",overflow:"hidden"},children:Object(N.jsx)(D.a,{align:"stretch",style:{height:"81vh",margin:"0px 1px",alignContent:"center",overflowY:"auto",overflowX:"inherit"},children:Object(N.jsxs)(U.a,{span:24,style:{height:"100%",width:"100%",padding:"10px"},children:[Object(N.jsx)(te.j,(n={className:"demimask",style:{height:"100%"},title:e.state.titre,placement:"right",closable:!1,width:e.state.width,onClose:e.onClose,visible:e.state.visible,getContainer:!1},Object(Ve.a)(n,"style",{position:"absolute"}),Object(Ve.a)(n,"children",e.state.content),n))," ",Object(N.jsx)(t.composant,{showDrawer:e.showDrawer,closeDrawer:function(){return e.onClose()},setDrawerState:function(t,n,a,r){return e.setState({titre:t,content:n,width:a,enClose:function(){return r()}})},services:t.services,disabelEditButton:function(t){return e.setState({disabelEditButton:t})},hostStorage:e.props.hostStorage,service:t.service,icon:t.icon,goTo:function(e){return t.refHeader.current.goTo(e)},ref:t.routeRef,onFormulaireChange:function(t){return e.setState({validerformulaire:t})}})]})})})," "]})})},t.key)}))})})}}]),n}(r.a.Component),At=function(e){return console.log(e)},Dt=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).toggle=function(){a.setState({collapsed:!a.state.collapsed})},a.refTabs=r.a.createRef(),a.state={collapsed:!0,drawarSetting:!0},a}return Object(I.a)(n,[{key:"nouvelOnglet",value:function(e,t,n,a,r,s,o){this.refTabs.current.add(e,t,n,a,r,s,o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.logo,a=t.userPhoto,r=t.minLogo,s=t.menu,o=t.goto;return Object(N.jsx)("div",{className:"default-theme",style:{height:"100%"},children:Object(N.jsx)("div",{className:"dms-layout",style:{height:"100%"},children:Object(N.jsxs)(A.a,{className:"layout-principale bck-image",style:{marginRight:this.state.drawarSetting?"0px":"350px",height:"100%"},children:[Object(N.jsx)(M,{logo:n,menu:s,minLogo:r,collapsed:this.state.collapsed,hostStorage:this.props.hostStorage,nouvelOnglet:function(t,n,a,r,s,o,c){return e.nouvelOnglet(t,n,a,r,s,o,c)}}),Object(N.jsx)(Pe,{goto:function(e){return o(e)},userPhoto:a,user:this.props.user,hostStorage:this.props.hostStorage,collapsed:this.state.collapsed,toggle:this.toggle,onSearch:At,logo:n,Drawervisible:function(t){return e.setState({drawarSetting:t})},minLogo:r}),Object(N.jsx)(A.a,{className:"site-layout",style:{height:"100%",marginLeft:this.state.collapsed?80:200,paddingTop:48,display:"block",overflow:"auto"},children:Object(N.jsx)(Vt,{ref:this.refTabs,hostStorage:this.props.hostStorage})})]})})})}}]),n}(r.a.Component),Ut=n(556),Ft=n(557),Nt=n(558),Et=Object(N.jsx)(Je.a,{style:{fontSize:16,color:"#1890ff"}}),Mt=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onSearch=function(t){console.log("------------------debut-onSearch------------------"),console.log("Rechercher par => :",t),e.props.goTo("AdvancedSearchPath?search="+t),console.log("-------------------fin-onSearch-------------------")},e}return Object(I.a)(n,[{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{style:{height:"100%",width:"100%",paddingTop:"90px"},children:[Object(N.jsx)(te.a,{offsetTop:150,style:{position:"fixed",left:"95%",top:"90%"},children:Object(N.jsx)(te.d,{type:"primary",shape:"circle",size:"large",onClick:function(){return e.props.goTo("CreationPath")},children:Object(N.jsx)(Qe.a,{})})}),Object(N.jsxs)(D.a,{gutter:[16,30],align:"middle",justify:"space-around",children:[Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(z.b,{children:Object(N.jsx)("img",{src:"./search3.png",alt:"ooo",style:{width:"410px"}})})}),Object(N.jsx)(U.a,{span:10,children:Object(N.jsx)(B.a.Search,{placeholder:"what are you looking for ?",enterButton:"Search",size:"large",suffix:Et,onSearch:function(t){return e.onSearch(t)}})})]})]})}}]),n}(a.Component),Bt=Object(Ze.i)(Mt),zt=n(37),qt=n(499),Ht=n(497),_t=function(e,t){return-1!==e.indexOf(t)},Gt=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map((function(t){var a=t.children,r=Object(at.a)(t,["children"]);return Object(nt.a)(Object(nt.a)({},r),{},{disabled:n.includes(r.key),children:e(a,n)})}))},Wt=r.a.forwardRef((function(e,t){var n=e.dataSource,r=e.targetKeys,s=Object(at.a)(e,["dataSource","targetKeys"]);Object(a.useImperativeHandle)(t,(function(){return{gettargetKeys:function(){return r}}}));var o=[];return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){o.push(t),e(t.children)}))}(n),Object(N.jsx)(qt.a,Object(nt.a)(Object(nt.a)({},s),{},{targetKeys:r,dataSource:o,className:"tree-transfer profile",render:function(e){return e.title},showSelectAll:!1,style:{backgroundColor:"#fff"},children:function(e){var t=e.direction,a=e.onItemSelect,s=e.selectedKeys;if("left"===t){var o=[].concat(Object(ae.a)(s),Object(ae.a)(r));return Object(N.jsx)(Ht.a,{checkable:!0,defaultExpandAll:!0,autoExpandParent:!0,checkedKeys:o,treeData:Gt(n,r),onCheck:function(e,t){var n=t.node.key;console.log(r),n.includes("app")||"base"==n?a(n,!1):a(n,!_t(o,n))},onSelect:function(e,t){var n=t.node.key;n.includes("app")||"base"==n?a(n,!1):a(n,!_t(o,n))}})}}}))})),$t=function(e,t,n){return me.post(x+"DMERP/v1/menusprofile/",t,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}})},Yt=function(e,t,n){return me.delete("".concat(e).concat(t),{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}})},Kt=function(e,t){return me.get(x+"DMERP/v1/menus/application/"+e,{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json",accept:"application/json"}})},Xt=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Zt="Le champ ${label} is not a valid ${type}",Jt={required:"Le champ ${label} is Required!",default:"Validation error on field '${name}'",enum:"Le champ ${label} must be one of [${enum}]",whitespace:"Le champ ${label} cannot be empty",date:{format:"Le champ ${label} is invalid for format date",parse:"Le champ ${label} could not be parsed as date",invalid:"Le champ ${label} is invalid date"},types:{string:Zt,method:Zt,array:Zt,object:Zt,number:Zt,date:Zt,boolean:Zt,integer:Zt,float:Zt,regexp:Zt,email:Zt,url:Zt,hex:Zt},string:{len:"Le champ ${label} must be exactly ${len} characters",min:"Le champ ${label} must be at least ${min} characters",max:"Le champ ${label} cannot be longer than ${max} characters",range:"Le champ ${label} must be between ${min} and ${max} characters"},number:{len:"Le champ ${label} must equal ${len}",min:"Le champ ${label} cannot be less than ${min}",max:"Le champ ${label} cannot be greater than ${max}",range:"Le champ ${label} must be between ${min} and ${max}"},array:{len:"Le champ ${label} must be exactly ${len} in length",min:"Le champ ${label} cannot be less than ${min} in length",max:"Le champ ${label} cannot be greater than ${max} in length",range:"Le champ ${label} must be between ${min} and ${max} in length"},pattern:{mismatch:"Le champ ${label} does not match pattern ${pattern}"}},Qt=function(e){var t=function(t){Object(P.a)(a,t);var n=Object(V.a)(a);function a(){return Object(L.a)(this,a),n.apply(this,arguments)}return Object(I.a)(a,[{key:"render",value:function(){var t=this.props,n=t.forwardRef,a=Object(at.a)(t,["forwardRef"]);return Object(N.jsx)(e,Object(nt.a)(Object(nt.a)({},a),{},{ref:n}))}}]),a}(r.a.Component),n=Object(Ze.i)(t,{withRef:!0});return r.a.forwardRef((function(e,t){return Object(N.jsx)(n,Object(nt.a)(Object(nt.a)({},e),{},{forwardRef:t}))}))}(function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).formRef=r.a.createRef(),a.treeRef=r.a.createRef(),a.onChange=function(e){a.setState({targetKeys:e})},a.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("------------------debut-Submit------------------"),e.prev=1,n=a.treeRef.current.gettargetKeys()!=[]?a.treeRef.current.gettargetKeys():[],r=[],n.map((function(e,t){return r.push({MPMMENUID:e})})),s=Object.assign({},t,{menusprofile:r}),console.log("profile to submit => : ",s),null==a.props.match.params.id){e.next=32;break}return console.log("    --------------debut-Update--------------"),e.prev=9,e.next=12,a.props.service,o=a.props.match.params.id,c=s,i=a.state.token,me.put(x+"DMERP/v1/menusprofile/"+o+"/",c,{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json",accept:"application/json"}});case 12:return a.props.onFormulaireChange(!0),Ge.b.loading("Action in progress..",2.5).then((function(){return Ge.b.success("Loading finished",2.5)})).then((function(){return Ge.b.info("Loading finished is finished",2.5)})),e.next=16,Xt(750);case 16:te.H.open({message:"Info",description:"This profile is updated successfully",className:"custom-class",type:"info",placement:"bottomRight",style:{width:400}}),console.log("succes from api : Update Profiles with id => :"+a.props.match.params.id),console.log("    ---------------fin-Update---------------"),console.log("-------------------fin-Submit-------------------"),a.props.goTo("../AdvancedSearchPath"),e.next=30;break;case 23:e.prev=23,e.t0=e.catch(9),te.H.open({message:"Error",description:"This profile could not be updated",className:"custom-class",type:"error",placement:"bottomRight",style:{width:400}}),console.log("Erreur: update profil by id => "+a.props.match.params.id,e.t0),console.log("    ---------------fin-Update---------------"),console.log("-------------------fin-Submit-------------------"),"Error: Request failed with status code 401"==e.t0?a.props.goTo("../403"):"Error: Network Error"==e.t0&&a.props.goTo("../500");case 30:e.next=54;break;case 32:return console.log("    --------------debut-create--------------"),e.prev=33,e.next=36,$t(a.props.service,s,a.state.token);case 36:return a.props.onFormulaireChange(!0),Ge.b.loading("Action in progress..",2.5).then((function(){return Ge.b.success("Loading finished",2.5)})).then((function(){return Ge.b.info("Loading finished is finished",2.5)})),e.next=40,Xt(750);case 40:te.H.open({message:"Info",description:"This profile is created successfully",className:"custom-class",type:"info",placement:"bottomRight",style:{width:400}}),console.log("succes from api : Create Profiles. "),console.log("    ---------------fin-Create---------------"),console.log("-------------------fin-Submit-------------------"),a.props.goTo("AdvancedSearchPath"),e.next=54;break;case 47:e.prev=47,e.t1=e.catch(33),te.H.open({message:"Error",description:"This profile could not be created",className:"custom-class",type:"error",placement:"bottomRight",style:{width:400}}),console.log("Erreur: create profil ",e.t1),console.log("    ---------------fin-Create---------------"),console.log("-------------------fin-Submit-------------------"),"Error: Request failed with status code 401"==e.t1?a.props.goTo("403"):"Error: Network Error"==e.t1&&a.props.goTo("500");case 54:e.next=60;break;case 56:e.prev=56,e.t2=e.catch(1),console.log("error2 :",e.t2),te.H.open({message:"Error",description:"This profile could not be created",className:"custom-class",type:"error",placement:"bottomRight",style:{width:400}});case 60:case"end":return e.stop()}var o,c,i}),e,null,[[1,56],[9,23],[33,47]])})));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){a.formRef.current.submit(),console.log(a.formRef.current)},a.onReset=function(){a.formRef.current.resetFields(),a.setState({changecome:!1})},a.onFill=function(){a.formRef.current.setFieldsValue({note:"Hello world!",gender:"male"})},a.getToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetToken------------------"),t&&(console.log("error => :",t),a.props.goTo("../403")),null==n&&(console.log("tokne is null => : ",n),a.props.goTo("../403")),a.setState({token:n}),console.log("tokne from host => :",a.state.token),console.log("-------------------fin-GetToken-------------------"),e.next=8,a.getMenusByApp();case 8:return e.next=10,a.getDataById();case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.handleInputChange=function(e){a.state.changecome||(a.props.onFormulaireChange(!1),a.setState({changecome:!0}))},a.CleanInputChange=function(e){a.setState({changecome:!1}),a.setState({datas:{}}),console.log("datas: ",a.state.datas)},a.state={token:null,changecome:!1,loading:!0,form:{},isLoading:null!=a.props.match.params.id,targetKeys:[],update:null==a.props.match.params.id,defaultValue:{MPRLIBLONG:null,MPRLIBCOUR:null,MPRPRFEXT:null,MPRNIVACC:null},datas:{US_EMAIL:"",US_NOMUSR:"",US_PRNUSR:"",US_TYPUSR:""},apps:[]},a.getToken=a.getToken.bind(Object(zt.a)(a)),a}return Object(I.a)(n,[{key:"activerUpdate",value:function(){return null!=this.props.match.params.id&&(this.setState({update:!this.state.update}),!0)}},{key:"removeElem",value:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-RemoveProfile------------------"),e.prev=1,e.next=4,Yt(this.props.service,this.props.match.params.id,this.state.token);case 4:return this.props.onFormulaireChange(!0),Ge.b.loading("Action in progress..",2.5).then((function(){return Ge.b.success("Loading finished",2.5)})).then((function(){return Ge.b.info("Loading finished is finished",2.5)})),e.next=8,Xt(750);case 8:te.H.open({message:"Info",description:"This profile is deleted successfully",className:"custom-class",type:"info",placement:"bottomRight",style:{width:400}}),this.props.goTo("../AdvancedSearchPath"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),te.H.open({message:"Error",description:"This profile could not be deleted",className:"custom-class",type:"error",placement:"bottomRight",style:{width:400}}),console.log("Erreur: remove profil ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("../403"):"Error: Network Error"==e.t0?this.props.goTo("../500"):this.props.goTo("../404");case 17:console.log("-------------------fin-RemoveProfile-------------------");case 18:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"loading",value:function(e){this.setState({loading:e})}},{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=this.props.match.params.id?this.props.disabelEditButton(!1):this.props.disabelEditButton(!0),e.t0=this.props.hostStorage,e.next=4,this.getToken;case 4:e.t1=e.sent,e.t0.get.call(e.t0,"access_token",e.t1);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDataById",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetProfileById------------------"),e.prev=1,e.next=4,a=this.props.service,r=this.props.match.params.id,s=this.state.token,me.get("".concat(a).concat(r),{headers:{Authorization:"Bearer "+s,"Content-Type":"application/json",accept:"application/json"}});case 4:t=e.sent,n=[],null!=t.data.menus&&(t.data.menus.map((function(e,t){return n.push(e.ID_ROWID+"")})),this.setState({defaultValue:Object(nt.a)({},t.data),targetKeys:n}),this.setState({isLoading:!1}),console.log("succes from api : Profiles  => ",t,this.state.isLoading)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Erreur: get profil by id => ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("../403"):"Error: Network Error"==e.t0&&this.props.goTo("../500");case 13:console.log("-------------------Fin-GetProfileById-------------------");case 14:case"end":return e.stop()}var a,r,s}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getMenusByApp",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetMenusByApp------------------"),e.prev=1,e.next=4,r=this.state.token,me.get(x+"DMERP/v1/applications/",{headers:{Authorization:"Bearer "+r,"Content-Type":"application/json",accept:"application/json"}});case 4:return t=e.sent,console.log("succes from api : Application => :",t),n=[{title:"Application",key:"base",children:[]}],e.next=9,Promise.all(t.data.map(function(){var e=Object(l.a)(i.a.mark((function e(t,r){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n[0].children.push({title:t.APPLIBLONG,key:t.ID_ROWID+"app",children:[]}),s=null,e.prev=2,e.next=5,Kt(t.ID_ROWID,a.state.token);case 5:s=e.sent,console.log("succes from api : menus of app ",s),s.data.Menus_per_applications.map((function(e,t){return n[0].children[r].children.push({title:e.AMNLIB,key:e.ID_ROWID+""})})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Error  :  GetMenus of app "+t.ID_ROWID+"  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?a.props.goTo("403"):"Error: Network Error"==e.t0&&a.props.goTo("500");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}()));case 9:console.log("tree : app and menu => :",n),this.setState({apps:n,loading:!1}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log("Error  :  GetApplications => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("../403"):"Error: Network Error"==e.t0&&this.props.goTo("../500");case 17:console.log("-------------------fin-GetMenusByApp-------------------");case 18:case"end":return e.stop()}var r}),e,this,[[1,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return Object(N.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(N.jsx)(te.w,{spinning:this.state.loading,delay:500,children:!this.state.loading&&Object(N.jsx)(D.a,{gutter:0,justify:"center",children:Object(N.jsx)(U.a,{span:18,children:Object(N.jsxs)(D.a,{gutter:0,justify:"start",align:"stretch",children:[Object(N.jsxs)(U.a,{span:24,style:{padding:"0px"},children:[Object(N.jsx)(rt.a,{className:"border-main-content",orientation:"left",style:{margin:"-12px -2px -12px 0px"},children:"Information"})," ",Object(N.jsx)(D.a,{gutter:[20,20],align:"stretch",justify:"space-between",className:"border-main-content-2",style:{marginRight:"0px",marginLeft:"0px",padding:"22px 10px 9px 10px",borderRadius:"3px",borderWidth:"0px 1px 1px 1px",borderStyle:"solid"},children:Object(N.jsx)(U.a,{span:24,children:!this.state.isLoading&&Object(N.jsx)(st.b,{form:{validateMessages:Jt},children:Object(N.jsx)(te.l,{ref:this.formRef,name:"control-ref",initialValues:Object(nt.a)({},this.state.defaultValue),onFinish:this.onFinish,children:Object(N.jsxs)(D.a,{gutter:[10,0],justify:"space-between",children:[Object(N.jsx)(U.a,{span:7,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{label:Object(N.jsx)(te.F,{style:{fontSize:"14px",fontWeight:"600"},children:"Libell\xe9"}),hasFeedback:!0,name:"MPRLIBLONG",style:{marginBottom:"10px"},rules:[{required:!0,max:50}],children:this.state.update?Object(N.jsx)(B.a,{onChange:this.handleInputChange}):Object(N.jsx)(te.F,{style:{display:"flex"},children:this.state.defaultValue.MPRLIBLONG})})})})}),Object(N.jsx)(U.a,{span:5,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,(e={hasFeedback:!0,rules:[{required:!0,max:10}]},Object(Ve.a)(e,"hasFeedback",!0),Object(Ve.a)(e,"label",Object(N.jsx)(te.F,{style:{fontSize:"14px",fontWeight:"600"},children:"Acronyme"})),Object(Ve.a)(e,"style",{marginBottom:"10px"}),Object(Ve.a)(e,"name","MPRLIBCOUR"),Object(Ve.a)(e,"hasFeedback",!0),Object(Ve.a)(e,"rules",[{required:!1,max:10,pattern:"[a-z A-Z]+"}]),Object(Ve.a)(e,"children",this.state.update?Object(N.jsx)(B.a,{onChange:this.handleInputChange}):Object(N.jsx)(te.F,{style:{display:"flex"},children:this.state.defaultValue.MPRLIBCOUR})),e))})})}),Object(N.jsx)(U.a,{span:7,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{initialValue:this.state.defaultValue.MPRLIBLONG,style:{marginBottom:"10px"},label:Object(N.jsx)(te.F,{style:{fontSize:"14px",fontWeight:"600"},children:"Code externe"}),hasFeedback:!0,name:"MPRPRFEXT",rules:[{required:!1,max:30}],children:this.state.update?Object(N.jsx)(B.a,{onChange:this.handleInputChange}):Object(N.jsx)(te.F,{style:{display:"flex"},children:this.state.defaultValue.MPRPRFEXT})})})})}),Object(N.jsx)(U.a,{span:5,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{label:Object(N.jsx)(te.F,{style:{fontSize:"14px",fontWeight:"600"},ellipsis:!0,children:"Niveau d'acc\xe8s"}),name:"MPRNIVACC",style:{marginBottom:"10px"},hasFeedback:!0,rules:[{required:!1}],children:this.state.update?Object(N.jsx)(te.n,{onChange:this.handleInputChange}):Object(N.jsx)(te.F,{style:{display:"flex"},children:this.state.defaultValue.MPRNIVACC})})})})})]})})})})})]}),Object(N.jsx)(U.a,{span:24,style:{marginTop:"10px"},children:Object(N.jsx)(Wt,{dataSource:this.state.apps,ref:this.treeRef,targetKeys:this.state.targetKeys,onChange:this.onChange})})]})})})})})}}]),n}(a.Component)),en=(n(475),{expandedRowRender:function(e){return Object(N.jsx)("p",{children:e.description})}}),tn={position:"bottom"},nn=[],an=1;an<=1;an++)nn.push({titre:"Vue syst\xe9me "+an,check:!0});for(var rn=[],sn=1;sn<=3;sn++)rn.push({titre:"Vues personnalis\xe9s "+sn,check:!1});for(var on=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).getToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetToken------------------"),t&&(console.log("error => :",t),a.props.goTo("../403")),null==n&&(console.log("tokne is null => : ",n),a.props.goTo("../403")),a.setState({token:n}),console.log("tokne from host => :",a.state.token),console.log("-------------------fin-GetToken-------------------"),e.next=8,a.getData();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.getRefrechToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-GetRefrechToken------------------"),t&&(console.log("error => :",t),a.props.goTo("403")),null==n&&(console.log("Refech tokne is null => : ",n),a.props.goTo("../403")),a.setState({Refrech:n}),console.log("Refech tokne from host => :",a.state.Refrech),console.log("-------------------fin-GetRefrechToken-------------------");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.handleDelete=function(e){var t=Object(ae.a)(a.state.datass);a.setState({datass:t.filter((function(t){return t.key!==e}))})},a.state={search:"",token:null,Refrech:null,bordered:!1,loading:!0,pagination:tn,model:{title:"",Content:"",onOk:function(){return console.log("ok")},visible:!1},columns:[{title:"Libell\xe9",dataIndex:"MPRLIBLONG",sorter:function(e,t){return e.age-t.age}},{title:"Acronyme",dataIndex:"MPRLIBCOUR",ellipsis:{showTitle:!1},render:function(e){return Object(N.jsx)(te.D,{placement:"topLeft",title:e,children:e})}},{title:"Code externe",dataIndex:"MPRPRFEXT"},{title:"Niveau d'acc\xe8s",dataIndex:"MPRNIVACC",filters:[{text:"francer",value:"francer"},{text:"English",value:"English"}],onFilter:function(e,t){return 0===t.PF_LANGUE.indexOf(e)}},{title:" ",key:"action",width:100,render:function(e,t){var n;return Object(N.jsxs)(te.v,{size:"middle",style:{display:"flex",justifyContent:"start"},children:[Object(N.jsx)(te.d,(n={className:"dms-button-info dms-button dms",onClick:function(){return console.log("see",t.ID_ROWID)},shape:"circle"},Object(Ve.a)(n,"onClick",(function(){return a.props.goTo("UpdatePath/"+t.ID_ROWID)})),Object(Ve.a)(n,"icon",Object(N.jsx)(ot.a,{})),Object(Ve.a)(n,"size","small"),n)),Object(N.jsx)(te.d,{className:"dms-button-error dms-button dms",shape:"circle",icon:Object(N.jsx)(He.a,{}),onClick:function(){a.setState({model:{title:"Delete profile",Content:"do you want to delete profile "+t.MPRLIBLONG+" ?",onOk:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ok"),e.prev=1,e.next=4,Yt(a.props.service,t.ID_ROWID);case 4:a.handleDelete(t.key),te.H.open({message:"Success",description:"This profile is deleted successfully",className:"custom-class",type:"success",placement:"bottomRight",style:{width:400}}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),te.H.open({message:"Error",placement:"bottomRight",type:"error",description:"This profile could not be delete.",className:"custom-class",style:{width:400}});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),visible:!0}})},size:"small"})]})}}],datass:[],expandable:en,showHeader:!0,rowSelection:{},scroll:void 0,hasData:!0,tableLayout:void 0,top:"none",bottom:"bottomRight"},a.getToken=a.getToken.bind(Object(zt.a)(a)),a.getRefrechToken=a.getRefrechToken.bind(Object(zt.a)(a)),a}return Object(I.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-ResultaDeRecherche------------------"),t=this.props.history.location,n="",""!=t.search&&(n=t.search.slice(1).split("?")[0].split("search=")[1]),this.setState({search:n}),console.log("Valeur de recherche => :",n),console.log("-------------------fin-ResultaDeRecherche-------------------"),e.t0=this.props.hostStorage,e.next=10,this.getRefrechToken;case 10:return e.t1=e.sent,e.t0.get.call(e.t0,"refresh_token",e.t1),e.t2=this.props.hostStorage,e.next=15,this.getToken;case 15:e.t3=e.sent,e.t2.get.call(e.t2,"access_token",e.t3);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetProfile------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,a=this.props.service,r=this.state.search,s=t||this.state.token,me.get(a+"?search="+r,{headers:{Authorization:"Bearer "+s,"Content-Type":"application/json",accept:"application/json"}});case 7:n=e.sent,console.log("succes from api : profile (getAll()) => :",n),null!=n.data&&n.data.map((function(e,t){Object.assign(e,{key:t})})),this.setState({datass:null!=n.data?n.data:[],loading:!1}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("Error  :  GetProfiles  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500");case 17:console.log("-------------------fin-GetProfile-------------------");case 18:case"end":return e.stop()}var a,r,s}),e,this,[[4,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.xScroll,a=t.yScroll,r=Object(at.a)(t,["xScroll","yScroll"]),s={};a&&(s.y=240),n&&(s.x="100vw");var o=this.state.columns.map((function(e){return Object(nt.a)(Object(nt.a)({},e),{},{ellipsis:r.ellipsis})}));return"fixed"===n&&(o[0].fixed=!0,o[o.length-1].fixed="right"),Object(N.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(N.jsx)(te.t,{justify:"center",children:Object(N.jsxs)(te.f,{span:24,style:{height:"587px",backgroundColor:"#fff"},children:[Object(N.jsx)(te.q,{title:this.state.model.title,centered:!0,visible:this.state.model.visible,onOk:function(){e.state.model.onOk(),e.setState({model:{title:"",Content:"",onOk:console.log("ok"),visible:!1}})},onCancel:function(){return e.setState({model:{title:"",Content:"",onOk:console.log("ok"),visible:!1}})},width:400,children:this.state.model.Content}),Object(N.jsx)(te.g,Object(nt.a)(Object(nt.a)({className:"template-dms"},this.state),{},Object(Ve.a)({vues:{vueSysteme:nn,vuesPersonnalises:rn},size:"small",columns:o,dataSource:r.hasData?this.state.datass:null,scroll:s},"scroll",{y:417})))]})})})}}]),n}(a.Component),cn=Object(Ze.i)(on),ln=n(500),dn=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){return Object(N.jsx)(ln.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:Object(N.jsx)(q.a,{type:"primary",children:"Back Home"})})}}]),n}(a.Component),un=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){return Object(N.jsx)(ln.a,{status:"403",title:"403",subTitle:"Sorry, you are not authorized to access this page.",extra:Object(N.jsx)(q.a,{type:"primary",children:"Back Home"})})}}]),n}(a.Component),pn=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){return Object(N.jsx)(ln.a,{status:"500",title:"500",subTitle:"Sorry, something went wrong.",extra:Object(N.jsx)(q.a,{type:"primary",children:"Back Home"})})}}]),n}(a.Component),hn=r.a.forwardRef((function(e,t){var n=Object(Ze.h)(),s=r.a.createRef(),o=r.a.createRef();return Object(a.useImperativeHandle)(t,(function(){var e;return e={removeElem:function(e){s.current.removeElem(e)},Route:{search:"HomeSearchPath",create:"CreationPath",update:"UpdatePath",result:"AdvancedSearchPath"},activerUpdate:function(){s.current.activerUpdate()},history:function(){return o.current.history},onReset:function(){s.current.onReset()},onSubmit:function(){s.current.onSubmit()},loadingFormulaire:function(e){s.current.loading(e)},CleanInputChange:function(e){s.current.CleanInputChange()}},Object(Ve.a)(e,"history",o.current.history),Object(Ve.a)(e,"goBack",(function(){o.current.history.goBack()})),Object(Ve.a)(e,"goForward",(function(){o.current.history.goForward()})),e})),Object(N.jsx)(Ze.a,{ref:o,initialEntries:["HomeSearchPath"],initialIndex:0,children:Object(N.jsxs)(Ze.e,{children:[Object(N.jsx)(Ze.c,{exact:!0,path:"HomeSearchPath",children:Object(N.jsx)(Bt,{history:n,hostStorage:e.hostStorage,service:e.service,goTo:function(t){return e.goTo(t)}})}),Object(N.jsx)(Ze.c,{exact:!0,path:"CreationPath",children:Object(N.jsx)(Qt,{hostStorage:e.hostStorage,history:n,icon:e.icon,disabelEditButton:function(t){return e.disabelEditButton(t)},service:e.service,services:e.services.formulaire,ref:s,goTo:function(t){return e.goTo(t)},onFormulaireChange:function(t){return e.onFormulaireChange(t)}})}),Object(N.jsx)(Ze.c,{exact:!0,path:"AdvancedSearchPath",children:Object(N.jsx)(cn,{hostStorage:e.hostStorage,history:n,service:e.service,services:e.services.result,goTo:function(t){return e.goTo(t)}})}),Object(N.jsx)(Ze.c,{exact:!0,path:"UpdatePath/:id",children:Object(N.jsx)(Qt,{history:n,hostStorage:e.hostStorage,icon:e.icon,ref:s,disabelEditButton:function(t){return e.disabelEditButton(t)},service:e.service,services:e.services.formulaire,onFormulaireChange:function(t){return e.onFormulaireChange(t)},goTo:function(t){return e.goTo(t)}})}),Object(N.jsx)(Ze.c,{path:"404",children:Object(N.jsx)(dn,{})}),Object(N.jsx)(Ze.c,{path:"403",children:Object(N.jsx)(un,{})}),Object(N.jsx)(Ze.c,{path:"500",children:Object(N.jsx)(pn,{})}),Object(N.jsx)(Ze.b,{from:"*",to:"404"})]})})})),jn=Object(N.jsx)(Je.a,{style:{fontSize:16,color:"#1890ff"}}),bn=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onSearch=function(t){console.log("------------------debut-onSearch------------------"),console.log("Rechercher par => :",t),e.props.goTo("userAdvancedSearchPath?search="+t),console.log("-------------------fin-onSearch-------------------")},e}return Object(I.a)(n,[{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{style:{height:"100%",width:"100%",paddingTop:"90px"},children:[Object(N.jsx)(te.a,{offsetTop:150,style:{position:"fixed",left:"95%",top:"90%"},children:Object(N.jsx)(te.d,{type:"primary",shape:"circle",size:"large",onClick:function(){return e.props.goTo(O)},children:Object(N.jsx)(Qe.a,{})})}),Object(N.jsxs)(D.a,{gutter:[16,30],align:"middle",justify:"space-around",children:[Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(z.b,{children:Object(N.jsx)("img",{src:"./search3.png",alt:"ooo",style:{width:"410px"}})})}),Object(N.jsx)(U.a,{span:10,children:Object(N.jsx)(B.a.Search,{placeholder:"what are you looking for ?",enterButton:"Search",size:"large",suffix:jn,onSearch:function(t){return e.onSearch(t)}})})]})]})}}]),n}(a.Component),fn=Object(Ze.i)(bn),xn=n(267),mn=n(41),On=n.n(mn),gn=n(531),yn=n(533),vn=n(534),Rn=n(276),wn=n(529),Sn=n(494),Cn=function(e){var t=Object(a.useState)(null!=e.defaultValue?[{uid:"-1",name:"imagex.png",status:"done",url:null!=e.defaultValue?e.defaultValue:""}]:[]),n=Object(d.a)(t,2),r=n[0],s=n[1];Object(a.useEffect)(Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e.defaultValue);case 1:case"end":return t.stop()}}),t)}))),[]);var o=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url){e.next=5;break}return e.next=4,new Promise((function(e){var n=new FileReader;n.readAsDataURL(t.originFileObj),n.onload=function(){return e(n.result)}}));case 4:n=e.sent;case 5:(a=new Image).src=n,window.open(n).document.write(a.outerHTML);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)(Sn.a,{className:"user-avatar",listType:"picture-card",fileList:r,onChange:function(t){var n=t.fileList;s(n),console.log(n[0]),e.setImage(n[0])},onPreview:o,disabled:e.readOnly,style:{width:"100%",objectFit:"cover"},children:r.length<1&&"+ Upload"})},kn=n(530),Tn=n(532),Ln=function(){var e=Object(l.a)(i.a.mark((function e(t,n,a,r){var s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.post(x+"DMERP/v1/registration/",n,{headers:{Authorization:"Bearer "+r,"Content-Type":"application/json",accept:"application/json"}});case 2:return s=e.sent,o=s.data,me.patch("".concat(t).concat(o.user.id,"/"),a,{headers:{Authorization:"Bearer "+r,"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundaryEwxlBBDdYQdWdUgK"}}),e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),In=function(){var e=Object(l.a)(i.a.mark((function e(t,n,a,r,s,o,c){var d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=1,e.prev=1,e.t0=!!a,!e.t0){e.next=6;break}return e.next=6,me.patch("".concat(t).concat(n,"/"),a,{headers:{Authorization:"Bearer "+c,"Content-Type":"application/json",accept:"application/json"}});case 6:e.next=12;break;case 8:e.prev=8,e.t1=e.catch(1),d=0,te.H.open({message:"warning",description:"Sorry we can't update user data.",className:"custom-class",type:"warning",placement:"bottomRight",style:{width:400}});case 12:if(e.prev=12,e.t2=!!o.FormData,!e.t2){e.next=17;break}return e.next=17,me.patch("".concat(t).concat(n,"/"),o,{headers:{Authorization:"Bearer "+c,"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundaryEwxlBBDdYQdWdUgK"}});case 17:e.next=23;break;case 19:e.prev=19,e.t3=e.catch(12),d=0,te.H.open({message:"warning",description:"Sorry we can't update your profile picture.",className:"custom-class",type:"warning",placement:"bottomRight",style:{width:400}});case 23:if(e.prev=23,e.t4=!!a.adresse,!e.t4){e.next=28;break}return e.next=28,a.adresse.map(function(){var e=Object(l.a)(i.a.mark((function e(n,a){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n.ID_ROWID){e.next=6;break}return console.log("put =>",n),e.next=4,me.put("".concat(t+"adresses/").concat(n.ID_ROWID,"/"),n,{headers:{Authorization:"Bearer "+c,"Content-Type":"application/json",accept:"application/json"}});case 4:e.next=9;break;case 6:s=Object.assign({},n,{MADCNTID:r}),console.log("post =>",s),me.post("".concat(t+"adresses/"),s,{headers:{Authorization:"Bearer "+c,"Content-Type":"application/json",accept:"application/json"}});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 28:e.next=34;break;case 30:e.prev=30,e.t5=e.catch(23),d=0,te.H.open({message:"warning",description:"Sorry we can't update your addresses.",className:"custom-class",type:"warning",placement:"bottomRight",style:{width:400}});case 34:if(e.prev=34,e.t6=!!s,!e.t6){e.next=39;break}return e.next=39,me.put("".concat(t+"contacts/").concat(r,"/"),s,{headers:{Authorization:"Bearer "+c,"Content-Type":"application/json",accept:"application/json"}});case 39:e.next=45;break;case 41:e.prev=41,e.t7=e.catch(34),d=0,te.H.open({message:"warning",description:"Sorry we can't update your contact.",className:"custom-class",type:"warning",placement:"bottomRight",style:{width:400}});case 45:return e.abrupt("return",d);case 46:case"end":return e.stop()}}),e,null,[[1,8],[12,19],[23,30],[34,41]])})));return function(t,n,a,r,s,o,c){return e.apply(this,arguments)}}(),Pn=function(e,t,n){return me.post("".concat(e,"Etat/"),t,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}})},Vn="Le champ ${label} is not a valid ${type}",An={required:"Le champ ${label} is Required!",default:"Validation error on field '${name}'",enum:"Le champ ${label} must be one of [${enum}]",whitespace:"Le champ ${label} cannot be empty",date:{format:"Le champ ${label} is invalid for format date",parse:"Le champ ${label} could not be parsed as date",invalid:"Le champ ${label} is invalid date"},types:{string:Vn,method:Vn,array:Vn,object:Vn,number:Vn,date:Vn,boolean:Vn,integer:Vn,float:Vn,regexp:Vn,email:Vn,url:Vn,hex:Vn},string:{len:"Le champ ${label} must be exactly ${len} characters",min:"Le champ ${label} must be at least ${min} characters",max:"Le champ ${label} cannot be longer than ${max} characters",range:"Le champ ${label} must be between ${min} and ${max} characters"},number:{len:"Le champ ${label} must equal ${len}",min:"Le champ ${label} cannot be less than ${min}",max:"Le champ ${label} cannot be greater than ${max}",range:"Le champ ${label} must be between ${min} and ${max}"},array:{len:"Le champ ${label} must be exactly ${len} in length",min:"Le champ ${label} cannot be less than ${min} in length",max:"Le champ ${label} cannot be greater than ${max} in length",range:"Le champ ${label} must be between ${min} and ${max} in length"},pattern:{mismatch:"Le champ ${label} does not match pattern ${pattern}"}},Dn=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).formRef=r.a.createRef(),a.onChange=function(e){a.setState({targetKeys:e})},a.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("------------------debut-Submit------------------"),n=!0,Ge.b.loading("Loading..",n),e.prev=3,console.log("    --------------debut-Update--------------"),console.log(t),null==a.props.user_id){e.next=14;break}return a.props.onFormulaireChange(!0),e.next=10,In(a.props.service,a.props.user_id,a.state.userData,a.props.contact[0].ID_ROWID,t,a.state.photo,a.props.token);case 10:1==e.sent?(n=!1,te.H.open({message:"Success",description:"This user is updated successfully",className:"custom-class",type:"success",placement:"bottomRight",style:{width:400}}),a.props.goTo("../userAdvancedSearchPath")):(n=!1,a.props.onFormulaireChange(!1)),e.next=21;break;case 14:return r=Object.assign({},a.state.userData,t),console.log(r),a.props.onFormulaireChange(!0),e.next=19,Ln(a.props.service,r,a.state.photo,a.props.token);case 19:e.sent,a.props.goTo(g);case 21:e.next=28;break;case 23:e.prev=23,e.t0=e.catch(3),console.log("error2 :",e.t0),a.props.onFormulaireChange(!1),te.H.open({message:"Error",description:"This user could not be created",className:"custom-class",type:"error",placement:"bottomRight",style:{width:400}});case 28:case"end":return e.stop()}}),e,null,[[3,23]])})));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){a.formRef.current.submit(),console.log(a.formRef.current)},a.onReset=function(){a.formRef.current.resetFields(),a.setState({changecome:!1})},a.onFill=function(){a.formRef.current.setFieldsValue({note:"Hello world!",gender:"male"})},a.CleanInputChange=function(e){a.setState({changecome:!1}),a.setState({datas:{}}),console.log("datas: ",a.state.datas)},a.labelComposant=function(e,t){return Object(N.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(N.jsx)(t,{className:"site-form-item-icon",style:{marginRight:"10px"}})," ",Object(N.jsx)(te.F,{style:{display:"flex",width:"120px",fontSize:"14px",fontWeight:"600"},children:e})]})},a.state={userData:[],changecome:!1,Profiles:[],loading:!1,form:{},photo:null,targetKeys:[],update:!0,defaultValue:null!=a.props.contact?a.props.contact[0]:null,datas:{US_EMAIL:"",US_NOMUSR:"",US_PRNUSR:"",US_TYPUSR:""}},a}return Object(I.a)(n,[{key:"activerUpdate",value:function(){}},{key:"setUser",value:function(e,t){this.setState({userData:e,photo:t})}},{key:"removeElem",value:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loading",value:function(e){this.setState({loading:e})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.handleInputChange;return!t&&Object(N.jsx)(st.b,{form:{validateMessages:An},children:Object(N.jsx)(te.l,{ref:this.formRef,name:"control-ref",initialValues:Object(nt.a)({},this.state.defaultValue),onFinish:this.onFinish,children:Object(N.jsx)(D.a,{gutter:[20,20],justify:"center",align:"stretch",children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsxs)(D.a,{gutter:[0,0],align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"MCTCIVILE",style:{marginBottom:"10px"},hasFeedback:!0,rules:[{required:!1,max:100,pattern:"[a-zA-Z]+"}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Ville",wn.a),readOnly:!this.props.updateCtc,onChange:n})})})})}),Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"10px"},name:"MCTTELPER",hasFeedback:!0,rules:[{required:!1,max:100,pattern:"[0-9]+"}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Tel personel",kn.a),readOnly:!this.props.updateCtc,onChange:n})})})})}),Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"10px"},name:"MCTTELMOB",hasFeedback:!0,rules:[{required:!1,max:100,pattern:"[0-9]+"}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Tel Mobile",kn.a),readOnly:!this.props.updateCtc,onChange:n})})})})})," ",Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"10px"},name:"MCTTELPROF",hasFeedback:!0,rules:[{required:!1,max:100,pattern:"[0-9]+"}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Tel Profesionell",kn.a),readOnly:!this.props.updateCtc,onChange:n})})})})})," ",Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"10px"},name:"MCTFAX",hasFeedback:!0,rules:[{required:!1,max:100,pattern:"[0-9]+"}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Fax",Be.a),readOnly:!this.props.updateCtc,onChange:n})})})})})," ",Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"10px"},name:"MCTEMAIL",hasFeedback:!0,rules:[{required:!1,type:"email"}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Email",gn.a),readOnly:!this.props.updateCtc,onChange:n})})})})})," ",Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"10px"},name:"MCTCTEXT",hasFeedback:!0,rules:[{required:!1,max:10}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Code externe",Tn.a),readOnly:!this.props.updateCtc,onChange:n})})})})}),Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsxs)(B.a.Group,{compact:!0,children:[Object(N.jsx)("div",{style:Object(Ve.a)({border:"1px solid #dcdcdc",display:"inline-flex",width:"128px",backgroundColor:"#fafafa",paddingLeft:"10px",height:"32px"},"width","34%"),children:this.labelComposant("Langue",wn.a)}),Object(N.jsx)(te.l.Item,{name:"MCTLANGUE",style:{marginBottom:"10px",width:"66%"},hasFeedback:!0,rules:[{required:!1}],children:Object(N.jsxs)(te.u,{onChange:n,allowClear:!0,disabled:!this.props.updateCtc,children:[Object(N.jsx)(te.u.Option,{value:"Anglais",children:"Anglais"}),Object(N.jsx)(te.u.Option,{value:"Fran\xe7ais",children:"Fran\xe7ais"}),Object(N.jsx)(te.u.Option,{value:"Arabe",children:"Arabe"})]})})]})})})})," "]})})})})})}}]),n}(a.Component),Un=n(495),Fn=n(491),Nn={expandedRowRender:function(e){return Object(N.jsx)("p",{children:e.description})}},En={position:"bottom"},Mn=[],Bn=1;Bn<=1;Bn++)Mn.push({titre:"Vue syst\xe9me "+Bn,check:!0});for(var zn=[],qn=1;qn<=3;qn++)zn.push({titre:"Vues personnalis\xe9s "+qn,check:!1});for(var Hn={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},onSelect:function(e,t,n){console.log(e,t,n)},onSelectAll:function(e,t,n){console.log(e,t,n)}},_n=r.a.createContext(null),Gn=function(e){e.index;var t=Object(at.a)(e,["index"]),n=Un.a.useForm(),a=Object(d.a)(n,1)[0];return Object(N.jsx)(Un.a,{form:a,component:!1,children:Object(N.jsx)(_n.Provider,{value:a,children:Object(N.jsx)("tr",Object(nt.a)({},t))})})},Wn=function(e){e.title;var t=e.pattern,n=e.max,r=e.required,s=e.editable,o=e.children,c=e.dataIndex,u=e.record,p=e.handleSave,h=Object(at.a)(e,["title","pattern","max","required","editable","children","dataIndex","record","handleSave"]),j=Object(a.useState)(!1),b=Object(d.a)(j,2),f=b[0],x=b[1],m=Object(a.useRef)(null),O=Object(a.useContext)(_n);Object(a.useEffect)((function(){console.log("tinane voila la",n,"record",u),f&&m.current.focus()}),[f]);var g=function(){x(!f),O.setFieldsValue(Object(Ve.a)({},c,u[c]))},y=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.validateFields();case 3:t=e.sent,g(),p(Object(nt.a)(Object(nt.a)({},u),t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),v=o;return s&&(v=f?Object(N.jsx)(Un.a.Item,{style:{margin:0},name:c,rules:[{required:r,max:n,pattern:t}],children:Object(N.jsx)(B.a,{ref:m,onPressEnter:y,onBlur:y})}):Object(N.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:g,children:o})),Object(N.jsx)("td",Object(nt.a)(Object(nt.a)({},h),{},{children:v}))},$n=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).handleDelete=function(e){var t=Object(ae.a)(a.state.dataSource);a.setState({dataSource:t.filter((function(t){return t.key!==e}))})},a.handleAdd=function(){var e=a.state,t=e.count,n=e.dataSource,r={key:t,MADLIBLONG:"...",MADADRES1:"...",MADADRES2:"...",MADBATIM:"...",MADETAGE:1,MADCODEP:"...",MADVILLE:"...",MADPAYS:"..."};a.setState({dataSource:[r].concat(Object(ae.a)(n)),count:t+1})},a.handleSave=function(e){var t=Object(ae.a)(a.state.dataSource),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(nt.a)(Object(nt.a)({},r),e)),a.setState({dataSource:t})},a.columns=[{title:"Libill\xe9",max:30,pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"MADLIBLONG",width:"10%",fixed:"left",ellipsis:!0,editable:a.props.updateAdress,showSorterTooltip:!0},{title:"Batiment",max:10,pattern:"^[a-zA-Z0-9_-]+$",required:!1,dataIndex:"MADBATIM",width:"12%",ellipsis:!0,editable:a.props.updateAdress},{title:"Etage",max:4,pattern:"^[0-9]*$",required:!1,dataIndex:"MADETAGE",width:"10%",ellipsis:!0,editable:a.props.updateAdress},{title:"Code postale",max:5,required:!1,dataIndex:"MADCODEP",width:"12%",ellipsis:!0,editable:a.props.updateAdress},{title:"Ville",max:15,pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"MADVILLE",width:"12%",ellipsis:!0,editable:a.props.updateAdress},{title:"Pays",max:15,pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"MADPAYS",width:"12%",ellipsis:!0,editable:a.props.updateAdress},{title:"Adresse 1",max:100,required:!1,dataIndex:"MADADRES1",width:"15%",ellipsis:!0,editable:a.props.updateAdress},{title:"Adresse 2",max:100,required:!1,dataIndex:"MADADRES2",width:"15%",ellipsis:!0,editable:a.props.updateAdress},{title:"",fixed:"right",width:35,dataIndex:"operation",render:function(e,t){return a.state.dataSource.length>=1?Object(N.jsx)(Fn.a,{title:"Sure to delete?",onConfirm:function(){return a.handleDelete(t.key)},children:Object(N.jsx)(He.a,{style:{color:"#f44336"}})}):null}}],a.state={bordered:!1,loading:!1,pagination:En,expandable:Nn,showHeader:!0,rowSelection:{},scroll:void 0,hasData:!0,tableLayout:void 0,top:"none",bottom:"bottomRight",dataSource:[],count:2},a}return Object(I.a)(n,[{key:"getDataSource",value:function(){return this.state.dataSource}},{key:"componentDidMount",value:function(){console.log("datas",this.props.datasource),null!=this.props.datasource&&this.props.datasource.map((function(e,t){Object.assign(e,{key:t})})),this.setState({dataSource:null!=this.props.datasource?this.props.datasource:[]})}},{key:"render",value:function(){var e=this,t=this.state.dataSource,n={body:{row:Gn,cell:Wn}},a=this.columns.map((function(t){return t.editable?Object(nt.a)(Object(nt.a)({},t),{},{onCell:function(n){return{record:n,editable:t.editable,dataIndex:t.dataIndex,title:t.title,max:t.max,required:t.required,pattern:t.pattern,handleSave:e.handleSave}}}):t})),r=this.state,s=r.xScroll,o=r.yScroll,c=(Object(at.a)(r,["xScroll","yScroll"]),{});return o&&(c.y=240),s&&(c.x="100vw"),Object(N.jsxs)("div",{children:[" ",Object(N.jsx)(te.g,{className:"template-dms",vues:{vueSysteme:Mn,vuesPersonnalises:zn},size:"small",pagination:{position:[this.state.top,this.state.bottom]},scroll:{x:1300},components:n,rowSelection:Object(nt.a)({},Hn),rowClassName:function(){return"editable-row"},dataSource:t,columns:a})," ",Object(N.jsx)(q.a,{onClick:this.handleAdd,type:"primary",style:{marginBottom:16},children:"Add a row"})]})}}]),n}(r.a.Component),Yn=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Kn="Le champ ${label} is not a valid ${type}",Xn={required:"Le champ ${label} is Required!",default:"Validation error on field '${name}'",enum:"Le champ ${label} must be one of [${enum}]",whitespace:"Le champ ${label} cannot be empty",date:{format:"Le champ ${label} is invalid for format date",parse:"Le champ ${label} could not be parsed as date",invalid:"Le champ ${label} is invalid date"},types:{string:Kn,method:Kn,array:Kn,object:Kn,number:Kn,date:Kn,boolean:Kn,integer:Kn,float:Kn,regexp:Kn,email:Kn,url:Kn,hex:Kn},string:{len:"Le champ ${label} must be exactly ${len} characters",min:"Le champ ${label} must be at least ${min} characters",max:"Le champ ${label} cannot be longer than ${max} characters",range:"Le champ ${label} must be between ${min} and ${max} characters"},number:{len:"Le champ ${label} must equal ${len}",min:"Le champ ${label} cannot be less than ${min}",max:"Le champ ${label} cannot be greater than ${max}",range:"Le champ ${label} must be between ${min} and ${max}"},array:{len:"Le champ ${label} must be exactly ${len} in length",min:"Le champ ${label} cannot be less than ${min} in length",max:"Le champ ${label} cannot be greater than ${max} in length",range:"Le champ ${label} must be between ${min} and ${max} in length"},pattern:{mismatch:"Le champ ${label} does not match pattern ${pattern}"}},Zn=function(e){var t=function(t){Object(P.a)(a,t);var n=Object(V.a)(a);function a(){return Object(L.a)(this,a),n.apply(this,arguments)}return Object(I.a)(a,[{key:"render",value:function(){var t=this.props,n=t.forwardRef,a=Object(at.a)(t,["forwardRef"]);return Object(N.jsx)(e,Object(nt.a)(Object(nt.a)({},a),{},{ref:n}))}}]),a}(r.a.Component),n=Object(Ze.i)(t,{withRef:!0});return r.a.forwardRef((function(e,t){return Object(N.jsx)(n,Object(nt.a)(Object(nt.a)({},e),{},{forwardRef:t}))}))}(function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).formRef=r.a.createRef(),a.formContactRef=r.a.createRef(),a.adressRef=r.a.createRef(),a.onChange=function(e){a.setState({targetKeys:e})},a.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,s,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=t.date,(r=new FormData).append("MUTPHOTOS",a.state.image?a.state.image.originFileObj:null),s=Object(xn.a)(r.entries());try{for(s.s();!(o=s.n()).done;)c=o.value,console.log("ba3toch",c[0],c[1])}catch(i){s.e(i)}finally{s.f()}l=Object.assign({},t,{MUTDDEB:n[0].format("YYYY-MM-DD HH:mm:ss"),MUTDFIN:n[1].format("YYYY-MM-DD HH:mm:ss"),adresse:null!=a.adressRef.current?a.adressRef.current.getDataSource():[]}),a.formContactRef.current.setUser(l,r),a.formContactRef.current.onSubmit()}catch(d){console.log("error2 :",d)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetToken------------------"),t&&(console.log("error => :",t),a.props.goTo("../403")),null==n&&(console.log("tokne is null => : ",n),a.props.goTo("../403")),a.setState({token:n}),console.log("tokne from host => :",a.state.token),console.log("-------------------fin-GetToken-------------------"),e.next=8,a.getProfileApp();case 8:return e.next=10,a.getDataById();case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.onSubmit=function(){a.formRef.current.submit()},a.onReset=function(){a.formRef.current.resetFields(),a.formContactRef.current.onReset(),a.setState({changecome:!1})},a.onFill=function(){a.formRef.current.setFieldsValue({note:"Hello world!",gender:"male"})},a.handleInputChange=function(e){a.state.changecome||(a.props.onFormulaireChange(!1),a.setState({changecome:!0}))},a.labelComposant=function(e,t){return Object(N.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(N.jsx)(t,{className:"site-form-item-icon",style:{marginRight:"10px"}})," ",Object(N.jsx)(te.F,{style:{display:"flex",width:"80px",fontSize:"14px",fontWeight:"600"},children:e})]})},a.state={token:null,changecome:!1,Profiles:[],loading:!1,form:{},isLoading:null!=a.props.match.params.id,image:null,targetKeys:[],update:null==a.props.match.params.id,defaultValue:null,datas:{US_EMAIL:"",US_NOMUSR:"",US_PRNUSR:"",US_TYPUSR:""}},a.getToken=a.getToken.bind(Object(zt.a)(a)),a}return Object(I.a)(n,[{key:"setImage",value:function(e){this.setState({image:e})}},{key:"activerUpdate",value:function(){return null!=this.props.match.params.id&&(this.setState({update:!this.state.update}),!0)}},{key:"removeElem",value:function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("date fin => ",t),e.prev=1,e.next=4,Pn(this.props.service,{activate:!1,MUTDFIN:t,pk:this.props.match.params.id});case 4:return this.props.onFormulaireChange(!0),te.H.open({message:"Info",description:"This user is deleted successfully",className:"custom-class",type:"info",placement:"bottomRight",style:{width:400}}),Ge.b.loading("Loading...",.5).then((function(){return Ge.b.success("Finished",.5)})),e.next=9,Yn(750);case 9:this.props.goTo("../userAdvancedSearchPath"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),te.H.open({message:"Error",description:"This user could not be deleted",className:"custom-class",type:"error",placement:"bottomRight",style:{width:400}});case 16:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loading",value:function(e){this.setState({loading:e})}},{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=this.props.match.params.id?this.props.disabelEditButton(!1):this.props.disabelEditButton(!0),e.t0=this.props.hostStorage,e.next=4,this.getToken;case 4:e.t1=e.sent,e.t0.get.call(e.t0,"access_token",e.t1);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getProfileApp",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetProfiles------------------"),e.prev=1,e.next=4,n="",a=this.state.token,me.get(x+"DMERP/v1/profiles/?search="+n,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 4:t=e.sent,console.log("succes from api : Profiles => :",t),this.setState({Profiles:t.data}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Error  :  GetProfiles  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500");case 13:console.log("-------------------fin-GetProfiles-------------------");case 14:case"end":return e.stop()}var n,a}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getDataById",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("------------------debut-GetUserById------------------"),e.prev=1,null==this.props.match.params.id){e.next=11;break}return e.next=5,a=this.props.service,r=this.props.match.params.id,s=this.state.token,me.get("".concat(a).concat(r),{headers:{Authorization:"Bearer "+s,"Content-Type":"application/json",accept:"application/json"}});case 5:t=e.sent,console.log("succes from api : Users  => ",t),n=Object.assign({},t.data,{date:[On()(t.data.MUTDDEB,"YYYY-MM-DD HH:mm:ss"),On()(t.data.MUTDFIN,"YYYY-MM-DD HH:mm:ss")],MUTPROFID:t.data.MUTPROFID.ID_ROWID}),this.setState({defaultValue:Object(nt.a)({},n)}),this.setState({isLoading:!1}),console.log("Inisial value of fomulaire => : ",this.state.defaultValue);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log("Erreur: get user by id => ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("../403"):"Error: Network Error"==e.t0?this.props.goTo("../500"):this.props.goTo("../404");case 17:console.log("-------------------Fin-GetProfileById-------------------");case 18:case"end":return e.stop()}var a,r,s}),e,this,[[1,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(N.jsx)("div",{style:{height:"100%",width:"100%"},children:!this.state.isLoading&&Object(N.jsx)(te.w,{spinning:this.state.loading,delay:500,children:Object(N.jsxs)(D.a,{gutter:0,justify:"center",children:[Object(N.jsx)(U.a,{span:18,children:Object(N.jsx)(D.a,{gutter:0,justify:"center",align:"stretch",wrap:!1,children:Object(N.jsxs)(U.a,{span:24,style:{padding:"0px"},children:[Object(N.jsx)(rt.a,{className:"border-main-content",orientation:"left",style:{margin:"-12px  -2px -12px 0px"},children:"Information"})," ",Object(N.jsx)(D.a,{gutter:[20,20],align:"stretch",justify:"space-between",className:"border-main-content-2",style:{marginRight:"0px",marginLeft:"0px",padding:"22px 10px 9px 10px",borderRadius:"3px",borderWidth:"0px 1px 1px 1px",borderStyle:"solid"},children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(st.b,{form:{validateMessages:Xn},children:Object(N.jsx)(te.l,{ref:this.formRef,name:"control-ref",initialValues:Object(nt.a)({},this.state.defaultValue),onFinish:this.onFinish,children:Object(N.jsxs)(D.a,{gutter:[20,20],justify:"center",align:"stretch",children:[Object(N.jsx)(U.a,{span:5,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(Cn,{setImage:function(t){return e.setImage(t)},defaultValue:null!=this.state.defaultValue?this.state.defaultValue.MUTPHOTOS:null,readOnly:!this.state.update})})})})," ",Object(N.jsx)(U.a,{span:19,children:Object(N.jsxs)(D.a,{gutter:[0,0],align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"username",style:{marginBottom:"10px"},rules:[{required:!0,max:150}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Username",Q.a),readOnly:!this.state.update,onChange:this.handleInputChange})})})})}),Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsxs)(B.a.Group,{compact:!0,children:[Object(N.jsx)("div",{style:Object(Ve.a)({border:"1px solid #dcdcdc",display:"inline-flex",width:"128px",backgroundColor:"#fafafa",paddingLeft:"10px",height:"32px"},"width","34%"),children:this.labelComposant("Profile",Q.a)}),Object(N.jsx)(te.l.Item,{name:"MUTPROFID",style:{marginBottom:"10px",width:"66%"},hasFeedback:!0,rules:[{required:!0}],children:Object(N.jsx)(te.u,{onChange:this.handleInputChange,allowClear:!0,disabled:!this.state.update,children:this.state.Profiles.map((function(e,t){return Object(N.jsx)(te.u.Option,{value:e.ID_ROWID,children:e.MPRLIBCOUR})}))})})]})})})}),Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"10px"},name:"email",rules:[{required:!0,max:254,type:"email"}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Email",gn.a),readOnly:!this.state.update,onChange:this.handleInputChange})})})})})," ",null==this.state.defaultValue&&Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"10px"},label:!this.state.update&&Object(N.jsx)(te.F,{style:{fontSize:"14px",fontWeight:"600"},children:"Password"}),name:"password1",rules:[{required:!0,max:128}],hasFeedback:!0,children:Object(N.jsx)(B.a.Password,{addonBefore:this.labelComposant("Password",yn.a),onChange:this.handleInputChange,iconRender:function(e){return e?Object(N.jsx)(vn.a,{}):Object(N.jsx)(Rn.a,{})}})})})})}),Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"10px"},name:"first_name",hasFeedback:!0,rules:[{required:!0,max:128}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("First name",Q.a),readOnly:!this.state.update,onChange:this.handleInputChange})})})})})," ",null==this.state.defaultValue&&Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"10px"},name:"password2",dependencies:["password1"],hasFeedback:!0,label:!this.state.update&&Object(N.jsx)(te.F,{style:{fontSize:"14px",fontWeight:"600"},children:"Password"}),rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password1")!==n?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(N.jsx)(B.a.Password,{addonBefore:this.labelComposant("Password",yn.a),onChange:this.handleInputChange,iconRender:function(e){return e?Object(N.jsx)(vn.a,{}):Object(N.jsx)(Rn.a,{})}})})})})}),Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"10px"},name:"last_name",hasFeedback:!0,rules:[{required:!0,max:150}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Last name",Q.a),readOnly:!this.state.update,onChange:this.handleInputChange})})})})}),Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"10px"},name:"MUTUTLEXT",hasFeedback:!0,rules:[{required:!1,max:10}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Code externe",Q.a),readOnly:!this.state.update,onChange:this.handleInputChange})})})})}),Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsxs)(B.a.Group,{compact:!0,children:[Object(N.jsx)("div",{style:Object(Ve.a)({border:"1px solid #dcdcdc",display:"inline-flex",width:"128px",backgroundColor:"#fafafa",paddingLeft:"10px",height:"32px"},"width","34%"),children:this.labelComposant("Langue",wn.a)}),Object(N.jsx)(te.l.Item,{name:"MUTLANGUE",style:{marginBottom:"10px",width:"66%"},hasFeedback:!0,rules:[{required:!1}],children:Object(N.jsxs)(te.u,{onChange:this.handleInputChange,allowClear:!0,disabled:!this.state.update,children:[Object(N.jsx)(te.u.Option,{value:"Anglais",children:"Anglais"}),Object(N.jsx)(te.u.Option,{value:"Fran\xe7ais",children:"Fran\xe7ais"}),Object(N.jsx)(te.u.Option,{value:"Arabe",children:"Arabe"})]})})]})})})})," ",Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"10px"},name:"date",hasFeedback:!0,rules:[{required:!0}],children:Object(N.jsx)(te.h.RangePicker,{style:{width:"100%"},addonBefore:this.labelComposant("Periode",yn.a),showTime:!0,disabled:!this.state.update,format:"YYYY-MM-DD HH:mm:ss",onChange:this.handleInputChange})})})})})," "]})})," "]})})})})})]})})}),Object(N.jsx)(U.a,{span:18,children:Object(N.jsx)("div",{children:Object(N.jsxs)(te.A,{type:"card",className:"tabs-formulaire dms-tabs",children:[Object(N.jsx)(te.A.TabPane,{tab:Object(N.jsx)(te.y,{title:"Contact"}),children:Object(N.jsx)("div",{className:"template-tabs-panel",style:{padding:"15px",height:"342px"},children:Object(N.jsx)(Dn,{isLoading:this.state.isLoading,changecome:this.state.changecome,updateCtc:this.state.update,ref:this.formContactRef,contact:null!=this.state.defaultValue?this.state.defaultValue.contact:null,onFormulaireChange:function(t){return e.props.onFormulaireChange(t)},token:this.state.token,hostStorage:this.props.hostStorage,goTo:function(t){return e.props.goTo(t)},handleInputChange:this.handleInputChange,user_id:this.props.match.params.id,service:this.props.service})})},"2")," ",Object(N.jsx)(te.A.TabPane,{tab:Object(N.jsx)(te.y,{title:"Adresse"}),children:Object(N.jsx)("div",{className:"template-tabs-panel",style:{height:"342px"},children:Object(N.jsx)($n,{ref:this.adressRef,updateAdress:this.state.update,datasource:null!=this.state.defaultValue&&null!=this.state.defaultValue.contact?this.state.defaultValue.contact[0].Adresses:null})})},"3")]})})})]})})})}}]),n}(a.Component)),Jn=n(69),Qn=n(272),ea=n(273),ta=(n(476),n(535)),na=n(536),aa=n(214),ra={position:"bottom"},sa=[],oa=1;oa<=1;oa++)sa.push({titre:"Vue syst\xe9me "+oa,check:!0});for(var ca=[],ia=1;ia<=3;ia++)ca.push({titre:"Vues personnalis\xe9s "+ia,check:!1});var la=function(e){var t=e.title,n=e.content;return Object(N.jsxs)("div",{className:"site-description-item-profile-wrapper",children:[Object(N.jsxs)("p",{className:"site-description-item-profile-p-label",children:[t,":"]}),n]})},da=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a,r,s,o;return Object(L.a)(this,n),(o=t.call(this,e)).getToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetToken------------------"),t&&(console.log("error => :",t),o.props.goTo("../403")),null==n&&(console.log("tokne is null => : ",n),o.props.goTo("../403")),o.setState({token:n}),console.log("tokne from host => :",o.state.token),console.log("-------------------fin-GetToken-------------------"),e.next=8,o.getData();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.getRefrechToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-GetRefrechToken------------------"),t&&(console.log("error => :",t),o.props.goTo("403")),null==n&&(console.log("Refech tokne is null => : ",n),o.props.goTo("../403")),o.setState({Refrech:n}),console.log("Refech tokne from host => :",o.state.Refrech),console.log("-------------------fin-GetRefrechToken-------------------");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.onChange=function(e,t){console.log("Selected Time: ",e),console.log("Formatted Selected Time: ",t,o.state.dateFinDesactiver),o.setState({dateFinDesactiver:t})},o.handleDelete=function(e){var t=Object(ae.a)(o.state.datass);o.setState({datass:t.filter((function(t){return t.key!==e}))})},o.state=(s={search:"",token:null,bordered:!1,loading:!1,pagination:ra,model:{title:"",Content:"",width:300,onOk:console.log("ok"),visible:!1},dateFinDesactiver:"20202-28-06 11:34:00",columns:[{title:"",dataIndex:"MUTPHOTOS",width:"70px",ellipsis:!0,fixed:"left",render:function(e,t){return!o.state.loading&&Object(N.jsx)(G.a,{src:!!t.MUTPHOTOS&&t.MUTETAT&&t.MUTPHOTOS,size:32,style:t.MUTETAT?{}:{cursor:"not-allowed"},disabled:!t.MUTETAT,icon:Object(N.jsx)(Q.a,{}),children:"ddd"})}},{title:"Username",dataIndex:"username",ellipsis:!0,width:"120px",fixed:"left",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.username,children:Object(N.jsx)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:t.username})})}},(a={title:"First name",dataIndex:"first_name",ellipsis:!0,width:"100px"},Object(Ve.a)(a,"ellipsis",{showTitle:!1}),Object(Ve.a)(a,"render",(function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.first_name,children:Object(N.jsx)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:t.first_name})})})),a),{title:"Last name",ellipsis:!0,width:"100px",dataIndex:"last_name",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.last_name,children:Object(N.jsx)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:t.last_name})})}},{title:"Email",ellipsis:!0,width:"250px",dataIndex:"email",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.email,children:Object(N.jsx)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:t.email})})}},{title:"Profile",ellipsis:!0,dataIndex:"MUTPROFID",width:"100px",render:function(e,t){return Object(N.jsx)("span",{children:Object(N.jsx)(Qn.a,{style:t.MUTETAT?{}:{cursor:"not-allowed"},color:t.MUTETAT?"purple":"default",children:t.MUTPROFID?t.MUTPROFID.MPRLIBCOUR.toUpperCase():"NUll"},t.MUTPROFID)})}},{title:"Date Debut",ellipsis:!0,width:"170px",dataIndex:"MUTDDEB",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.MUTDDEB,children:Object(N.jsx)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:t.MUTDDEB})})}},{title:"Date Fin",ellipsis:!0,width:"170px",dataIndex:"MUTDFIN",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.MUTDFIN,children:Object(N.jsx)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:t.MUTDFIN})})}},(r={title:" ",key:"action",width:"150px",fixed:"right"},Object(Ve.a)(r,"width",170),Object(Ve.a)(r,"render",(function(e,t){var n,a,r;return Object(N.jsxs)(z.b,{size:"middle",style:{display:"flex",justifyContent:"start"},children:[Object(N.jsx)(q.a,(n={className:"dms-button-info dms-button dms",onClick:function(){return console.log("see",t.id)},shape:"circle",disabled:!t.MUTETAT},Object(Ve.a)(n,"onClick",(function(){return o.props.goTo(v+t.id)})),Object(Ve.a)(n,"icon",Object(N.jsx)(ot.a,{})),Object(Ve.a)(n,"size","small"),n)),Object(N.jsx)(q.a,(a={className:"dms-button-info dms-button dms",onClick:function(){return console.log("see",t.id)},shape:"circle",disabled:!t.MUTETAT},Object(Ve.a)(a,"onClick",(function(){return o.props.goTo(v+t.id)})),Object(Ve.a)(a,"icon",Object(N.jsx)(kn.a,{})),Object(Ve.a)(a,"size","small"),a)),Object(N.jsx)(q.a,(r={className:"dms-button-info dms-button dms",onClick:function(){return console.log("see",t.id)},shape:"circle",disabled:!t.MUTETAT},Object(Ve.a)(r,"onClick",(function(){return o.props.goTo(v+t.id)})),Object(Ve.a)(r,"icon",Object(N.jsx)(ta.a,{})),Object(Ve.a)(r,"size","small"),Object(Ve.a)(r,"onClick",(function(){console.log("delete",t.id),o.setState({model:{title:"Contacte",Content:Object(N.jsxs)(z.b,{direction:"vertical",size:12,children:[Object(N.jsxs)(D.a,{children:[Object(N.jsx)(U.a,{span:12,children:Object(N.jsx)(la,{title:"Email",content:"AntDesign@example.com"})}),Object(N.jsx)(U.a,{span:12,children:Object(N.jsx)(la,{title:"Phone Number",content:"+86 181 0000 0000"})})]}),Object(N.jsx)(D.a,{children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(la,{title:"Github",content:Object(N.jsx)("a",{href:"http://github.com/ant-design/ant-design/",children:"github.com/ant-design/ant-design/"})})})})]}),onOk:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("ok",o.state.dateFinDesactiver);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),width:600,visible:!0}})})),r)),Object(N.jsx)(q.a,{className:"dms-button-error dms-button dms",shape:"circle",icon:t.MUTETAT?Object(N.jsx)(na.a,{}):Object(N.jsx)(Fe.a,{}),size:"small",onClick:function(){console.log("delete",t.id),o.setState({model:{title:"Delete user",width:300,Content:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(N.jsxs)(z.b,{direction:"vertical",size:5,align:"center",children:[Object(N.jsx)("p",{children:t.MUTETAT?"Do you want to disable user "+t.username+"?":"Do you want to enable user "+t.username+"?"}),t.MUTETAT&&Object(N.jsx)(te.h,{style:{width:"100%"},showTime:!0,onChange:o.onChange,onOk:o.onOk})]})}),onOk:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ok",o.state.dateFinDesactiver),e.prev=1,e.next=4,Pn(o.props.service,{activate:!t.MUTETAT,MUTDFIN:o.state.dateFinDesactiver,pk:t.id});case 4:o.getData(),ea.a.open({message:"Success",description:t.MUTETAT?t.username+" is disabled successfully":t.username+" is enabled successfully",className:"custom-class",type:"success",placement:"bottomRight",style:{width:400}}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),ea.a.open({message:"Error",placement:"bottomRight",type:"error",description:t.MUTETAT?t.username+" could not be disabled.":t.username+" could not be enabled.",className:"custom-class",style:{width:400}});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),visible:!0}})}})]})})),r)],datass:[]},Object(Ve.a)(s,"loading",!0),Object(Ve.a)(s,"showHeader",!0),Object(Ve.a)(s,"rowSelection",{}),Object(Ve.a)(s,"scroll",void 0),Object(Ve.a)(s,"hasData",!0),Object(Ve.a)(s,"tableLayout",void 0),Object(Ve.a)(s,"top","none"),Object(Ve.a)(s,"bottom","bottomRight"),s),o.getToken=o.getToken.bind(Object(zt.a)(o)),o.getRefrechToken=o.getRefrechToken.bind(Object(zt.a)(o)),o}return Object(I.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-ResultaDeRecherche------------------"),t=this.props.history.location,n="",""!=t.search&&(n=t.search.slice(1).split("?")[0].split("search=")[1]),this.setState({search:n}),console.log("Valeur de recherche => :",n),console.log("-------------------fin-ResultaDeRecherche-------------------"),e.t0=this.props.hostStorage,e.next=10,this.getRefrechToken;case 10:return e.t1=e.sent,e.t0.get.call(e.t0,"refresh_token",e.t1),e.t2=this.props.hostStorage,e.next=15,this.getToken;case 15:e.t3=e.sent,e.t2.get.call(e.t2,"access_token",e.t3);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"refrechpage",value:function(){window.location.reload()}},{key:"onOk",value:function(e){console.log("onOk: ",e)}},{key:"getData",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetUsers------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,a=this.props.service,r=this.state.search,s=t||this.state.token,me.get(a+"?search="+r,{headers:{Authorization:"Bearer "+s,"Content-Type":"application/json",accept:"application/json"}});case 7:n=e.sent,console.log("succes from api : user (getAll()) => :",n),null!=n.data&&n.data.map((function(e,t){Object.assign(e,{key:t})})),this.setState({datass:null!=n.data?n.data:[],loading:!1}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("Error  :  GetUsers  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500");case 17:console.log("-------------------fin-GetUser-------------------");case 18:case"end":return e.stop()}var a,r,s}),e,this,[[4,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.xScroll,a=t.yScroll,r=Object(at.a)(t,["xScroll","yScroll"]),s={};a&&(s.y=240),n&&(s.x="100vw");var o=this.state.columns.map((function(e){return Object(nt.a)(Object(nt.a)({},e),{},{ellipsis:r.ellipsis})}));return"fixed"===n&&(o[0].fixed=!0,o[o.length-1].fixed="right"),Object(N.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(N.jsx)(D.a,{justify:"center",children:Object(N.jsxs)(U.a,{span:24,style:{height:"587px",backgroundColor:"#fff"},children:[Object(N.jsx)(We.a,{title:this.state.model.title,centered:!0,visible:this.state.model.visible,onOk:function(){e.state.model.onOk(),e.setState({model:{title:"",Content:"",onOk:console.log("ok"),visible:!1}})},onCancel:function(){return e.setState({model:{title:"",Content:"",width:400,onOk:console.log("ok"),visible:!1}})},width:this.state.model.width,children:this.state.model.Content}),Object(N.jsx)(te.g,Object(nt.a)(Object(nt.a)({className:"template-dms"},this.state),{},Object(Ve.a)({vues:{vueSysteme:sa,vuesPersonnalises:ca},size:"small",columns:o,dataSource:r.hasData?this.state.datass:null,scroll:s},"scroll",{y:435})))]})})})}}]),n}(a.Component),ua=Object(Ze.i)(da),pa=r.a.forwardRef((function(e,t){var n=Object(Ze.h)(),s=r.a.createRef(),o=r.a.createRef();return Object(a.useImperativeHandle)(t,(function(){var e;return e={Route:{search:y,create:O,update:v,result:g},removeElem:function(e){s.current.removeElem(e)},activerUpdate:function(){s.current.activerUpdate()},history:function(){return o.current.history},onReset:function(){s.current.onReset()},onSubmit:function(){s.current.onSubmit()},loadingFormulaire:function(e){s.current.loading(e)},CleanInputChange:function(e){s.current.CleanInputChange()}},Object(Ve.a)(e,"history",o.current.history),Object(Ve.a)(e,"goBack",(function(){o.current.history.goBack()})),Object(Ve.a)(e,"goForward",(function(){o.current.history.goForward()})),e})),Object(N.jsx)(Ze.a,{ref:o,initialEntries:[y],initialIndex:0,children:Object(N.jsxs)(Ze.e,{children:[Object(N.jsx)(Ze.c,{exact:!0,path:y,children:Object(N.jsx)(fn,{history:n,hostStorage:e.hostStorage,service:e.service,goTo:function(t){return e.goTo(t)}})}),Object(N.jsx)(Ze.c,{exact:!0,path:O,children:Object(N.jsx)(Zn,{history:n,hostStorage:e.hostStorage,icon:e.icon,disabelEditButton:function(t){return e.disabelEditButton(t)},service:e.service,services:e.services.formulaire,ref:s,goTo:function(t){return e.goTo(t)},onFormulaireChange:function(t){return e.onFormulaireChange(t)}})}),Object(N.jsx)(Ze.c,{exact:!0,path:g,children:Object(N.jsx)(ua,{history:n,hostStorage:e.hostStorage,service:e.service,services:e.services.result,goTo:function(t){return e.goTo(t)}})}),Object(N.jsx)(Ze.c,{exact:!0,path:"userUpdatePath/:id",children:Object(N.jsx)(Zn,{history:n,hostStorage:e.hostStorage,icon:e.icon,ref:s,disabelEditButton:function(t){return e.disabelEditButton(t)},service:e.service,services:e.services.formulaire,onFormulaireChange:function(t){return e.onFormulaireChange(t)},goTo:function(t){return e.goTo(t)}})}),Object(N.jsx)(Ze.c,{path:"404",children:Object(N.jsx)(dn,{})}),Object(N.jsx)(Ze.b,{from:"*",to:"404"})]})})})),ha=n(537),ja="Le champ ${label} is not a valid ${type}",ba={fr:{required:"Le champ ${label} is Required!",default:"Validation error on field '${name}'",enum:"Le champ ${label} must be one of [${enum}]",whitespace:"Le champ ${label} cannot be empty",date:{format:"Le champ ${label} is invalid for format date",parse:"Le champ ${label} could not be parsed as date",invalid:"Le champ ${label} is invalid date"},types:{string:ja,method:ja,array:ja,object:ja,number:ja,date:ja,boolean:ja,integer:ja,float:ja,regexp:ja,email:ja,url:ja,hex:ja},string:{len:"Le champ ${label} must be exactly ${len} characters",min:"Le champ ${label} must be at least ${min} characters",max:"Le champ ${label} cannot be longer than ${max} characters",range:"Le champ ${label} must be between ${min} and ${max} characters"},number:{len:"Le champ ${label} must equal ${len}",min:"Le champ ${label} cannot be less than ${min}",max:"Le champ ${label} cannot be greater than ${max}",range:"Le champ ${label} must be between ${min} and ${max}"},array:{len:"Le champ ${label} must be exactly ${len} in length",min:"Le champ ${label} cannot be less than ${min} in length",max:"Le champ ${label} cannot be greater than ${max} in length",range:"Le champ ${label} must be between ${min} and ${max} in length"},pattern:{mismatch:"Le champ ${label} does not match pattern ${pattern}"}}},fa={AF:"Afghanistan",ZA:"Afrique du Sud",AL:"Albanie",DZ:"Alg\xe9rie",DE:"Allemagne",AD:"Andorre",AO:"Angola",AI:"Anguilla",AQ:"Antarctique",AG:"Antigua-et-Barbuda",AN:"Antilles n\xe9erlandaises",SA:"Arabie saoudite",AR:"Argentine",AM:"Arm\xe9nie",AW:"Aruba",AU:"Australie",AT:"Autriche",AZ:"Azerba\xefdjan",BS:"Bahamas",BH:"Bahre\xefn",BD:"Bangladesh",BB:"Barbade",BY:"B\xe9larus",BE:"Belgique",BZ:"Belize",BJ:"B\xe9nin",BM:"Bermudes",BT:"Bhoutan",BO:"Bolivie",BA:"Bosnie-Herz\xe9govine",BW:"Botswana",BR:"Br\xe9sil",BN:"Brun\xe9i Darussalam",BG:"Bulgarie",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodge",CM:"Cameroun",CA:"Canada",CV:"Cap-Vert",EA:"Ceuta et Melilla",CL:"Chili",CN:"Chine",CY:"Chypre",CO:"Colombie",KM:"Comores",CG:"Congo-Brazzaville",KP:"Cor\xe9e du Nord",KR:"Cor\xe9e du Sud",CR:"Costa Rica",CI:"C\xf4te d\u2019Ivoire",HR:"Croatie",CU:"Cuba",DK:"Danemark",DG:"Diego Garcia",DJ:"Djibouti",DM:"Dominique",EG:"\xc9gypte",SV:"El Salvador",AE:"\xc9mirats arabes unis",EC:"\xc9quateur",ER:"\xc9rythr\xe9e",ES:"Espagne",EE:"Estonie",VA:"\xc9tat de la Cit\xe9 du Vatican",FM:"\xc9tats f\xe9d\xe9r\xe9s de Micron\xe9sie",US:"\xc9tats-Unis",ET:"\xc9thiopie",FJ:"Fidji",FI:"Finlande",FR:"France",GA:"Gabon",GM:"Gambie",GE:"G\xe9orgie",GS:"G\xe9orgie du Sud et les \xeeles Sandwich du Sud",GH:"Ghana",GI:"Gibraltar",GR:"Gr\xe8ce",GD:"Grenade",GL:"Groenland",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernesey",GN:"Guin\xe9e",GQ:"Guin\xe9e \xe9quatoriale",GW:"Guin\xe9e-Bissau",GY:"Guyana",GF:"Guyane fran\xe7aise",HT:"Ha\xefti",HN:"Honduras",HU:"Hongrie",BV:"\xcele Bouvet",CX:"\xcele Christmas",CP:"\xcele Clipperton",AC:"\xcele de l'Ascension",IM:"\xcele de Man",NF:"\xcele Norfolk",AX:"\xceles \xc5land",KY:"\xceles Ca\xefmans",IC:"\xceles Canaries",CC:"\xceles Cocos - Keeling",CK:"\xceles Cook",FO:"\xceles F\xe9ro\xe9",HM:"\xceles Heard et MacDonald",FK:"\xceles Malouines",MP:"\xceles Mariannes du Nord",MH:"\xceles Marshall",UM:"\xceles Mineures \xc9loign\xe9es des \xc9tats-Unis",SB:"\xceles Salomon",TC:"\xceles Turks et Ca\xefques",VG:"\xceles Vierges britanniques",VI:"\xceles Vierges des \xc9tats-Unis",IN:"Inde",ID:"Indon\xe9sie",IQ:"Irak",IR:"Iran",IE:"Irlande",IS:"Islande",IL:"Isra\xebl",IT:"Italie",JM:"Jama\xefque",JP:"Japon",JE:"Jersey",JO:"Jordanie",KZ:"Kazakhstan",KE:"Kenya",KG:"Kirghizistan",KI:"Kiribati",KW:"Kowe\xeft",LA:"Laos",LS:"Lesotho",LV:"Lettonie",LB:"Liban",LR:"Lib\xe9ria",LY:"Libye",LI:"Liechtenstein",LT:"Lituanie",LU:"Luxembourg",MK:"Mac\xe9doine",MG:"Madagascar",MY:"Malaisie",MW:"Malawi",MV:"Maldives",ML:"Mali",MT:"Malte",MA:"Maroc",MQ:"Martinique",MU:"Maurice",MR:"Mauritanie",YT:"Mayotte",MX:"Mexique",MD:"Moldavie",MC:"Monaco",MN:"Mongolie",ME:"Mont\xe9n\xe9gro",MS:"Montserrat",MZ:"Mozambique",MM:"Myanmar",NA:"Namibie",NR:"Nauru",NP:"N\xe9pal",NI:"Nicaragua",NE:"Niger",NG:"Nig\xe9ria",NU:"Niue",NO:"Norv\xe8ge",NC:"Nouvelle-Cal\xe9donie",NZ:"Nouvelle-Z\xe9lande",OM:"Oman",UG:"Ouganda",UZ:"Ouzb\xe9kistan",PK:"Pakistan",PW:"Palaos",PA:"Panama",PG:"Papouasie-Nouvelle-Guin\xe9e",PY:"Paraguay",NL:"Pays-Bas",PE:"P\xe9rou",PH:"Philippines",PN:"Pitcairn",PL:"Pologne",PF:"Polyn\xe9sie fran\xe7aise",PR:"Porto Rico",PT:"Portugal",QA:"Qatar",HK:"R.A.S. chinoise de Hong Kong",MO:"R.A.S. chinoise de Macao",QO:"r\xe9gions \xe9loign\xe9es de l\u2019Oc\xe9anie",CF:"R\xe9publique centrafricaine",CD:"R\xe9publique d\xe9mocratique du Congo",DO:"R\xe9publique dominicaine",CZ:"R\xe9publique tch\xe8que",RE:"R\xe9union",RO:"Roumanie",GB:"Royaume-Uni",RU:"Russie",RW:"Rwanda",EH:"Sahara occidental",BL:"Saint-Barth\xe9l\xe9my",KN:"Saint-Kitts-et-Nevis",SM:"Saint-Marin",MF:"Saint-Martin",PM:"Saint-Pierre-et-Miquelon",VC:"Saint-Vincent-et-les Grenadines",SH:"Sainte-H\xe9l\xe8ne",LC:"Sainte-Lucie",WS:"Samoa",AS:"Samoa am\xe9ricaines",ST:"Sao Tom\xe9-et-Principe",SN:"S\xe9n\xe9gal",RS:"Serbie",CS:"Serbie-et-Mont\xe9n\xe9gro",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapour",SK:"Slovaquie",SI:"Slov\xe9nie",SO:"Somalie",SD:"Soudan",LK:"Sri Lanka",SE:"Su\xe8de",CH:"Suisse",SR:"Suriname",SJ:"Svalbard et \xcele Jan Mayen",SZ:"Swaziland",SY:"Syrie",TJ:"Tadjikistan",TW:"Ta\xefwan",TZ:"Tanzanie",TD:"Tchad",TF:"Terres australes fran\xe7aises",IO:"Territoire britannique de l'oc\xe9an Indien",PS:"Territoire palestinien",TH:"Tha\xeflande",TL:"Timor oriental",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinit\xe9-et-Tobago",TA:"Tristan da Cunha",TN:"Tunisie",TM:"Turkm\xe9nistan",TR:"Turquie",TV:"Tuvalu",UA:"Ukraine",EU:"Union europ\xe9enne",UY:"Uruguay",VU:"Vanuatu",VE:"Venezuela",VN:"Vi\xeat Nam",WF:"Wallis-et-Futuna",YE:"Y\xe9men",ZM:"Zambie",ZW:"Zimbabwe"},xa=function(e,t,n,a){return me.get(e+(null!=t?"?search="+t:"?"+a),{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}})},ma=function(e,t,n){return me.get(e+"Reseau-Structures/?search="+t,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}})},Oa=function(e,t,n){return me.get(e+"Unite-Logistiques/?RPULCINPRD="+t,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}})},ga=function(e,t,n){return me.get("".concat(e).concat(t),{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}})},ya=function(){var e=Object(l.a)(i.a.mark((function e(t,n,a,r,s,o,c){var d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=s&&s.New.map(function(){var e=Object(l.a)(i.a.mark((function e(a,r){var s,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.post(t+"Reseau-Structures/",a,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}});case 2:return s=e.sent,o=s.data,c={RLRDDEB:a.RLRDDEB,RLRCINSMM:a.RLRINSMM,RLRCINSMF:o.ID_ROWID},e.next=7,me.post(t+"Lien-Structures/",c,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=3,me.post(t,a,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}});case 3:return d=e.sent,null!=r&&me.patch("".concat(t).concat(d.data.ID_ROWID,"/"),r,{headers:{Authorization:"Bearer "+n,"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundaryEwxlBBDdYQdWdUgK"}}),null!=o&&o.New.map(function(){var e=Object(l.a)(i.a.mark((function e(a,r){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.RPLLCINPRD=d.data.ID_ROWID,e.next=3,me.post(t+"Variante-Logistiques/",a,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}});case 3:s=e.sent,null!=a.ASC&&a.ASC.map(function(){var e=Object(l.a)(i.a.mark((function e(a,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.RACCINVL=s.data.ID_ROWID,e.next=3,me.post(t+"Assortiment-Commendable/",a,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}});case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=a.UL&&a.UL.map(function(){var e=Object(l.a)(i.a.mark((function e(a,r){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.RPULCINVL=s.data.ID_ROWID,e.next=3,me.post(t+"Unite-Logistiques/",a,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}});case 3:o=e.sent,null!=a.VV&&a.VV.map(function(){var e=Object(l.a)(i.a.mark((function e(a,r){var s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("RPVVCEXT",a.RPVVCEXT),s.append("RPVVLIBL",a.RPVVLIBL),s.append("RPVVLIBC",a.RPVVLIBC),s.append("RPVVETAT",1),s.append("RPVVPUVC",a.RPVVPUVC),null!=a.RPVVPHOTO&&s.append("RPVVPHOTO",a.RPVVPHOTO),s.append("RPVVCINUL",o.data.ID_ROWID),e.next=10,me.post(t+"Variante-Ventes/",s,{headers:{Authorization:"Bearer "+n,"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundaryEwxlBBDdYQdWdUgK"}});case 10:return c=e.sent,null!=a.ASV&&a.ASV.map(function(){var e=Object(l.a)(i.a.mark((function e(a,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.RAVCINVV=c.data.ID_ROWID,e.next=3,me.post(t+"Assortiment-Vendable/",a,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=14,me.post(t+"Prix-Vente/",{RPVPRIX:a.RPVPRIX,RPVCINVV:c.data.ID_ROWID},{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}});case 14:return e.next=16,me.post(t+"Code-Caisses/",{PRCDDEB:a.PRCDDEB,PRCCODE:a.PRCCODE,PRCDFIN:a.PRCDFIN,RPCINUV:c.data.ID_ROWID},{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}});case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=c&&c.New.map(function(){var e=Object(l.a)(i.a.mark((function e(a,r){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("RPTFILE",a.RPTFILE),s.append("RPTNAMFIL",a.RPTNAMFIL),s.append("RPTTYPDOC",a.RPTTYPDOC),s.append("RPTCINPRD",d.data.ID_ROWID),e.next=7,me.post(t+"Attachement-Files/",s,{headers:{Authorization:"Bearer "+n,"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundaryEwxlBBDdYQdWdUgK"}});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r,s,o,c){return e.apply(this,arguments)}}(),va=function(){var e=Object(l.a)(i.a.mark((function e(t,n,a,r,s,o,c,d,u,p){var h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=s&&s.New.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){var s,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.post(t+"Reseau-Structures/",n,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 2:return s=e.sent,o=s.data,c={RLRDDEB:n.RLRDDEB,RLRCINSMM:n.RLRINSMM,RLRCINSMF:o.ID_ROWID},e.next=7,me.post(t+"Lien-Structures/",c,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(h=new FormData).append("RPRCEXT",r.RPRCEXT),h.append("RPRLIBL",r.RPRLIBL),h.append("RPRLIBC",r.RPRLIBC),h.append("RPRLANGUE",r.RPRLANGUE),h.append("RPRDSC",r.RPRDSC),h.append("RPRTYPE",r.RPRTYPE),h.append("RPRETAT",r.RPRETAT),h.append("RPRCINSM",r.RPRCINSM),h.append("RPRUSTOCK",r.RPRUSTOCK),h.append("RPRIGARANTI",r.RPRIGARANTI),h.append("RPRIDAnger",r.RPRIDAnger),r.RPRPHOTO&&h.append("RPRPHOTO",r.RPRPHOTO.originFileObj),e.next=16,me.put("".concat(t).concat(n,"/"),h,{headers:{Authorization:"Bearer "+a,"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundaryEwxlBBDdYQdWdUgK"}});case 16:return null!=d&&d.New.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){var s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("RPVVCEXT",n.RPVVCEXT),s.append("RPVVLIBL",n.RPVVLIBL),s.append("RPVVLIBC",n.RPVVLIBC),s.append("RPVVETAT",1),s.append("RPVVPUVC",n.RPVVPUVC),n.RPVVPHOTO&&s.append("RPVVPHOTO",n.RPVVPHOTO),s.append("RPVVCINUL",n.RPVVCINUL),e.next=10,me.post(t+"Variante-Ventes/",s,{headers:{Authorization:"Bearer "+a,"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundaryEwxlBBDdYQdWdUgK"}});case 10:return o=e.sent,null!=n.ASV&&n.ASV.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.RAVCINVV=o.data.ID_ROWID,e.next=3,me.post(t+"Assortiment-Vendable/",n,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=14,me.post(t+"Prix-Vente/",{RPVPRIX:n.RPVPRIX,RPVCINVV:o.data.ID_ROWID},{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 14:return e.next=16,me.post(t+"Code-Caisses/",{PRCDDEB:n.PRCDDEB,PRCCODE:n.PRCCODE,PRCDFIN:n.PRCDFIN,RPCINUV:o.data.ID_ROWID},{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=d&&d.update.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("RPVVCEXT",n.RPVVCEXT),s.append("RPVVLIBL",n.RPVVLIBL),s.append("RPVVLIBC",n.RPVVLIBC),s.append("RPVVETAT",n.RPVVETAT),s.append("RPVVPUVC",n.RPVVPUVC),s.append("RPVVCINUL",n.RPVVCINUL),e.next=9,me.put(t+"Variante-Ventes/"+n.ID_ROWID+"/",s,{headers:{Authorization:"Bearer "+a,"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundaryEwxlBBDdYQdWdUgK"}});case 9:e.sent;case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=d&&d.delete.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:me.delete(t+"Variante-Ventes/"+n.ID_ROWID,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=o&&o.New.map(function(){var e=Object(l.a)(i.a.mark((function e(r,s){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.RPLLCINPRD=n,e.next=3,me.post(t+"Variante-Logistiques/",r,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 3:o=e.sent,null!=r.UL&&r.UL.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.RPULCINVL=o.data.ID_ROWID,e.next=3,me.post(t+"Unite-Logistiques/",n,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 3:s=e.sent,null!=n.VV&&n.VV.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){var o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new FormData).append("RPVVCEXT",n.RPVVCEXT),o.append("RPVVLIBL",n.RPVVLIBL),o.append("RPVVLIBC",n.RPVVLIBC),o.append("RPVVETAT",n.RPVVETAT),o.append("RPVVPUVC",n.RPVVPUVC),n.RPVVPHOTO&&o.append("RPVVPHOTO",n.RPVVPHOTO),o.append("RPVVCINUL",s.data.ID_ROWID),e.next=10,me.post(t+"Variante-Ventes/",o,{headers:{Authorization:"Bearer "+a,"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundaryEwxlBBDdYQdWdUgK"}});case 10:return c=e.sent,null!=n.ASV&&n.ASV.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.RAVCINVV=c.data.ID_ROWID,e.next=3,me.post(t+"Assortiment-Vendable/",n,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=14,me.post(t+"Prix-Vente/",{RPVPRIX:n.RPVPRIX,RPVCINVV:c.data.ID_ROWID},{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 14:return e.next=16,me.post(t+"Code-Caisses/",{PRCDDEB:n.PRCDDEB,PRCCODE:n.PRCCODE,PRCDFIN:n.PRCDFIN,RPCINUV:c.data.ID_ROWID},{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=o&&o.update.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.put(t+"Variante-Logistiques/"+n.ID_ROWID+"/",n,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=o&&o.delete.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:me.delete(t+"Variante-Logistiques/"+n.ID_ROWID,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=c&&c.New.map(function(){var e=Object(l.a)(i.a.mark((function e(r,s){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new FormData).append("RPTFILE",r.RPTFILE),o.append("RPTNAMFIL",r.RPTNAMFIL),o.append("RPTTYPDOC",r.RPTTYPDOC),o.append("RPTCINPRD",n),e.next=7,me.post(t+"Attachement-Files/",o,{headers:{Authorization:"Bearer "+a,"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundaryEwxlBBDdYQdWdUgK"}});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=c&&c.delete.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.delete(t+"Attachement-Files/"+n.ID_ROWID,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=p&&p.New.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.post(t+"Assortiment-Vendable/",n,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=p&&p.update.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.put(t+"Assortiment-Vendable/"+n.ID_ROWID+"/",n,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=p&&p.delete.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.delete(t+"Assortiment-Vendable/"+n.ID_ROWID,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=u&&u.New.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.post(t+"Unite-Logistiques/",n,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=u&&u.update.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.put(t+"Unite-Logistiques/"+n.ID_ROWID+"/",n,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=u&&u.delete.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.delete(t+"Unite-Logistiques/"+n.ID_ROWID,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return");case 31:case"end":return e.stop()}}),e)})));return function(t,n,a,r,s,o,c,i,l,d){return e.apply(this,arguments)}}(),Ra=Object(N.jsx)(Je.a,{style:{fontSize:16,color:"#1890ff"}});function wa(e,t){return e.filter((function(e){return e.mere===t})).reduce((function(t,n){return[].concat(Object(ae.a)(t),[{title:n.RRSMLIBL,value:n.ID_ROWID,children:wa(e,n.ID_ROWID)}])}),[])}var Sa=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).formRef=r.a.createRef(),a.getToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetToken------------------"),t&&(console.log("error => :",t),a.props.goTo("../403")),null==n&&(console.log("tokne is null => : ",n),a.props.goTo("../403")),a.setState({token:n}),console.log("tokne from host => :",a.state.token),console.log("-------------------fin-GetToken-------------------"),e.next=8,a.getSM();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.getRefrechToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetRefrechToken------------------"),t&&(console.log("error => :",t),a.props.goTo("403")),null==n&&(console.log("Refech tokne is null => : ",n),a.props.goTo("../403")),a.setState({Refrech:n}),console.log("Refech tokne from host => :",a.state.Refrech),console.log("-------------------fin-GetRefrechToken-------------------"),e.t0=a.props.hostStorage,e.next=9,a.getToken;case 9:e.t1=e.sent,e.t0.get.call(e.t0,"access_token",e.t1);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.onSearch=function(e){console.log("------------------debut-onSearch------------------"),console.log("Rechercher par => :",e),a.props.goTo("userAdvancedSearchPath?search="+e),console.log("-------------------fin-onSearch-------------------")},a.onFilter=function(e){console.log("------------------debut-onSearch------------------"),console.log("Filtrer par => :",e),a.props.goTo("userAdvancedSearchPath?"+e),console.log("-------------------fin-onSearch-------------------")},a.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-Submit-NewVarianteVente------------------"),!0,Ge.b.loading("Loading..",true);try{n="&RPRTYPE="+(null!=t.RPRTYPE?t.RPRTYPE:"")+"&RPRCINSM="+(null!=t.RPRCINSM?t.RPRCINSM:"")+"&RPRETAT="+(null!=t.RPRETAT?t.RPRETAT:"")+"&RPRUSTOCK="+(null!=t.RPRUSTOCK?t.RPRUSTOCK:"")+"&RPRIGARANTI="+(null!=t.RPRIGARANTI?t.RPRIGARANTI:"")+"&RPRIDAnger="+(null!=t.RPRIDAnger?t.RPRIDAnger:""),console.log("filtre => : ",n),a.onFilter(n),console.log("------------------fin-Submit-NewVarianteVente------------------")}catch(r){console.log("error :",r),console.log("------------------fin-Submit-NewVarianteVente------------------")}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){a.formRef.current.submit()},a.onReset=function(){a.formRef.current.resetFields()},a.state={width:"",visible:!1,TreeSM:[]},a.getRefrechToken=a.getRefrechToken.bind(Object(zt.a)(a)),a.getToken=a.getToken.bind(Object(zt.a)(a)),a}return Object(I.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.props.hostStorage,e.next=3,this.getRefrechToken;case 3:e.t1=e.sent,e.t0.get.call(e.t0,"refresh_token",e.t1);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSM",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetStructures-Marchandise------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,ma(this.props.service,"",t||this.state.token);case 7:n=e.sent,console.log("succes from api : Produit =>  (getStructures-Marchandise()) => :",n),a=wa(n.data,null),console.log(n.data,"=> tree =>",a),this.setState({TreeSM:a}),console.log("-------------------fin-GetStructures-Marchandise-------------------"),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(4),console.log("Error from api : Produit =>  getStructures-Marchandise  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500"),console.log("-------------------fin-GetStructures-Marchandise-------------------");case 20:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,n=this,a=this.state.visible;return Object(N.jsxs)("div",{style:{height:"100%",width:this.state.width,paddingTop:"90px"},children:[Object(N.jsx)(te.a,{offsetTop:150,style:{position:"fixed",left:"95%",top:"90%"},children:Object(N.jsx)(te.d,{type:"primary",shape:"circle",size:"large",onClick:function(){return n.props.goTo(O)},children:Object(N.jsx)(Qe.a,{})})}),Object(N.jsx)(te.q,{title:"Recherche avanc\xe9e",centered:!0,visible:a,onOk:function(){n.onSubmit(),n.setState({visible:!1})},onCancel:function(){n.setState({visible:!1}),n.onReset()},okText:"Apply filter",width:800,children:Object(N.jsx)(st.b,{form:{validateMessages:ba.fr},children:Object(N.jsx)(te.l,{ref:this.formRef,layout:"vertical",name:"control-ref",onFinish:this.onFinish,children:Object(N.jsx)(D.a,{gutter:[20,20],justify:"center",align:"stretch",children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsxs)(D.a,{gutter:[16,0],align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:8,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Acronyme",style:{marginBottom:"15px"},name:"RPRLIBC",children:Object(N.jsx)(B.a,{placeholder:"Entrer l'acronyme..."})})," "]})})})," ",Object(N.jsx)(U.a,{span:16,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{style:{marginBottom:"15px"},label:"Libelle",name:"RPRLIBL",children:Object(N.jsx)(B.a,{placeholder:"Entrer libelle..."})})," "]})})}),Object(N.jsx)(U.a,{span:8,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"15px"},label:"Type",name:"RPRTYPE",children:Object(N.jsxs)(te.u,{allowClear:!0,placeholder:"Selectionner le type...",children:[Object(N.jsx)(te.u.Option,{value:2,children:"Consommable"}),Object(N.jsx)(te.u.Option,{value:1,children:"Service"})]})})})})})," ",Object(N.jsx)(U.a,{span:8,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RPRCINSM",label:"Cat\xe9gorie",style:{marginBottom:"15px"},children:Object(N.jsx)(te.E,(e={style:{width:"100%"},dropdownStyle:{maxHeight:190,overflow:"auto"},onChange:this.onChange,showSearch:!0},Object(Ve.a)(e,"style",{width:"100%"}),Object(Ve.a)(e,"placeholder","Selectionner la cat\xe9gorie\u200b..."),Object(Ve.a)(e,"allowClear",!0),Object(Ve.a)(e,"treeDefaultExpandAll",!0),Object(Ve.a)(e,"treeData",this.state.TreeSM),e))})})})})," ",Object(N.jsx)(U.a,{span:8,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"15px"},label:"Unite de stock",name:"RPRUSTOCK",children:Object(N.jsxs)(te.u,{allowClear:!0,placeholder:"Selectionner l'Unite de stock...",children:[Object(N.jsx)(te.u.Option,{value:1,children:"Piece"}),Object(N.jsx)(te.u.Option,{value:2,children:"Kilo fix"}),Object(N.jsx)(te.u.Option,{value:3,children:"Kilo moyen"}),Object(N.jsx)(te.u.Option,{value:4,children:"kilo Pese"})," "]})})})})}),Object(N.jsx)(U.a,{span:8,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,(t={style:{marginBottom:"15px"},label:"Etat"},Object(Ve.a)(t,"style",{width:"100%"}),Object(Ve.a)(t,"name","RPRETAT"),Object(Ve.a)(t,"children",Object(N.jsx)(te.n,{style:{width:"100%"}})),t))," "]})})})," ",Object(N.jsx)(U.a,{span:8,style:{display:"flex",alignContent:"center",flexWrap:"wrap"},children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"15px"},name:"RPRIGARANTI",valuePropName:"checked",children:Object(N.jsx)(te.e,{children:"\u200bGarantie"})})})})})," ",Object(N.jsx)(U.a,{span:8,style:{display:"flex",alignContent:"center",flexWrap:"wrap"},children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"15px"},name:"RPRIDAnger",valuePropName:"checked",children:Object(N.jsx)(te.e,{children:"Produit dangereux"})})})})})," "]})})})})})}),Object(N.jsxs)(D.a,{gutter:[16,30],align:"middle",justify:"space-around",children:[Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(z.b,{children:Object(N.jsx)("img",{src:"./search3.png",alt:"ooo",style:{width:"410px"}})})})," ",Object(N.jsxs)(U.a,{span:""==this.state.width?9:15,children:[" ",Object(N.jsxs)(D.a,{align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:2,children:Object(N.jsx)(te.d,{type:"primary",style:{height:"100%"},onClick:function(e){n.setState({visible:!0})},children:Object(N.jsx)(ha.a,{})})}),Object(N.jsx)(U.a,{span:22,children:Object(N.jsx)(B.a.Search,{placeholder:"what are you looking for ?",enterButton:"Search",size:"large",suffix:Ra,onSearch:function(e){return n.onSearch(e)}})})]})]})]})]})}}]),n}(a.Component),Ca=Object(Ze.i)(Sa),ka=function(e){var t=Object(a.useState)(null!=e.defaultValue?[{uid:"-1",name:"imagex.png",status:"done",url:null!=e.defaultValue?e.defaultValue:""}]:[]),n=Object(d.a)(t,2),r=n[0],s=n[1];Object(a.useEffect)(Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e.defaultValue);case 1:case"end":return t.stop()}}),t)}))),[]);var o=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url){e.next=5;break}return e.next=4,new Promise((function(e){var n=new FileReader;n.readAsDataURL(t.originFileObj),n.onload=function(){return e(n.result)}}));case 4:n=e.sent;case 5:(a=new Image).src=n,window.open(n).document.write(a.outerHTML);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)(Sn.a,{className:"user-avatar",listType:"picture-card",fileList:r,onChange:function(t){var n=t.fileList;s(n),console.log(n[0]),e.setImage(n[0])},onPreview:o,disabled:e.readOnly,style:{width:"100%",objectFit:"cover"},children:r.length<1&&"+ Upload"})},Ta=n(539),La=n(538),Ia=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).formRef=r.a.createRef(),a.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-Submit-NewSTMarchandise------------------"),!0,Ge.b.loading("Loading..",true);try{console.log(t),a.props.setNewSM(t),a.props.closeDrawer(),a.onReset(),console.log("------------------fin-Submit-NewSTMarchandise------------------")}catch(n){console.log("error :",n),console.log("------------------fin-Submit-NewSTMarchandise------------------")}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){a.formRef.current.submit(),console.log(a.formRef.current)},a.onReset=function(){a.formRef.current.resetFields()},a.labelComposant=function(e,t){return Object(N.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(N.jsx)(te.F,{style:{display:"flex",width:"100px",fontSize:"14px",fontWeight:"600"},children:e})})},a.onChange=function(e){console.log(e),a.setState({value:e})},a.state={loading:!1,value:null},a}return Object(I.a)(n,[{key:"render",value:function(){var e,t=this;return Object(N.jsxs)(st.b,{form:{validateMessages:ba.fr},children:[Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[Object(N.jsx)(te.F,{style:{display:"flex",fontSize:"15px",fontWeight:"600",marginBottom:"15px"},children:"New Categorie"}),Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(La.a,{}),onClick:function(){return t.onReset()}})]}),Object(N.jsx)(te.l,{ref:this.formRef,layout:"vertical",name:"control-ref",onFinish:this.onFinish,children:Object(N.jsx)(D.a,{gutter:[20,20],justify:"center",align:"stretch",children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsxs)(D.a,{gutter:[16,0],align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:16,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{label:"Code",name:"RRSMCEXT",rules:[{required:!0,max:50}],children:Object(N.jsx)(B.a,{placeholder:"Entrer le code..."})})})})}),Object(N.jsx)(U.a,{span:8,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Max niveaux",name:"RRSMNIV",rules:[{required:!0,type:"number"}],hasFeedback:!0,children:Object(N.jsx)(te.n,{style:{width:"100%"},placeholder:"max niveau..."})})," "]})})}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{label:"Acronyme",name:"RRSMLIBC",rules:[{required:!1,max:35}],children:Object(N.jsx)(B.a,{placeholder:"Entrer l'acronyme'..."})})})})})," ",Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Libell\xe9",name:"RRSMLIBL",rules:[{required:!1,max:50}],children:Object(N.jsx)(B.a,{placeholder:"Entrer libell\xe9..."})})," "]})})}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RLRINSMM",label:"Categorie M\xe9re",style:{width:"100%"},hasFeedback:!0,rules:[{required:!1}],children:Object(N.jsx)(te.E,(e={style:{width:"100%"},value:this.state.value,dropdownStyle:{maxHeight:190,overflow:"auto"},onChange:this.onChange,showSearch:!0},Object(Ve.a)(e,"style",{width:"100%"}),Object(Ve.a)(e,"placeholder","Selectionner la cat\xe9gorie\u200b..."),Object(Ve.a)(e,"allowClear",!0),Object(Ve.a)(e,"treeDefaultExpandAll",!0),Object(Ve.a)(e,"treeData",this.props.SMListes),e))})})})}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Date D\xe9but",style:{width:"100%"},name:"RLRDDEB",rules:[{required:!0}],hasFeedback:!0,children:Object(N.jsx)(te.h,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",style:{width:"100%"},onChange:this.handleInputChange})})," "]})})})," ",Object(N.jsx)(rt.a,{}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",style:{display:"flex",justifyContent:"flex-end"},children:Object(N.jsxs)(te.v,{children:[Object(N.jsx)(te.d,{onClick:function(e){t.props.closeDrawer(),t.onReset()},children:"close"}),Object(N.jsx)(te.d,{type:"primary",onClick:function(e){t.onSubmit()},children:"submit"})]})})})})," "]})})})})]})}}]),n}(a.Component);function Pa(e,t){return e.filter((function(e){return e.mere===t})).reduce((function(t,n){return[].concat(Object(ae.a)(t),[{title:n.RRSMLIBL,value:n.ID_ROWID,children:Pa(e,n.ID_ROWID)}])}),[])}var Va=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).labelComposant=function(e,t){return Object(N.jsx)("div",{className:"ant-input-group-addon",style:Object(Ve.a)({border:"1px solid #dcdcdc",display:"inline-flex",width:"128px",paddingLeft:"10px",height:"32px"},"width","25%"),children:Object(N.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[" ",Object(N.jsx)(te.F,{className:"text-input-group",style:{display:"flex",width:"120px",fontSize:"14px",fontWeight:"600"},children:e})]})})},a.state={TreeSM:[]},a}return Object(I.a)(n,[{key:"componentDidUpdate",value:function(e){if(e.AllSM!==this.props.AllSM){var t=Pa(this.props.AllSM,null);console.log(this.props.AllSM,"=> tree =>",t),this.setState({TreeSM:t})}}},{key:"componentDidMount",value:function(){var e=Pa(this.props.AllSM,null);console.log(this.props.AllSM,"=> tree =>",e),this.setState({TreeSM:e})}},{key:"render",value:function(){var e,t=this,n=this.props,a=(n.update,n.handleInputChange);return Object(N.jsx)(D.a,{gutter:[20,20],justify:"center",align:"stretch",children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsxs)(D.a,{gutter:[16,0],align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:12,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsxs)(B.a.Group,{compact:!0,children:[this.labelComposant("Type",wn.a),Object(N.jsx)(te.l.Item,{name:"RPRTYPE",style:{marginBottom:"15px",width:"75%"},hasFeedback:!0,rules:[{required:!1}],children:Object(N.jsxs)(te.u,{onChange:a,allowClear:!0,placeholder:"Selectionner le type...",disabled:!this.props.update,children:[Object(N.jsx)(te.u.Option,{value:2,children:"Consommable"}),Object(N.jsx)(te.u.Option,{value:1,children:"Service"})]})})]})})})}),Object(N.jsx)(U.a,{span:12,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsxs)(B.a.Group,{compact:!0,children:[this.labelComposant("Etat",wn.a),Object(N.jsx)(te.l.Item,{name:"RPRETAT",style:{marginBottom:"15px",width:"75%"},hasFeedback:!0,rules:[{required:!1}],children:Object(N.jsxs)(te.u,{onChange:a,allowClear:!0,placeholder:"Selectionner l'etat'...",disabled:!this.props.update,children:[Object(N.jsx)(te.u.Option,{value:0,children:"1"}),Object(N.jsx)(te.u.Option,{value:1,children:"2"}),Object(N.jsx)(te.u.Option,{value:2,children:"3"})]})})]})})})})," ",Object(N.jsx)(U.a,{span:12,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsxs)(B.a.Group,{compact:!0,children:[this.labelComposant("Unit\xe9 de stock",wn.a),Object(N.jsx)(te.l.Item,{name:"RPRUSTOCK",style:{marginBottom:"15px",width:"75%"},hasFeedback:!0,rules:[{required:!0}],children:Object(N.jsxs)(te.u,{onChange:a,allowClear:!0,placeholder:"Selectionner l'unit\xe9 de stock'...",disabled:!this.props.update,children:[Object(N.jsx)(te.u.Option,{value:1,children:"Piece"}),Object(N.jsx)(te.u.Option,{value:2,children:"Kilo fix"}),Object(N.jsx)(te.u.Option,{value:3,children:"Kilo moyen"}),Object(N.jsx)(te.u.Option,{value:4,children:"kilo Pese"})]})})]})})})})," ",Object(N.jsx)(U.a,{span:12,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsxs)(B.a.Group,{compact:!0,children:[this.labelComposant("Langue",wn.a),Object(N.jsx)(te.l.Item,{name:"RPRLANGUE",style:{marginBottom:"15px",width:"75%"},hasFeedback:!0,rules:[{required:!1}],children:Object(N.jsxs)(te.u,{onChange:a,allowClear:!0,placeholder:"Selectionner la langue...",disabled:!this.props.update,children:[Object(N.jsx)(te.u.Option,{value:"en",children:"Anglais"}),Object(N.jsx)(te.u.Option,{value:"fr",children:"Fran\xe7ais"}),Object(N.jsx)(te.u.Option,{value:"ar",children:"Arabe"})]})})]})})})})," ",Object(N.jsx)(U.a,{span:12,children:Object(N.jsxs)(D.a,{gutter:[0,0],align:"stretch",wrap:!1,children:[Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsxs)(B.a.Group,{compact:!0,children:[this.labelComposant("Categorie",wn.a),Object(N.jsx)(te.l.Item,{name:"RPRCINSM",style:{marginBottom:"15px",width:"75%"},hasFeedback:!0,rules:[{required:!1}],children:Object(N.jsx)(te.E,(e={disabled:!this.props.update,style:{width:"100%"},dropdownStyle:{maxHeight:190,overflow:"auto"},onChange:this.onChange,showSearch:!0},Object(Ve.a)(e,"style",{width:"100%"}),Object(Ve.a)(e,"placeholder","Selectionner la cat\xe9gorie\u200b..."),Object(Ve.a)(e,"allowClear",!0),Object(Ve.a)(e,"treeDefaultExpandAll",!0),Object(Ve.a)(e,"treeData",this.state.TreeSM),e))})]})}),Object(N.jsx)(U.a,{flex:"40px",style:{marginBottom:"15px"},children:Object(N.jsx)(te.d,{type:"primary",disabled:!this.props.update,onClick:function(e){t.props.showDrawer(e),t.props.setSiseForm("935px"),t.props.setDrawerState("",Object(N.jsx)(Ia,{SMListes:t.state.TreeSM,setNewSM:function(e){return t.props.setNewSM(e)},closeDrawer:function(){return t.props.closeDrawer()}}),500,(function(){console.log("en close drawer"),t.props.setSiseForm("")}))},icon:Object(N.jsx)(Ta.a,{}),size:"small",style:{height:"100%",width:"100%"}})})]})}),Object(N.jsx)(U.a,{span:6,style:{display:"flex",alignContent:"center",flexWrap:"wrap"},children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"15px"},name:"RPRIGARANTI",valuePropName:"checked",children:Object(N.jsx)(te.e,{disabled:!this.props.update,children:"\u200bGarantie"})})})})})," ",Object(N.jsx)(U.a,{span:6,style:{display:"flex",alignContent:"center",flexWrap:"wrap"},children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"15px"},name:"RPRIDAnger",valuePropName:"checked",children:Object(N.jsx)(te.e,{disabled:!this.props.update,children:"Produit dangereux"})})})})})," "]})})})}}]),n}(a.Component),Aa=n(492),Da=n(543),Ua=n(70);for(var Fa=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).formRef=r.a.createRef(),a.onChange=function(e){a.setState({targetKeys:e})},a.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-Submit-NewVarianteVente------------------"),n=t.date,!0,Ge.b.loading("Loading..",true);try{console.log("vlul => ",a.state.VLUL[t.RPVVCINUL],!!a.state.VLUL[t.RPVVCINUL]&&null!=a.state.VLUL[t.RPVVCINUL].VL),t.RPVVCINUL=a.state.VLUL[t.RPVVCINUL]&&null!=a.state.VLUL[t.RPVVCINUL].VL?a.state.VLUL[t.RPVVCINUL]:t.RPVVCINUL,null!=n&&(t.PRCDDEB=n[0].format("YYYY-MM-DD HH:mm:ss"),t.PRCDFIN=n[1].format("YYYY-MM-DD HH:mm:ss")),t.RPVVPHOTO=null!=t.RPVVPHOTO&&t.RPVVPHOTO.fileList[0].originFileObj,t.imageUrl=a.state.imageUrl,console.log(t),a.props.setNewVV(t),a.props.closeDrawer(),a.props.addVV(t),a.onReset(),a.setState({VLUL:[]}),console.log("------------------fin-Submit-NewVarianteVente------------------")}catch(r){console.log("error :",r),console.log("------------------fin-Submit-NewVarianteVente------------------")}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){a.formRef.current.submit(),console.log(a.formRef.current)},a.onReset=function(){a.formRef.current.resetFields(),a.setState({changecome:!1})},a.handleChange=function(e){!function(e,t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)})),n.readAsDataURL(e)}(e.file.originFileObj,(function(e){return a.setState({imageUrl:e,loadingPhoto:!1})}))},a.labelComposant=function(e,t){return Object(N.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(N.jsx)(te.F,{style:{display:"flex",width:"100px",fontSize:"14px",fontWeight:"600"},children:e})})},a.state={VLUL:[],userData:[],loadingPhoto:!1,changecome:!1,Profiles:[],loading:!0,form:{},photo:null,targetKeys:[],update:!0,defaultValue:null!=a.props.contact?a.props.contact[0]:null,datas:{US_EMAIL:"",US_NOMUSR:"",US_PRNUSR:"",US_TYPUSR:""}},a}return Object(I.a)(n,[{key:"activerUpdate",value:function(){}},{key:"getUlType",value:function(e){switch(e){case 0:return"uvc";case 1:return"sub-carton";case 2:return"carton";case 3:return"couche";case 3:return"palette";default:return"autre"}}},{key:"componentDidMount",value:function(){var e=this;console.log("all ul",this.props.ListAllUL),null!=this.props.ListUL&&this.props.ListUL.map((function(t,n){null!=t.UL&&t.UL.map((function(a,r){e.state.VLUL.push({VL:n,UL:r,titre:t.RPLLCEXT+" "+a.RPULTYPUL})}))})),this.setState({loading:!1,VLUL:this.props.ListAllUL.concat(this.state.VLUL)}),console.log("all ul finale",this.state.VLUL)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.isLoading,t.handleInputChange,this.state),a=n.loadingPhoto,r=n.imageUrl,s=Object(N.jsxs)("div",{children:[a?Object(N.jsx)(Ua.a,{}):Object(N.jsx)(Qe.a,{}),Object(N.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return!this.state.loading&&Object(N.jsxs)(st.b,{form:{validateMessages:ba.fr},children:[Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[Object(N.jsx)(te.F,{style:{display:"flex",fontSize:"15px",fontWeight:"600",marginBottom:"15px"},children:"New variante de vente"}),Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(La.a,{}),onClick:function(){return e.onReset()}})]}),Object(N.jsx)(te.l,{ref:this.formRef,layout:"vertical",name:"control-ref",initialValues:Object(nt.a)({},this.state.defaultValue),onFinish:this.onFinish,children:Object(N.jsx)(D.a,{gutter:[20,20],justify:"center",align:"stretch",children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsxs)(D.a,{gutter:[16,0],align:"stretch",justify:"space-between",children:[Object(N.jsxs)(U.a,{span:24,children:[" ",Object(N.jsxs)(D.a,{gutter:[16,0],align:"stretch",justify:"space-between",children:[Object(N.jsxs)(U.a,{span:14,children:[" ",Object(N.jsxs)(D.a,{gutter:[0,0],align:"stretch",children:[Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Code",name:"RPVVCEXT",rules:[{required:!0,max:50}],hasFeedback:!0,children:Object(N.jsx)(B.a,{placeholder:"Entrer le Code..."})})," "]}),Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Libelle",name:"RPVVLIBL",rules:[{required:!0,max:150}],hasFeedback:!0,children:Object(N.jsx)(B.a,{placeholder:"Entrer le libell\xe9..."})})," "]})]})]})," ",Object(N.jsxs)(U.a,{span:10,children:[" ",Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{margin:"28px 0 0 0"},name:"RPVVPHOTO",rules:[{required:!1}],children:Object(N.jsx)(te.G,{name:"avatar",listType:"picture-card",className:"vv-uploader",showUploadList:!1,style:{width:"500px",objectFit:"cover"},action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",onChange:this.handleChange,children:r?Object(N.jsx)("img",{src:r,alt:"avatar",style:{width:"100%",objectFit:"cover"}}):s})})})]})]})]}),Object(N.jsx)(U.a,{span:8,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Acronyme",name:"RPVVLIBC",rules:[{required:!1,max:35}],hasFeedback:!0,children:Object(N.jsx)(B.a,{placeholder:"Entrer l'acronyme..."})})," "]})})})," ",Object(N.jsx)(U.a,{span:16,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{label:"Unit\xe9 logistique",name:"RPVVCINUL",hasFeedback:!0,rules:[{required:!0}],children:Object(N.jsx)(te.u,{allowClear:!0,placeholder:"Selectionner l'unit\xe9 logistique...",children:null!=this.state.VLUL&&this.state.VLUL.map((function(t,n){return Object(N.jsx)(te.u.Option,{value:t.titre?n:t.ID_ROWID,children:t.titre?t.titre:e.getUlType(t.RPULTYPUL)+", ("+t.cextVl+")"})}))})})})})})," ",Object(N.jsx)(U.a,{span:12,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Code barre",style:{width:"100%"},name:"PRCCODE",hasFeedback:!0,children:Object(N.jsx)(te.n,{style:{width:"100%"},placeholder:"ABC-abc-1234"})})," "]})})})," ",Object(N.jsx)(U.a,{span:12,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Periode validit\xe9",style:{width:"100%"},name:"date",hasFeedback:!0,children:Object(N.jsx)(te.h.RangePicker,{showTime:!0,style:{width:"100%"}})})," "]})})})," ",Object(N.jsx)(U.a,{span:9,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RPVPRIX",label:"Prix de ventes",style:{width:"100%"},hasFeedback:!0,rules:[{required:!1}],children:Object(N.jsx)(te.n,{style:{width:"100%"},addonAfter:"$",placeholder:"50.00$"})})})})}),Object(N.jsx)(U.a,{span:15,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"poid/contenance ",style:{width:"100%"},name:"RPVVPUVC",hasFeedback:!0,children:Object(N.jsx)(te.n,{style:{width:"100%"},addonAfter:"$",placeholder:"1.00 kg"})})," "]})})})," ",Object(N.jsx)(rt.a,{style:{margin:"0px",marginTop:"40px"}}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",style:{display:"flex",justifyContent:"flex-end",marginTop:"10px"},children:Object(N.jsxs)(te.v,{children:[Object(N.jsx)(te.d,{onClick:function(t){e.props.closeDrawer(),e.onReset()},children:"close"}),Object(N.jsx)(te.d,{type:"primary",onClick:function(t){e.onSubmit()},children:"submit"})]})})})})," "]})})})})]})}}]),n}(a.Component),Na=n(540),Ea=n(541),Ma=n(542),Ba=n(275),za=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){var e=this;return Object(N.jsxs)(te.t,{justify:"end",children:[Object(N.jsx)(te.f,{span:20,style:{display:"flex"},children:Object(N.jsxs)(te.v,{size:0,children:[Object(N.jsx)(te.k,{overlay:Object(N.jsxs)(te.p,{style:{minWidth:"250px"},className:"dms-divder-menu",children:[Object(N.jsx)(te.i,{orientation:"left",plain:!0,children:"Vues syst\xe8me"}),this.props.vues.vueSysteme.map((function(e,t){return Object(N.jsx)(te.p.Item,{children:Object(N.jsxs)(te.t,{children:[Object(N.jsx)(te.f,{span:2,children:Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:e.check&&Object(N.jsx)(Na.a,{}),size:"small"})}),Object(N.jsxs)(te.f,{span:17,children:[Object(N.jsx)(te.i,{type:"vertical"}),e.titre]}),Object(N.jsx)(te.f,{span:5,children:Object(N.jsx)(te.t,{wrap:!1,justify:"end",align:"middle",children:Object(N.jsx)(te.f,{span:24,children:Object(N.jsxs)(te.v,{children:[Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:Object(N.jsx)(qe.a,{}),size:"small"}),Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:Object(N.jsx)(He.a,{}),size:"small"})]})})})})]})},"1")})),Object(N.jsx)(te.i,{orientation:"left",plain:!0,children:"Vues personnalis\xe9s"}),this.props.vues.vuesPersonnalises.map((function(e,t){return Object(N.jsx)(te.p.Item,{children:Object(N.jsxs)(te.t,{children:[Object(N.jsx)(te.f,{span:2,children:Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:e.check&&Object(N.jsx)(Na.a,{}),size:"small"})}),Object(N.jsxs)(te.f,{span:17,children:[Object(N.jsx)(te.i,{type:"vertical"}),e.titre]}),Object(N.jsx)(te.f,{span:5,children:Object(N.jsx)(te.t,{wrap:!1,justify:"end",align:"middle",children:Object(N.jsx)(te.f,{span:24,children:Object(N.jsxs)(te.v,{children:[Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:Object(N.jsx)(qe.a,{}),size:"small"}),Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:Object(N.jsx)(He.a,{}),size:"small"})]})})})})]})},"1")})),Object(N.jsx)(te.p.Divider,{}),Object(N.jsx)(te.p.Item,{children:Object(N.jsx)("div",{className:"vue-personnalisee",children:"Cr\xe9er une vue personnalis\xe9e"})},"3")]}),trigger:["click"],children:Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(Ea.a,{className:"dms-table-icon-secandary"}),onClick:function(e){return e.preventDefault()}})}),Object(N.jsxs)("div",{className:"dms-table-icon-secandary",style:{fontWeight:"500",fontSize:"17px"},children:[" ",this.props.title]}),Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:Object(N.jsx)(Ma.a,{className:"dms-table-icon-primary"}),size:"small"})]})}),Object(N.jsxs)(te.f,{span:4,style:{display:"flex",justifyContent:"flex-end"},children:[Object(N.jsxs)(te.v,{size:0,children:[Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(Y.a,{className:"dms-table-icon-secandary"})}),Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(Be.a,{className:"dms-table-icon-secandary"})})," ",Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(Ba.a,{className:"dms-table-icon-secandary"})})," ",Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(ha.a,{className:"dms-table-icon-secandary"})}),Object(N.jsx)(te.d,{type:"text",onClick:function(t){return e.props.enAdd(t)},icon:Object(N.jsx)(Ta.a,{className:"dms-table-icon-primary"})})]})," "]})]})}}]),n}(a.Component),qa={expandedRowRender:function(e){return Object(N.jsx)("p",{children:e.description})}},Ha={position:"bottom"},_a=[],Ga=1;Ga<=1;Ga++)_a.push({titre:"Vue syst\xe9me "+Ga,check:!0});for(var Wa=[],$a=1;$a<=3;$a++)Wa.push({titre:"Vues personnalis\xe9s "+$a,check:!1});var Ya={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},onSelect:function(e,t,n){console.log(e,t,n)},onSelectAll:function(e,t,n){console.log(e,t,n)}},Ka=r.a.createContext(null),Xa=function(e){e.index;var t=Object(at.a)(e,["index"]),n=Un.a.useForm(),a=Object(d.a)(n,1)[0];return Object(N.jsx)(Un.a,{form:a,component:!1,children:Object(N.jsx)(Ka.Provider,{value:a,children:Object(N.jsx)("tr",Object(nt.a)({},t))})})},Za=function(e){e.title,e.pattern,e.max,e.required;var t=e.editable,n=e.children,r=e.dataIndex,s=e.record,o=e.handleSave,c=e.setUpdateVV,u=e.Uls,p=(e.disabled,e.type),h=(e.update,Object(at.a)(e,["title","pattern","max","required","editable","children","dataIndex","record","handleSave","setUpdateVV","Uls","disabled","type","update"])),j=Object(a.useState)(!1),b=Object(d.a)(j,2),f=b[0],x=b[1],m=Object(a.useRef)(null),O=Object(a.useContext)(Ka);Object(a.useEffect)((function(){f&&m.current.focus()}),[f]);var g=function(){x(!f),O.setFieldsValue(Object(Ve.a)({},r,s[r]))},y=function(e){switch(e){case 0:return"uvc";case 1:return"sub-carton";case 2:return"carton";case 3:return"couche";case 3:return"palette";default:return"autre"}},v=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.validateFields();case 3:t=e.sent,console.log("variante vente update => ",t,"recorde",s),g(),c(s,t),o(Object(nt.a)(Object(nt.a)({},s),t)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),R=n;return t&&(R=f?Object(N.jsx)(Un.a.Item,{style:{margin:0},name:r,children:"number"==p?Object(N.jsx)(te.n,{size:"small",bordered:!1,ref:m,onPressEnter:v,onBlur:v}):"select"==p?Object(N.jsx)(te.u,{size:"small",showSearch:!0,bordered:!1,ref:m,onPressEnter:v,onBlur:v,optionFilterProp:"children",children:null!=u&&u.map((function(e,t){return Object(N.jsx)(te.u.Option,{value:e.titre?t:e.ID_ROWID,children:e.titre?e.titre:y(e.RPULTYPUL)+", ("+e.cextVl+")"})}))}):Object(N.jsx)(B.a,{size:"small",bordered:!1,ref:m,onPressEnter:v,onBlur:v})}):Object(N.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:g,children:n})),Object(N.jsx)("td",Object(nt.a)(Object(nt.a)({},h),{},{children:R}))},Ja=function(e){var t=e.title,n=e.content;return Object(N.jsxs)("div",{style:{display:"flex"},children:[Object(N.jsxs)("p",{style:{marginRight:"10px"},children:[t,":"]}),Object(N.jsx)(te.F.Paragraph,{type:"secondary",children:n})," "]})},Qa=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).handleDelete=function(e){var t=Object(ae.a)(a.state.dataSource),n=t.findIndex((function(t){return t.key==e}));console.log(t,n),a.props.setDeleteVV(t[n]),a.setState({dataSource:t.filter((function(t){return t.key!==e}))})},a.handleAdd=function(e){var t=a.state,n=t.count,r=t.dataSource,s=e;s.key=r.length,a.setState({dataSource:[].concat(Object(ae.a)(r),[s]),count:n+1})},a.handleSave=function(e){var t=Object(ae.a)(a.state.dataSource),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(nt.a)(Object(nt.a)({},r),e)),a.setState({dataSource:t})},a.showModal=function(e){console.log(e),a.setState({visible:!0,width:380,contenu:Object(N.jsx)(te.t,{gutter:[5,5],style:{minHeight:"180px",maxHeight:"180px"},children:!!e&&Object(N.jsxs)(te.f,{span:24,style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[" ",Object(N.jsx)(te.h.RangePicker,{showTime:!0,bordered:!1,defaultValue:[On()(e[0].PRCDDEB,"YYYY-MM-DD HH:mm:ss"),On()(e[0].PRCDFIN,"YYYY-MM-DD HH:mm:ss")]}),Object(N.jsx)("img",{src:"./codeBarre.png",style:{width:"300px"}})," ",Object(N.jsx)(te.F,{style:{fontSize:"17px"},children:e[0].PRCCODE+""})," "]})}),title:"Code Bare"})},a.showModalUL=function(e){a.setState({visible:!0,width:500,contenu:Object(N.jsxs)("div",{children:[Object(N.jsxs)(te.t,{children:[Object(N.jsx)(te.f,{span:12,children:Object(N.jsx)(Ja,{title:"Code",content:a.props.ListAllUL[e].RPULCEXT})}),Object(N.jsx)(te.f,{span:12,children:Object(N.jsx)(Ja,{title:"Type",content:a.props.ListAllUL[e].RPULTYPUL})})]})," ",Object(N.jsxs)(te.t,{children:[Object(N.jsx)(te.f,{span:12,children:Object(N.jsx)(Ja,{title:"Etat",content:"---"})}),Object(N.jsx)(te.f,{span:12,children:Object(N.jsx)(Ja,{title:"Poid",content:a.props.ListAllUL[e].RPULPOID})})]})," ",Object(N.jsxs)(te.t,{children:[Object(N.jsx)(te.f,{span:12,children:Object(N.jsx)(Ja,{title:"Longueur",content:a.props.ListAllUL[e].RPULLANG})}),Object(N.jsx)(te.f,{span:12,children:Object(N.jsx)(Ja,{title:"Largeur",content:a.props.ListAllUL[e].RPULLARG})})," "]})," ",Object(N.jsxs)(te.t,{children:[Object(N.jsx)(te.f,{span:12,children:Object(N.jsx)(Ja,{title:"Coefition",content:a.props.ListAllUL[e].RPULCOEF})}),Object(N.jsx)(te.f,{span:12,children:Object(N.jsx)(Ja,{title:"Hauteur",content:a.props.ListAllUL[e].RPULHAUT})})]}),Object(N.jsx)(te.t,{children:Object(N.jsx)(te.f,{span:24,children:Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:"Description"}),Object(N.jsx)(te.F.Paragraph,{type:"secondary",children:a.props.ListAllUL[e].RPULDSC})," "]})})})]}),title:"Unit\xe9 logistique"})},a.handleOk=function(){a.setState({modalText:"The modal will be closed after two seconds",confirmLoading:!0}),setTimeout((function(){a.setState({visible:!1,confirmLoading:!1})}),2e3)},a.handleCancel=function(){console.log("Clicked cancel button",a.state.VLUL),a.setState({visible:!1})},a.columns=[{title:"",dataIndex:"RPVVPHOTO",width:"5%",ellipsis:!0,fixed:"left",render:function(e,t){return Object(N.jsx)(te.b,{src:t.imageUrl?t.imageUrl:!!t.RPVVPHOTO&&t.RPVVPHOTO,size:40,shape:"circle",children:t.RPVVLIBC})}},{title:"code",max:30,pattern:"^[a-zA-Z]*$",required:!1,disabled:a.props.update,dataIndex:"RPVVCEXT",width:"15%",type:"",fixed:"left",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"libelle",max:10,pattern:"^[a-zA-Z0-9_-]+$",required:!1,type:"",disabled:a.props.update,dataIndex:"RPVVLIBL",width:"15%",ellipsis:!0,editable:!0},{title:"acronym",max:4,pattern:"^[0-9]*$",required:!1,dataIndex:"RPVVLIBC",width:"15%",ellipsis:!0,editable:!0},{title:"Unity Logistique",max:15,type:"select",pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RPVVCINUL",width:"25%",ellipsis:!0,editable:!0},{title:"Etat",max:5,type:"number",required:!1,dataIndex:"RPVVETAT",width:"7%",ellipsis:!0,editable:!0},{title:"Poid",max:15,type:"number",pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RPVVPUVC",width:"7%",ellipsis:!0,editable:!0},{title:"Code caisse",max:15,pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"PRCCODE",render:function(e,t){return Object(N.jsx)(q.a,{type:"text",icon:Object(N.jsx)(Da.a,{}),onClick:function(){return a.showModal(t.CodeCaise)}})},width:"11%",ellipsis:!0,editable:!1},{title:"",fixed:"right",width:"5%",dataIndex:"operation",render:function(e,t){return a.state.dataSource.length>=1?Object(N.jsx)(Fn.a,{title:"Sure to delete?",onConfirm:function(){return a.handleDelete(t.key)},children:Object(N.jsx)(He.a,{style:{color:"#f44336"}})}):null}}],a.state={VLUL:[],visible:!1,confirmLoading:!1,modalText:"Content of the modal",bordered:!1,loading:!1,pagination:Ha,expandable:qa,showHeader:!0,rowSelection:{},scroll:void 0,hasData:!0,tableLayout:void 0,top:"none",bottom:"bottomRight",dataSource:[],count:2},a}return Object(I.a)(n,[{key:"getDataSource",value:function(){return this.state.dataSource}},{key:"componentDidMount",value:function(){var e=this;console.log("datas",this.props.datasource),null!=this.props.datasource&&this.props.datasource.map((function(e,t){Object.assign(e,{key:t})})),this.setState({dataSource:null!=this.props.datasource?this.props.datasource:[]}),console.log("all ul",this.props.ListAllUL),null!=this.props.ListUL&&this.props.ListUL.map((function(t,n){null!=t.UL&&t.UL.map((function(a,r){e.state.VLUL.push({VL:n,UL:r,titre:t.RPLLCEXT+" "+a.RPULTYPUL})}))})),this.setState({loading:!1,VLUL:this.props.ListAllUL.concat(this.state.VLUL)}),console.log("all ul finale",this.state.VLUL)}},{key:"render",value:function(){var e=this,t=this.state.dataSource,n={body:{row:Xa,cell:Za}},a=this.columns.map((function(t){return t.editable&&e.props.update?(console.log("boom ka => ",e.props.update),Object(nt.a)(Object(nt.a)({},t),{},{onCell:function(n){return{record:n,editable:t.editable,dataIndex:t.dataIndex,title:t.title,max:t.max,required:t.required,disabled:t.disabled,pattern:t.pattern,type:t.type,update:e.props.update,handleSave:e.handleSave,Uls:e.state.VLUL,setUpdateVV:e.props.setUpdateVV}}})):t})),r=this.state,s=r.xScroll,o=r.yScroll,c=(Object(at.a)(r,["xScroll","yScroll"]),{});return o&&(c.y=240),s&&(c.x="100vw"),Object(N.jsxs)("div",{children:[" ",Object(N.jsx)(Aa.a,{className:"template-dms",title:function(){return Object(N.jsx)(za,{vues:{vueSysteme:_a,vuesPersonnalises:Wa},title:"Variante de vente",enAdd:function(t){e.props.showDrawer(t),e.props.setSiseForm("935px"),e.props.setDrawerState("",Object(N.jsx)(Fa,{ListAllUL:e.props.ListAllUL,ListUL:e.props.ListUL,setNewVV:function(t){return e.props.setNewVL(t)},closeDrawer:function(){return e.props.closeDrawer()},addVV:function(t){return e.handleAdd(t)},isLoading:e.props.isLoading,changecome:e.props.changecome,updateCtc:e.props.updateCtc,onFormulaireChange:function(t){return e.props.onFormulaireChange(t)},token:e.props.token,hostStorage:e.props.hostStorage,goTo:function(t){return e.props.goTo(t)},handleInputChange:e.props.handleInputChange,user_id:e.props.user_id,service:e.props.service}),500,(function(){console.log("en close drawer"),e.props.setSiseForm("")}))},type:"primary",style:{marginBottom:16}})},size:"small",pagination:{position:[this.state.top,this.state.bottom]},scroll:{x:500},components:n,rowSelection:Object(nt.a)({},Ya),rowClassName:function(){return"editable-row"},dataSource:t,columns:a})," ",Object(N.jsx)(te.q,{title:this.state.title,width:this.state.width,visible:this.state.visible,onOk:this.handleCancel,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,children:this.state.contenu})]})}}]),n}(r.a.Component),er=n(544),tr=n(545),nr=n(42),ar=Sn.a.Dragger,rr={name:"file",multiple:!0,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?Ge.b.success("".concat(e.file.name," file uploaded successfully.")):"error"===t&&Ge.b.error("".concat(e.file.name," file upload failed."))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};for(var sr=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).formRef=r.a.createRef(),a.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-Submit-Newfiles------------------");try{console.log(t),[],t.RPTFILE.fileList.map((function(e,n){a.state.listData.push({RPTFILE:"https://ant.design",RPTNAMFIL:t.RPTNAMFIL+" "+n,avatar:"./file/"+e.name.split(".").pop()+".png",extension:"."+e.name.split(".").pop(),RPTTYPDOC:t.RPTTYPDOC,key:a.state.listData.length+1}),console.log("this.state.listData =>",a.state.listData),a.props.setNewFiles({RPTFILE:e.originFileObj,RPTNAMFIL:t.RPTNAMFIL+" "+n,RPTTYPDOC:t.RPTTYPDOC,key:a.state.listData.length})})),a.setState({modalText:"The modal will be closed after two seconds",confirmLoading:!0}),setTimeout((function(){a.setState({visible:!1,confirmLoading:!1}),a.onReset()}),2e3),console.log("------------------fin-Submit-Newfiles------------------")}catch(n){console.log("error :",n),console.log("------------------fin-Submit-Newfiles------------------")}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){a.formRef.current.submit(),console.log(a.formRef.current)},a.onReset=function(){a.formRef.current.resetFields()},a.showModal=function(){a.setState({visible:!0})},a.handleOk=function(){a.onSubmit()},a.handleCancel=function(){console.log("Clicked cancel button"),a.setState({visible:!1}),a.onReset()},a.state={listData:[],visible:!1,confirmLoading:!1,modalText:"Content of the modal",loading:!0},a.deleteFiles=a.deleteFiles.bind(Object(zt.a)(a)),a}return Object(I.a)(n,[{key:"getfileimage",value:function(e){switch(e){case".txt":case".doc":return"./file/doc.png";case".css":return"./file/css.png";case".gif":return"./file/gif.png";case".html":return"./file/html.png";case".mov":return"./file/mov.png";case".mp3":return"./file/mp3.png";case".pdf":return"./file/pdf.png";case".ppt":return"./file/ppt.png";case".xls":return"./file/xls.png";case".zip":return"./file/zip.png";default:return"./file/jpg.png"}}},{key:"getTypeDoc",value:function(e){switch(e){case 1:return"Image";case 2:return"Guide";case 3:return"Doc installation";default:return"autre"}}},{key:"componentDidMount",value:function(){this.state.listData=this.props.ListFiles?this.props.ListFiles:[],this.setState({loading:!1})}},{key:"deleteFiles",value:function(e){console.log("itemm => ",e),this.props.setDeleteFiles(e);var t=this.state.listData.filter((function(t){return t!==e}));this.setState({listData:t})}},{key:"render",value:function(){var e=this;return!this.state.loading&&Object(N.jsx)("div",{style:{padding:"5px",height:"100%"},children:Object(N.jsxs)(te.t,{gutter:[10,10],justify:"space-between",align:"stretch",children:[Object(N.jsxs)(te.f,{span:24,style:{height:"100%",display:"flex",justifyContent:"flex-end"},children:[Object(N.jsx)(B.a,{size:"small",prefix:Object(N.jsx)(Y.a,{style:{color:"#aaa"}}),bordered:!1,placeholder:"Entrer le nom du fichier..."}),Object(N.jsxs)(te.u,{defaultValue:"Jiangsu",children:[Object(N.jsx)(te.u.Option,{value:"Zhejiang",children:"image"}),Object(N.jsx)(te.u.Option,{value:"Jxiangsu",children:" Guide"}),Object(N.jsx)(te.u.Option,{value:"Jiangsu",children:" Doc installation"})]})," ",Object(N.jsx)(q.a,{type:"primary",onClick:this.showModal,icon:Object(N.jsx)(Ta.a,{}),children:"New"})," ",Object(N.jsxs)(te.q,{title:"Title",style:{display:"flex"},width:500,visible:this.state.visible,onOk:this.handleOk,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,children:[Object(N.jsx)(st.b,{form:{validateMessages:ba.fr},children:Object(N.jsxs)(te.l,{ref:this.formRef,layout:"vertical",name:"control-ref",initialValues:Object(nt.a)({},this.state.defaultValue),onFinish:this.onFinish,children:[" ",Object(N.jsxs)(te.t,{gutter:[5,5],style:{minHeight:"250px",maxHeight:"400px",overflowY:"auto"},children:[Object(N.jsx)(te.f,{span:8,children:Object(N.jsx)(te.l.Item,{name:"RPTTYPDOC",hasFeedback:!0,rules:[{required:!0}],children:Object(N.jsxs)(te.u,{defaultValue:1,style:{width:"100%"},children:[Object(N.jsx)(te.u.Option,{value:1,children:"image"}),Object(N.jsx)(te.u.Option,{value:2,children:" Guide"}),Object(N.jsxs)(te.u.Option,{value:3,children:[" ","Doc installation"]})]})})}),Object(N.jsx)(te.f,{span:16,children:Object(N.jsx)(te.l.Item,{name:"RPTNAMFIL",hasFeedback:!0,rules:[{required:!1}],children:Object(N.jsx)(B.a,{style:{width:"100%"},placeholder:"Entrer le nom du fichier..."})})}),Object(N.jsx)(te.f,{span:24,style:{height:"200px"},children:Object(N.jsx)(te.l.Item,{name:"RPTFILE",rules:[{required:!1}],children:Object(N.jsxs)(ar,Object(nt.a)(Object(nt.a)({},rr),{},{listType:"picture",children:[Object(N.jsx)("p",{className:"ant-upload-drag-icon",children:Object(N.jsx)(er.a,{})}),Object(N.jsxs)("p",{className:"ant-upload-text",children:["Drop files to upload or ",Object(N.jsx)("a",{children:"browse"})]})]}))})})]})]})})," "]})]})," ",Object(N.jsx)(te.f,{span:24,style:{height:"100%"},children:Object(N.jsx)(re.b,{size:"small",pagination:{onChange:function(e){console.log(e)},pageSize:4},dataSource:this.state.listData,renderItem:function(t){return Object(N.jsx)(re.b.Item,{actions:[Object(N.jsxs)(nr.a,{to:{pathname:".cv.pdf"},target:"_blank",download:!0,children:[" ",Object(N.jsx)(q.a,{type:"text",icon:Object(N.jsx)(Ba.a,{style:{color:"#69609e"}}),size:"small"})]}),Object(N.jsx)("a",{href:"./cv.pdf",target:"_blank",children:Object(N.jsx)(q.a,{type:"text",icon:Object(N.jsx)(tr.a,{style:{color:"#69609e"}}),size:"small"})}),Object(N.jsx)(te.r,{title:"Are you sure to delete this task?",onConfirm:function(){return e.deleteFiles(t)},okText:"Yes",cancelText:"No",children:Object(N.jsx)("a",{href:"#",children:Object(N.jsx)(He.a,{style:{color:"#69609e"}})})})],children:Object(N.jsx)(re.b.Item.Meta,{avatar:Object(N.jsx)(G.a,{src:e.getfileimage(t.extension),shape:"square",style:{padding:"4px"}}),title:Object(N.jsxs)(z.b,{style:{display:"flex"},children:[" ",Object(N.jsxs)(nr.a,{to:{pathname:".cv.pdf"},target:"_blank",children:[" ",t.RPTNAMFIL]}),Object(N.jsx)(te.B,{color:"purple",children:t.extension})]}),description:Object(N.jsx)("div",{style:{display:"flex"},children:Object(N.jsx)(te.F.Text,{type:"secondary",style:{lineHeight:"0.5715",fontSize:"12px"},children:e.getTypeDoc(t.RPTTYPDOC)})})})},t.title)}})}),Object(N.jsx)(te.f,{span:10,style:{padding:"5px",overflowY:"auto"}})," "]})})}}]),n}(a.Component),or=n(547),cr=n(546),ir={expandedRowRender:function(e){return Object(N.jsx)("p",{children:e.description})}},lr={position:"bottom"},dr=[],ur=1;ur<=1;ur++)dr.push({titre:"Vue syst\xe9me "+ur,check:!0});for(var pr=[],hr=1;hr<=3;hr++)pr.push({titre:"Vues personnalis\xe9s "+hr,check:!1});for(var jr=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a,s;return Object(L.a)(this,n),(s=t.call(this,e)).formRef=r.a.createRef(),s.onTypeChange=function(e){s.state.typeUniteL[e].active=!1},s.onChange=function(e){s.setState({targetKeys:e})},s.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-Submit-NewPlanPalitisation------------------"),!0,Ge.b.loading("Loading..",true);try{console.log(t),null!=t.UL?t.UL.map((function(e,t){return e.VV=[],e.key=t})):t.UL=[],t.UL0=s.state.dataSource,t.ASC=[],s.props.setNewVL(t),s.props.setListeAllUl(s.state.dataSource),s.props.closeDrawer(),s.props.addVL(t),s.onReset(),console.log("------------------fin-Submit-NewPlanPalitisation------------------")}catch(n){console.log("error :",n),console.log("------------------fin-Submit-NewPlanPalitisation------------------")}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.onSubmit=function(){s.formRef.current.submit(),console.log(s.formRef.current)},s.onReset=function(){s.formRef.current.resetFields(),s.setState({dataSource:[]})},s.labelComposant=function(e,t){return Object(N.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(N.jsx)(te.F,{style:{display:"flex",width:"100px",fontSize:"14px",fontWeight:"600"},children:e})})},s.handleDelete=function(e){var t=Object(ae.a)(s.state.dataSource);s.setState({dataSource:t.filter((function(t){return t.key!==e}))})},s.handleAdd=function(){var e=s.state,t=e.count,n=e.dataSource,a={key:t,RPULTYPUL:0,RPULCEXT:"code..",RPULDSC:"description..",RPULCOEF:0,RPULETAT:0,RPULPOID:0,RPULLANG:0,RPULLARG:0,RPULHAUT:0,VV:[]};s.setState({dataSource:[a].concat(Object(ae.a)(n)),count:t+1})},s.handleSave=function(e){var t=Object(ae.a)(s.state.dataSource),n=t.findIndex((function(t){return e.key===t.key})),a=t[n];t.splice(n,1,Object(nt.a)(Object(nt.a)({},a),e)),s.setState({dataSource:t})},s.columns=[{title:"Code",type:"text",pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RPULCEXT",width:"10%",fixed:"left",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"Type",type:"select",required:!1,dataIndex:"RPULTYPUL",width:"15%",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"Coefition",type:"number",required:!0,dataIndex:"RPULCOEF",width:"10%",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"Poid",type:"number",required:!1,dataIndex:"RPULPOID",width:"8%",ellipsis:!0,showSorterTooltip:!0,editable:!0},{title:"Longueur ",type:"number",required:!1,dataIndex:"RPULLANG",width:"11%",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"Largeur ",type:"number",required:!1,dataIndex:"RPULLARG",width:"10%",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"Hauteur ",type:"number",required:!1,dataIndex:"RPULHAUT",width:"10%",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"Description",type:"text",pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RPULDSC",width:"20%",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"",fixed:"right",width:"5%",dataIndex:"operation",render:function(e,t){return s.state.dataSource.length>=1?Object(N.jsx)(Fn.a,{title:"Sure to delete?",onConfirm:function(){return s.handleDelete(t.key)},children:Object(N.jsx)(He.a,{style:{color:"#f44336"}})}):null}}],s.state=(a={typeUniteL:[{value:0,titel:"uvc",active:!0},{value:1,titel:"sub-carton",active:!0},{value:2,titel:"carton",active:!0},{value:3,titel:"couche",active:!0},{value:4,titel:"palette",active:!0}],bordered:!1,loading:!1,pagination:lr,expandable:ir,showHeader:!0,rowSelection:{},scroll:void 0,hasData:!0,tableLayout:void 0,top:"none",bottom:"bottomRight",dataSource:[],count:2,userData:[],changecome:!1,Profiles:[]},Object(Ve.a)(a,"loading",!1),Object(Ve.a)(a,"form",{}),Object(Ve.a)(a,"photo",null),Object(Ve.a)(a,"targetKeys",[]),Object(Ve.a)(a,"update",!0),Object(Ve.a)(a,"defaultValue",null!=s.props.contact?s.props.contact[0]:null),Object(Ve.a)(a,"datas",{US_EMAIL:"",US_NOMUSR:"",US_PRNUSR:"",US_TYPUSR:""}),a),s}return Object(I.a)(n,[{key:"activerUpdate",value:function(){}},{key:"getDataSource",value:function(){return this.state.dataSource}},{key:"render",value:function(){var e=this,t=this.props,n=t.isLoading,a=(t.handleInputChange,this.state.dataSource,this.columns.map((function(t){return t.editable?Object(nt.a)(Object(nt.a)({},t),{},{onCell:function(n){return{record:n,editable:t.editable,dataIndex:t.dataIndex,title:t.title,max:t.max,required:t.required,pattern:t.pattern,type:t.type,handleSave:e.handleSave}}}):t})),this.state),r=a.xScroll,s=a.yScroll,o=(Object(at.a)(a,["xScroll","yScroll"]),{});return s&&(o.y=240),r&&(o.x="100vw"),!n&&Object(N.jsxs)(st.b,{form:{validateMessages:ba.fr},children:[Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",borderBottom:"1px solid #eee",marginBottom:"10px"},children:[Object(N.jsx)(te.F,{style:{display:"flex",fontSize:"15px",fontWeight:"600",marginBottom:"10px"},children:"New plan de paltisation"}),Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(La.a,{}),onClick:function(){return e.onReset()}})]}),Object(N.jsx)(te.l,{ref:this.formRef,layout:"horizontal",name:"control-ref",initialValues:Object(nt.a)({},this.state.defaultValue),onFinish:this.onFinish,children:Object(N.jsx)(D.a,{gutter:[20,20],justify:"center",align:"stretch",style:{overflowY:"auto",height:"430px"},children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsxs)(D.a,{gutter:[16,0],align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:14,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{label:"Code",name:"RPLLCEXT",rules:[{required:!1,max:50}],children:Object(N.jsx)(B.a,{placeholder:"Entrer le code..."})})})})}),Object(N.jsx)(U.a,{span:10,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Etat",name:"RPLLETAT",hasFeedback:!0,children:Object(N.jsx)(te.n,{style:{width:"100%"},placeholder:"..."})})," "]})})})," ",Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{name:"RPLLDSC",rules:[{required:!0,max:2024}],hasFeedback:!0,children:Object(N.jsx)(B.a.TextArea,{rows:3,placeholder:"Entrer le libell\xe9 Lang..."})})," "]})})}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.List,{name:"UL",children:function(t,n){var a=n.add,r=n.remove;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:"20px"},children:[Object(N.jsx)(te.F.Title,{level:5,style:{fontSize:"16px",fontWeight:"400px"},children:"Unit\xe9 logistique"}),Object(N.jsx)(te.d,{type:"dashed",onClick:function(){return a()},style:{width:"6%"},icon:Object(N.jsx)(Qe.a,{})})]})," ",Object(N.jsxs)(D.a,{gutter:[10,10],justify:"space-between",align:"stretch",style:{marginBottom:"10px"},children:[Object(N.jsx)(U.a,{span:7,style:{display:"flex"},children:"Type"})," ",Object(N.jsx)(U.a,{span:3,style:{whiteSpace:"nowrap"},children:"Coefition"})," ",Object(N.jsx)(U.a,{span:3,style:{whiteSpace:"nowrap"},children:"Poid"}),Object(N.jsx)(U.a,{span:3,style:{whiteSpace:"nowrap"},children:"Langeur"})," ",Object(N.jsx)(U.a,{span:3,style:{whiteSpace:"nowrap"},children:"Largeur"}),Object(N.jsx)(U.a,{span:3,style:{whiteSpace:"nowrap"},children:"Hauteur"}),Object(N.jsx)(U.a,{span:2})]}),t.map((function(t){var n=t.key,a=t.name,s=t.fieldKey,o=Object(at.a)(t,["key","name","fieldKey"]);return Object(N.jsxs)("div",{style:{display:"flex",marginBottom:8,width:"100%",justifyContent:"space-between"},children:[" ",Object(N.jsxs)(te.v,{align:"baseline",children:[" ",Object(N.jsxs)(D.a,{gutter:[10,10],justify:"space-between",align:"stretch",children:[Object(N.jsxs)(U.a,{span:7,children:[" ",Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULTYPUL"],fieldKey:[s,"RPULTYPUL"],rules:[{required:!0}],children:Object(N.jsx)(te.u,{onChange:e.onTypeChange,showSearch:!0,children:e.state.typeUniteL.map((function(e,t){return Object(N.jsx)(te.u.Option,{value:e.value,disabled:!e.active,children:e.titel})}))})}))]}),Object(N.jsxs)(U.a,{span:3,children:[Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULCOEF"],fieldKey:[s,"RPULCOEF"],rules:[{required:!0}],children:Object(N.jsx)(te.n,{style:{width:"100%"}})}))," "]}),Object(N.jsxs)(U.a,{span:3,children:[Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULPOID"],fieldKey:[s,"RPULPOID"],rules:[{required:!1}],children:Object(N.jsx)(te.n,{style:{width:"100%"}})}))," "]}),Object(N.jsxs)(U.a,{span:3,children:[" ",Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULLANG"],fieldKey:[s,"RPULLANG"],rules:[{required:!1}],children:Object(N.jsx)(te.n,{style:{width:"100%"}})}))]})," ",Object(N.jsxs)(U.a,{span:3,children:[Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULLARG"],fieldKey:[s,"RPULLARG"],rules:[{required:!1}],children:Object(N.jsx)(te.n,{style:{width:"100%"}})}))," "]}),Object(N.jsxs)(U.a,{span:3,children:[" ",Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULHAUT"],fieldKey:[s,"RPULHAUT"],rules:[{required:!1}],children:Object(N.jsx)(te.n,{style:{width:"100%"}})}))]}),Object(N.jsx)(U.a,{span:2,children:Object(N.jsx)(cr.a,{onClick:function(){return r(a)}})})]})]},n)," "]})})),Object(N.jsx)(te.l.Item,{children:Object(N.jsx)(te.d,{type:"dashed",onClick:function(){a()},block:!0,icon:Object(N.jsx)(Qe.a,{}),children:"Add field"})})]})}})})})})]})})})}),Object(N.jsx)(rt.a,{}),Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",style:{display:"flex",justifyContent:"flex-end"},children:Object(N.jsxs)(te.v,{children:[Object(N.jsx)(te.d,{onClick:function(t){e.props.closeDrawer(),e.onReset()},children:"close"}),Object(N.jsx)(te.d,{type:"primary",onClick:function(t){e.onSubmit()},children:"submit"})]})})})]})}}]),n}(a.Component),br=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).formRef=r.a.createRef(),a.onTypeChange=function(e,t,n){var r=a.state,s=r.ToUpdate.findIndex((function(e){return e.key===t}));console.log(r.ToUpdate,"  =>existDeja => ",s),-1==s&&r.ToUpdate.push({key:t,name:n}),a.state.typeUniteL[e].active=!1},a.onChange=function(e,t){var n=a.state,r=n.ToUpdate.findIndex((function(t){return t.key===e}));console.log(n.ToUpdate,"  =>key "+e+" ,existDeja => ",r),-1==r&&n.ToUpdate.push({key:e,name:t})},a.onDelete=function(e,t){var n=a.state;console.log("Uls => ",a.state.Uls,"keu : ",e),n.ToDelete.push({key:e,name:t,ID_ROWID:null!=a.state.Uls[e]?a.state.Uls[e].ID_ROWID:null})},a.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-Submit-NewPlanPalitisation------------------"),!0,Ge.b.loading("Loading..",true);try{console.log("tout",t),console.log("update",a.state.ToUpdate),n=[],a.state.ToDelete.map((function(e,t){n.push({key:e.key,VL_key:a.props.VL_key,ID_ROWID:e.ID_ROWID})})),r=[],a.state.ToUpdate.map((function(e,n){t.UL[e.key].key=e.key,t.UL[e.key].VL_key=a.props.VL_key,r.push(t.UL[e.key])})),s=t.UL.filter((function(e){return!0===e.New})),console.log("New",s),console.log("update",r),console.log("delete",n),s.map((function(e,t){return a.props.setNewUL(e)})),r.map((function(e,t){return a.props.setUpdateUL(e)})),n.map((function(e,t){return a.props.setDeleteUL(e)})),a.setState({ToUpdate:[],deleteUL:[]}),console.log("------------------fin-Submit-NewPlanPalitisation------------------")}catch(o){console.log("error :",o),console.log("------------------fin-Submit-NewPlanPalitisation------------------")}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){a.formRef.current.submit(),console.log(a.formRef.current)},a.onReset=function(){a.formRef.current.resetFields()},a.labelComposant=function(e,t){return Object(N.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(N.jsx)(te.F,{style:{display:"flex",width:"100px",fontSize:"14px",fontWeight:"600"},children:e})})},a.state={ToUpdate:[],ToDelete:[],typeUniteL:[{value:0,titel:"uvc",active:!0},{value:1,titel:"sub-carton",active:!0},{value:2,titel:"carton",active:!0},{value:3,titel:"couche",active:!0},{value:4,titel:"palette",active:!0}],Uls:[],loading:!0,form:{},update:!0,datas:{US_EMAIL:"",US_NOMUSR:"",US_PRNUSR:"",US_TYPUSR:""}},a}return Object(I.a)(n,[{key:"componentDidUpdate",value:function(e){e.datas!==this.props.datas&&this.formRef.current.setFieldsValue({UL:this.props.datas})}},{key:"componentDidMount",value:function(){console.log("Uls => :",this.props.datas),this.setState({Uls:this.props.datas,loading:!1})}},{key:"render",value:function(){var e=this;return!this.state.loading&&Object(N.jsx)(D.a,{gutter:[20,20],justify:"center",align:"stretch",style:{overflowY:"auto",height:"100%",width:"100%"},children:Object(N.jsxs)(U.a,{span:24,children:[Object(N.jsx)(te.l,{ref:this.formRef,initialValues:{UL:this.state.Uls},onFinish:this.onFinish,children:Object(N.jsx)(te.l.List,{name:"UL",children:function(t,n){var a=n.add,r=n.remove;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:"20px"},children:Object(N.jsx)(te.F.Title,{level:5,style:{fontSize:"16px",fontWeight:"400px"},children:"Unit\xe9 logistique"})})," ",Object(N.jsxs)(D.a,{gutter:[10,10],justify:"space-between",align:"stretch",style:{marginBottom:"20px"},children:[Object(N.jsx)(U.a,{span:7,style:{display:"flex"},children:"Type"})," ",Object(N.jsx)(U.a,{span:3,children:"Coefition"})," ",Object(N.jsx)(U.a,{span:3,children:"Poid"}),Object(N.jsx)(U.a,{span:3,children:"Langeur"})," ",Object(N.jsx)(U.a,{span:3,children:"Largeur"}),Object(N.jsx)(U.a,{span:3,children:"Hauteur"}),Object(N.jsx)(U.a,{span:2})]}),t.map((function(t){var n=t.key,a=t.name,s=t.fieldKey,o=Object(at.a)(t,["key","name","fieldKey"]);return Object(N.jsxs)("div",{style:{display:"flex",marginBottom:8,width:"100%",justifyContent:"space-between"},children:[" ",Object(N.jsxs)(te.v,{align:"baseline",children:[" ",Object(N.jsxs)(D.a,{gutter:[10,10],justify:"space-between",align:"top",children:[Object(N.jsxs)(U.a,{span:7,children:[" ",Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULTYPUL"],fieldKey:[s,"RPULTYPUL"],rules:[{required:!0}],shouldUpdate:function(e,t){return e.RPULTYPUL!==t.RPULTYPUL},messageVariables:{another:"good"},children:Object(N.jsx)(te.u,{onChange:function(t){return e.onTypeChange(t,n,"RPULTYPUL")},showSearch:!0,children:e.state.typeUniteL.map((function(e,t){return Object(N.jsx)(te.u.Option,{value:e.value,disabled:!e.active,children:e.titel})}))})}))]}),Object(N.jsxs)(U.a,{span:3,children:[Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULCOEF"],fieldKey:[s,"RPULCOEF"],rules:[{required:!0}],children:Object(N.jsx)(te.n,{style:{width:"100%"},onChange:function(t){return e.onChange(n,"RPULCOEF")}})}))," "]}),Object(N.jsxs)(U.a,{span:3,children:[Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULPOID"],fieldKey:[s,"RPULPOID"],rules:[{required:!1}],children:Object(N.jsx)(te.n,{style:{width:"100%"},onChange:function(t){return e.onChange(n,"RPULPOID")}})}))," "]}),Object(N.jsxs)(U.a,{span:3,children:[" ",Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULLANG"],fieldKey:[s,"RPULLANG"],rules:[{required:!1}],children:Object(N.jsx)(te.n,{style:{width:"100%"},onChange:function(t){return e.onChange(n,"RPULLANG")}})}))]})," ",Object(N.jsxs)(U.a,{span:3,children:[Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULLARG"],fieldKey:[s,"RPULLARG"],rules:[{required:!1}],children:Object(N.jsx)(te.n,{style:{width:"100%"},onChange:function(t){return e.onChange(n,"RPULLARG")}})}))," "]}),Object(N.jsxs)(U.a,{span:3,children:[" ",Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULHAUT"],fieldKey:[s,"RPULHAUT"],rules:[{required:!1}],children:Object(N.jsx)(te.n,{style:{width:"100%"},onChange:function(t){return e.onChange(n,"RPULHAUT")}})}))]}),Object(N.jsx)(U.a,{span:2,children:Object(N.jsx)(cr.a,{onClick:function(){r(a),e.onDelete(n)}})})]})]},n)," "]})})),Object(N.jsx)(te.l.Item,{children:Object(N.jsx)(te.d,{type:"dashed",onClick:function(){return a({New:!0,RPULCINVL:e.props.VL_Id,VL_key:e.props.VL_key,VV:[]})},block:!0,icon:Object(N.jsx)(Qe.a,{}),children:"Add field"})})]})}})})," "]})})}}]),n}(a.Component),fr={expandedRowRender:function(e){return Object(N.jsx)("p",{children:e.description})}},xr={position:"bottom"},mr=[],Or=1;Or<=1;Or++)mr.push({titre:"Vue syst\xe9me "+Or,check:!0});for(var gr=[],yr=1;yr<=3;yr++)gr.push({titre:"Vues personnalis\xe9s "+yr,check:!1});for(var vr={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},onSelect:function(e,t,n){console.log(e,t,n)},onSelectAll:function(e,t,n){console.log(e,t,n)}},Rr=r.a.createContext(null),wr=function(e){e.index;var t=Object(at.a)(e,["index"]),n=Un.a.useForm(),a=Object(d.a)(n,1)[0];return Object(N.jsx)(Un.a,{form:a,component:!1,children:Object(N.jsx)(Rr.Provider,{value:a,children:Object(N.jsx)("tr",Object(nt.a)({},t))})})},Sr=function(e){e.title,e.pattern,e.max,e.required;var t=e.editable,n=e.children,r=e.dataIndex,s=e.record,o=e.handleSave,c=e.setUpdateVL,u=(e.disabled,e.type),p=(e.update,Object(at.a)(e,["title","pattern","max","required","editable","children","dataIndex","record","handleSave","setUpdateVL","disabled","type","update"])),h=Object(a.useState)(!1),j=Object(d.a)(h,2),b=j[0],f=j[1],x=Object(a.useRef)(null),m=Object(a.useContext)(Rr);Object(a.useEffect)((function(){b&&x.current.focus()}),[b]);var O=function(){f(!b),m.setFieldsValue(Object(Ve.a)({},r,s[r]))},g=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.validateFields();case 3:t=e.sent,console.log("variante logistique update => ",t,"recorde",s),O(),c(s,t),o(Object(nt.a)(Object(nt.a)({},s),t)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),y=n;return t&&(y=b?Object(N.jsx)(Un.a.Item,{style:{margin:0},name:r,children:"number"==u?Object(N.jsx)(te.n,{size:"small",bordered:!1,ref:x,onPressEnter:g,onBlur:g}):Object(N.jsx)(B.a,{size:"small",bordered:!1,ref:x,onPressEnter:g,onBlur:g})}):Object(N.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:O,children:n})),Object(N.jsx)("td",Object(nt.a)(Object(nt.a)({},p),{},{children:y}))},Cr=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).ULRef=r.a.createRef(),a.handleDelete=function(e){var t=Object(ae.a)(a.state.dataSource),n=t.findIndex((function(t){return t.key==e}));console.log(t,n),a.props.setDeleteVL(t[n]),a.setState({dataSource:t.filter((function(t){return t.key!==e}))})},a.handleAdd=function(e){var t=a.state,n=t.count,r=t.dataSource,s=e;s.key=r.length,a.setState({dataSource:[].concat(Object(ae.a)(r),[s]),count:n+1})},a.handleSave=function(e){var t=Object(ae.a)(a.state.dataSource),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(nt.a)(Object(nt.a)({},r),e)),a.setState({dataSource:t})},a.handleOk=function(){a.setState({modalText:"The modal will be closed after two seconds",confirmLoading:!0}),setTimeout((function(){a.setState({visible:!1,confirmLoading:!1})}),2e3)},a.handleCancel=function(){console.log("Clicked cancel button"),a.setState({visible:!1,contenu:[]})},a.columns=[{title:"Code",pattern:"^[a-zA-Z]*$",required:!1,disabled:a.props.update,dataIndex:"RPLLCEXT",width:"10%",fixed:"left",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"Description",pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RPLLDSC",width:"35%",disabled:a.props.update,ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"Etat du PL",pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RPLLETAT",width:"15%",ellipsis:!0,editable:!0,disabled:a.props.update,type:"number",showSorterTooltip:!0},{title:"Unit\xe9 logistique",pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"UL",width:"15%",ellipsis:!0,showSorterTooltip:!0,render:function(e,t){return Object(N.jsx)(q.a,{type:"text",icon:Object(N.jsx)(or.a,{}),onClick:function(){console.log("record",t),a.setState({visible:!0,contenu:t.UL,VL_Id:t.ID_ROWID,VL_key:t.key})}})}},{title:"nombre de piece",pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"nbrpience",width:"20%",ellipsis:!0,type:"number",disabled:a.props.update,editable:!0,showSorterTooltip:!0},{title:"",fixed:"right",width:"5%",dataIndex:"operation",render:function(e,t){return a.state.dataSource.length>=1?Object(N.jsx)(Fn.a,{title:"Sure to delete?",onConfirm:function(){return a.handleDelete(t.key)},children:Object(N.jsx)(He.a,{style:{color:"#f44336"}})}):null}}],a.state={contenu:[],bordered:!1,loading:!1,pagination:xr,expandable:fr,showHeader:!0,rowSelection:{},scroll:void 0,hasData:!0,tableLayout:void 0,top:"none",bottom:"bottomRight",dataSource:[],count:2},a}return Object(I.a)(n,[{key:"getDataSource",value:function(){return this.state.dataSource}},{key:"componentDidMount",value:function(){console.log("datas",this.props.datasource),null!=this.props.datasource&&this.props.datasource.map((function(e,t){Object.assign(e,{key:t})})),this.setState({dataSource:null!=this.props.datasource?this.props.datasource:[]})}},{key:"render",value:function(){var e=this,t=this.state.dataSource,n={body:{row:wr,cell:Sr}},a=this.columns.map((function(t){return t.editable&&e.props.update?Object(nt.a)(Object(nt.a)({},t),{},{onCell:function(n){return{record:n,editable:t.editable,dataIndex:t.dataIndex,title:t.title,max:t.max,required:t.required,pattern:t.pattern,type:t.type,update:e.props.update,handleSave:e.handleSave,setUpdateVL:e.props.setUpdateVL}}}):t})),r=this.state,s=r.xScroll,o=r.yScroll,c=(Object(at.a)(r,["xScroll","yScroll"]),{});return o&&(c.y=240),s&&(c.x="100vw"),Object(N.jsxs)("div",{children:[" ",Object(N.jsx)(Aa.a,{className:"template-dms",title:function(){return Object(N.jsx)(za,{vues:{vueSysteme:mr,vuesPersonnalises:gr},title:"PLan de palitisation",enAdd:function(t){e.props.showDrawer(t),e.props.setSiseForm("935px"),e.props.setDrawerState("",Object(N.jsx)(jr,{setNewVL:function(t){return e.props.setNewVL(t)},setListeAllUl:function(t){return e.props.setListeAllUl(t)},closeDrawer:function(){return e.props.closeDrawer()},addVL:function(t){return e.handleAdd(t)},isLoading:e.props.isLoading,changecome:e.props.changecome,updateCtc:e.props.updateCtc,onFormulaireChange:function(t){return e.props.onFormulaireChange(t)},token:e.props.token,hostStorage:e.props.hostStorage,goTo:function(t){return e.props.goTo(t)},handleInputChange:e.props.handleInputChange,user_id:e.props.user_id,service:e.props.service}),500,(function(){console.log("en close drawer"),e.props.setSiseForm("")}))},type:"primary",style:{marginBottom:16}})},size:"small",pagination:{position:[this.state.top,this.state.bottom]},scroll:{x:500},components:n,rowSelection:Object(nt.a)({},vr),rowClassName:function(){return"editable-row"},dataSource:t,columns:a})," ",Object(N.jsx)(te.q,{width:700,visible:this.state.visible,onOk:function(){return e.ULRef.current.onSubmit()},confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,children:Object(N.jsxs)(te.t,{gutter:[5,5],style:{minHeight:"200px",height:"auto",maxHeight:"500px"},children:[Object(N.jsx)(te.f,{span:24,style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:Object(N.jsx)(br,{datas:this.state.contenu,setNewUL:function(t){return e.props.setNewUL(t)},setUpdateUL:function(t){return e.props.setUpdateUL(t)},setDeleteUL:function(t){return e.props.setDeleteUL(t)},VL_Id:this.state.VL_Id,VL_key:this.state.VL_key,ref:this.ULRef})}),Object(N.jsx)(te.f,{span:24,style:{height:"200px"}})]})})]})}}]),n}(r.a.Component),kr=n(217),Tr=n(548),Lr={expandedRowRender:function(e){return Object(N.jsx)("p",{children:e.description})}},Ir={position:"bottom"},Pr=[],Vr=1;Vr<=1;Vr++)Pr.push({titre:"Vue syst\xe9me "+Vr,check:!0});for(var Ar=[],Dr=1;Dr<=3;Dr++)Ar.push({titre:"Vues personnalis\xe9s "+Dr,check:!1});for(var Ur={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},onSelect:function(e,t,n){console.log(e,t,n)},onSelectAll:function(e,t,n){console.log(e,t,n)}},Fr=r.a.createContext(null),Nr=function(e){e.index;var t=Object(at.a)(e,["index"]),n=Un.a.useForm(),a=Object(d.a)(n,1)[0];return Object(N.jsx)(Un.a,{form:a,component:!1,children:Object(N.jsx)(Fr.Provider,{value:a,children:Object(N.jsx)("tr",Object(nt.a)({},t))})})},Er=function(e){e.title,e.pattern,e.max,e.required;var t=e.editable,n=e.children,r=e.dataIndex,s=e.record,o=e.handleSave,c=e.setUpdateVL,u=(e.disabled,e.Sites),p=e.VV,h=e.type,j=(e.update,Object(at.a)(e,["title","pattern","max","required","editable","children","dataIndex","record","handleSave","setUpdateVL","disabled","Sites","VV","type","update"])),b=Object(a.useState)(!1),f=Object(d.a)(b,2),x=f[0],m=f[1],O=Object(a.useRef)(null),g=Object(a.useContext)(Fr);Object(a.useEffect)((function(){x&&O.current.focus()}),[x]);var y=function(){m(!x),g.setFieldsValue(Object(Ve.a)({},r,s[r]))},v=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.validateFields();case 3:t=e.sent,console.log("Assortiment vendable update => ",t,"recorde",s),y(),c(s,t),o(Object(nt.a)(Object(nt.a)({},s),t)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),R=n;return t&&(R=x?Object(N.jsx)(Un.a.Item,{style:{margin:0},name:r,children:"number"==h?Object(N.jsx)(kr.a,{style:{width:"100%"},ref:O,onPressEnter:v,onBlur:v,bordered:!1,size:"small"}):"site"==h?Object(N.jsx)(te.u,{size:"small",showSearch:!0,bordered:!1,ref:O,onPressEnter:v,onBlur:v,optionFilterProp:"children",children:null!=u&&u.map((function(e,t){return Object(N.jsx)(te.u.Option,{value:e.ID_ROWID,children:e.RSSITE})}))}):Object(N.jsx)(te.u,{size:"small",showSearch:!0,bordered:!1,ref:O,onPressEnter:v,onBlur:v,optionFilterProp:"children",children:null!=p&&p.map((function(e,t){return Object(N.jsx)(te.u.Option,{value:t,children:e.RPVVCEXT})}))})}):Object(N.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:y,children:n})),Object(N.jsx)("td",Object(nt.a)(Object(nt.a)({},j),{},{children:R}))},Mr=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a,s;return Object(L.a)(this,n),(s=t.call(this,e)).ULRef=r.a.createRef(),s.formRef=r.a.createRef(),s.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-Submit-Assortiment-vendable------------------"),!0,Ge.b.loading("Loading..",true);try{console.log(t),console.log("site :  =>",s.props.AllSites[t.RAVSITE]),console.log("vv :  =>",s.props.AllVV[t.RAVCINVV]),n=t.RAVDDEBUT,a=t.RAVSITE,r=t.RAVCINVV,o={key:s.state.dataSource.length-1,CEXTSITE:s.props.AllSites[a].RSSITE,CEXTVV:s.props.AllVV[r].RPVVCEXT,RAVSITE:s.props.AllSites[a].RSSITE,RAVCINVV:s.props.AllVV[r].RPVVCEXT,RAVETAT:!0,VL:s.props.AllVV[r].RPVVCINUL.VL,UL:s.props.AllVV[r].RPVVCINUL.UL,VV:s.props.AllVV[r].id,RAVDDEBUT:n.format("YYYY-MM-DD HH:mm")},t.VL=s.props.AllVV[r].RPVVCINUL.VL,t.UL=s.props.AllVV[r].RPVVCINUL.UL,t.VV=s.props.AllVV[r].id,t.key=s.state.dataSource.length,t.RAVCINVV=s.props.AllVV[r].ID_ROWID,t.RAVSITE=s.props.AllSites[a].ID_ROWID,t.RAVDDEBUT=n.format("YYYY-MM-DD HH:mm"),t.RAVETAT=!0,s.props.setNewASV(t),s.setState({modalText:"The modal will be closed after two seconds",confirmLoading:!0}),setTimeout((function(){s.setState({visible:!1,confirmLoading:!1}),s.onReset()}),2e3),s.handleAdd(o),s.onReset(),s.handleCancel(),console.log("------------------fin-Submit-Assortiment-vendable------------------")}catch(c){console.log("error :",c),console.log("------------------fin-Submit-Assortiment-vendable------------------")}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleDelete=function(e){var t=Object(ae.a)(s.state.dataSource),n=t.findIndex((function(t){return t.key==e}));console.log(t,n),s.props.setDeleteVL(t[n]),s.setState({dataSource:t.filter((function(t){return t.key!==e}))})},s.handleAdd=function(e){var t=s.state,n=t.count,a=t.dataSource,r=e;r.key=a.length,s.setState({dataSource:[].concat(Object(ae.a)(a),[r]),count:n+1})},s.handleSave=function(e){var t=Object(ae.a)(s.state.dataSource),n=t.findIndex((function(t){return e.key===t.key})),a=t[n];t.splice(n,1,Object(nt.a)(Object(nt.a)({},a),e)),s.setState({dataSource:t})},s.showModal=function(){s.setState({visible:!0})},s.onSubmit=function(){s.formRef.current.submit(),console.log(s.formRef.current)},s.onReset=function(){s.formRef.current.resetFields()},s.handleOk=function(){s.onSubmit()},s.handleCancel=function(){console.log("Clicked cancel button"),s.setState({visible:!1,contenu:[]})},s.columns=[{title:"Point de vente",pattern:"^[a-zA-Z]*$",required:!1,disabled:s.props.update,dataIndex:"RAVSITE",type:"site",width:"25%",fixed:"left",ellipsis:!0,editable:!0,showSorterTooltip:!0,render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RAVETAT,children:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:null!=t.CEXTSITE?t.CEXTSITE:t.site})})}},{title:"Variante de Vente",pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RAVCINVV",width:"25%",disabled:s.props.update,ellipsis:!0,editable:!0,showSorterTooltip:!0,render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RAVETAT,children:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:null!=t.VV?t.VV:t.RAVCINVV})})}},{title:"Etat",pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RAVETAT",width:"11%",ellipsis:!0,editable:!0,disabled:s.props.update,type:"number",showSorterTooltip:!0,render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RAVETAT,children:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:t.RAVETAT?Object(N.jsx)(be.a,{twoToneColor:"#16f007",style:{fontSize:"17px"}}):Object(N.jsx)(fe.a,{twoToneColor:"#ff4d4f",style:{fontSize:"17px"}})})})}},{title:"Date Debut",type:"number",editable:!0,disabled:s.props.update,pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"dateDebut",width:"17%",ellipsis:!0,showSorterTooltip:!0,render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RAVDDEBUT,children:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:t.RAVDDEBUT})})}},(a={title:"Date de fin",type:"number",pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"dateFin",width:"17%",ellipsis:!0},Object(Ve.a)(a,"type","number"),Object(Ve.a)(a,"disabled",s.props.update),Object(Ve.a)(a,"editable",!0),Object(Ve.a)(a,"showSorterTooltip",!0),Object(Ve.a)(a,"render",(function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RAVDFIN,children:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:t.RAVDFIN})})})),a),{title:"",fixed:"right",width:"5%",dataIndex:"operation",render:function(e,t){return s.state.dataSource.length>=1?Object(N.jsx)(Fn.a,{title:"Sure to delete?",onConfirm:function(){return s.handleDelete(t.key)},children:Object(N.jsx)(He.a,{style:{color:"#f44336"}})}):null}}],s.state={TarifVente:[],contenu:[],bordered:!1,loading:!1,pagination:Ir,expandable:Lr,showHeader:!0,rowSelection:{},scroll:void 0,hasData:!0,tableLayout:void 0,top:"none",bottom:"bottomRight",dataSource:[],count:2},s}return Object(I.a)(n,[{key:"getDataSource",value:function(){return this.state.dataSource}},{key:"componentDidUpdate",value:function(e){e.AllVV!==this.props.AllVV&&console.log("-----vl => ",this.props.AllVV)}},{key:"componentDidMount",value:function(){console.log("vl => ",this.props.AllVV),console.log("datas",this.props.datasource),null!=this.props.datasource&&this.props.datasource.map((function(e,t){Object.assign(e,{key:t,dateDebut:On()(e.RAVDDEBUT,"YYYY-MM-DD"),dateFin:On()(e.RAVDFIN,"YYYY-MM-DD")})})),this.setState({dataSource:null!=this.props.datasource?this.props.datasource:[]})}},{key:"render",value:function(){var e=this,t=this.state.dataSource,n={body:{row:Nr,cell:Er}},a=this.columns.map((function(t){return t.editable&&e.props.update?Object(nt.a)(Object(nt.a)({},t),{},{onCell:function(n){return{record:n,editable:t.editable,dataIndex:t.dataIndex,title:t.title,max:t.max,required:t.required,pattern:t.pattern,type:t.type,Sites:e.props.AllSites,VV:e.props.AllVV,update:e.props.update,handleSave:e.handleSave,setUpdateVL:e.props.setUpdateVL}}}):t})),r=this.state,s=r.xScroll,o=r.yScroll,c=(Object(at.a)(r,["xScroll","yScroll"]),{});return o&&(c.y=240),s&&(c.x="100vw"),Object(N.jsxs)("div",{children:[" ",Object(N.jsx)(Aa.a,{className:"template-dms",title:function(){return Object(N.jsx)(za,{vues:{vueSysteme:Pr,vuesPersonnalises:Ar},title:"Assortiment Vendable",enAdd:e.showModal,type:"primary",style:{marginBottom:16}})},size:"small",pagination:{position:[this.state.top,this.state.bottom]},scroll:{x:500},components:n,rowSelection:Object(nt.a)({},Ur),rowClassName:function(){return"editable-row"},dataSource:t,columns:a})," ",Object(N.jsxs)(te.q,{title:"New",style:{display:"flex"},width:500,visible:this.state.visible,onOk:this.handleOk,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,children:[Object(N.jsx)(st.b,{form:{validateMessages:ba.fr},children:Object(N.jsxs)(Un.a,{ref:this.formRef,layout:"vertical",name:"control-ref",initialValues:Object(nt.a)({},this.state.defaultValue),onFinish:this.onFinish,children:[" ",Object(N.jsxs)(te.t,{gutter:[5,5],style:{minHeight:"250px",maxHeight:"400px",overflowY:"auto"},children:[Object(N.jsx)(te.f,{span:12,children:Object(N.jsx)(Un.a.Item,{label:"Point de vente",name:"RAVSITE",hasFeedback:!0,rules:[{required:!0}],children:Object(N.jsx)(te.u,{style:{width:"100%"},onChange:function(e){console.log(e)},children:this.props.AllSites.map((function(e,t){return Object(N.jsx)(te.u.Option,{value:t,children:e.RSSITE})}))})})}),Object(N.jsx)(te.f,{span:12,children:Object(N.jsx)(Un.a.Item,{label:"variante de vente",name:"RAVCINVV",hasFeedback:!0,rules:[{required:!0}],children:Object(N.jsx)(te.u,{style:{width:"100%"},children:this.props.AllVV.map((function(e,t){return Object(N.jsx)(te.u.Option,{value:t,children:e.RPVVLIBL})}))})})}),Object(N.jsx)(te.f,{span:24,style:{width:"100%"},children:Object(N.jsx)(Un.a.Item,{label:"Date de debut",name:"RAVDDEBUT",hasFeedback:!0,rules:[{required:!0}],children:Object(N.jsx)(kr.a,{style:{width:"100%"}})})}),Object(N.jsx)(te.f,{span:8,style:{width:"100%"},children:Object(N.jsx)(Un.a.Item,{label:"Tarife de Vente",name:"RPVCINTV",hasFeedback:!0,rules:[{required:!0}],children:Object(N.jsx)(te.u,{style:{width:"100%"},children:this.state.TarifVente.map((function(e,t){return Object(N.jsxs)(te.u.Option,{value:e.ID_ROWID,children:["Marge: ",e.RTVMARGE,", TVA: ",e.RTVTVA]})}))})})})," ",Object(N.jsx)(te.f,{span:16,style:{width:"100%"},children:Object(N.jsx)(Un.a.Item,{label:"Prix de vente",name:"RPVPRIX",hasFeedback:!0,rules:[{required:!0}],children:Object(N.jsx)(B.a,{placeholder:"Entrer le prix...",suffix:Object(N.jsx)(Tr.a,{})})})})]})]})})," "]})]})}}]),n}(r.a.Component),Br=function(e,t,n,a){return me.get(e+(null!=t?"?search="+t:"?"+a),{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}})},zr=function(){var e=Object(l.a)(i.a.mark((function e(t,n,a){var r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.post(t+"Calendrier/",a,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}});case 2:return r=e.sent,a.RSCINCAL=r.data.ID_ROWID,e.next=6,me.post(t,a,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}});case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),qr=function(){var e=Object(l.a)(i.a.mark((function e(t,n,a,r,s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.put("".concat(t).concat(n,"/"),r,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 2:return e.next=4,me.put("".concat(t+"Calendrier/").concat(s,"/"),r,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 4:return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r,s){return e.apply(this,arguments)}}(),Hr={expandedRowRender:function(e){return Object(N.jsx)("p",{children:e.description})}},_r={position:"bottom"},Gr=[],Wr=1;Wr<=1;Wr++)Gr.push({titre:"Vue syst\xe9me "+Wr,check:!0});for(var $r=[],Yr=1;Yr<=3;Yr++)$r.push({titre:"Vues personnalis\xe9s "+Yr,check:!1});for(var Kr={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},onSelect:function(e,t,n){console.log(e,t,n)},onSelectAll:function(e,t,n){console.log(e,t,n)}},Xr=r.a.createContext(null),Zr=function(e){e.index;var t=Object(at.a)(e,["index"]),n=Un.a.useForm(),a=Object(d.a)(n,1)[0];return Object(N.jsx)(Un.a,{form:a,component:!1,children:Object(N.jsx)(Xr.Provider,{value:a,children:Object(N.jsx)("tr",Object(nt.a)({},t))})})},Jr=function(e){e.title,e.pattern,e.max,e.required;var t=e.editable,n=e.children,r=e.dataIndex,s=e.record,o=e.handleSave,c=e.setUpdateVL,u=(e.disabled,e.Sites),p=e.VV,h=e.type,j=(e.update,Object(at.a)(e,["title","pattern","max","required","editable","children","dataIndex","record","handleSave","setUpdateVL","disabled","Sites","VV","type","update"])),b=Object(a.useState)(!1),f=Object(d.a)(b,2),x=f[0],m=f[1],O=Object(a.useRef)(null),g=Object(a.useContext)(Xr);Object(a.useEffect)((function(){x&&O.current.focus()}),[x]);var y=function(){m(!x),g.setFieldsValue(Object(Ve.a)({},r,s[r]))},v=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.validateFields();case 3:t=e.sent,console.log("Assortiment vendable update => ",t,"recorde",s),y(),c(s,t),o(Object(nt.a)(Object(nt.a)({},s),t)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),R=n;return t&&(R=x?Object(N.jsx)(Un.a.Item,{style:{margin:0},name:r,children:"number"==h?Object(N.jsx)(kr.a,{style:{width:"100%"},ref:O,onPressEnter:v,onBlur:v,bordered:!1,size:"small"}):"site"==h||"fournisseur"==h?Object(N.jsx)(te.u,{size:"small",showSearch:!0,bordered:!1,ref:O,onPressEnter:v,onBlur:v,optionFilterProp:"children",children:null!=u&&u.map((function(e,t){return Object(N.jsx)(te.u.Option,{value:e.ID_ROWID,children:e.RSSITE})}))}):Object(N.jsx)(te.u,{size:"small",showSearch:!0,bordered:!1,ref:O,onPressEnter:v,onBlur:v,optionFilterProp:"children",children:null!=p&&p.map((function(e,t){return Object(N.jsx)(te.u.Option,{value:t,children:e.RPVVCEXT})}))})}):Object(N.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:y,children:n})),Object(N.jsx)("td",Object(nt.a)(Object(nt.a)({},j),{},{children:R}))},Qr=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).ULRef=r.a.createRef(),a.formRef=r.a.createRef(),a.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,s,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-Submit-Assortiment-commandable------------------"),!0,Ge.b.loading("Loading..",true);try{console.log(t),console.log("site :  =>",a.props.AllSites[t.RACSITE]),console.log("fournisseur :  =>",a.props.AllFour[t.RACCINFR]),console.log("TVA :  =>",a.props.AllTVA[t.RACCINTVA]),console.log("VL : =>",a.props.AllVL[t.RACCINVL]),console.log("Plan de palittisation :  =>",a.props.AllVL[t.RACCINVL]),n=t.RACDDEBUT,r=t.RACSITE,s=t.RACCINFR,o=t.RACCINVL,c=t.RACCINTVA,l={key:a.state.dataSource.length-1,CEXTSITE:a.props.AllSites[r].RSSITE,CEXTFOUR:a.props.AllFour[s].RFRCEXT,CEXTVL:a.props.AllVL[o].RPLLCEXT,CEXTVA:"TVA ("+a.props.AllTVA[c].RTVACODE+") "+a.props.AllTVA[c].RTVATAUX+"%",RACSITE:a.props.AllSites[r].RSSITE,RACCINFR:a.props.AllFour[s].RFRCEXT,RACCINVL:a.props.AllVL[o].RPLLCEXT,RACMAXCMD:t.RACMAXCMD,RACMINCMD:t.RACMINCMD,RACPRIXB:t.RACPRIXB,RACDDEBUT:n.format("YYYY-MM-DD HH:mm")},t.key=a.state.dataSource.length,t.RACCINVL=a.props.AllVL[o].ID_ROWID,t.RACSITE=a.props.AllSites[r].ID_ROWID,t.RACCINFR=a.props.AllFour[s].ID_ROWID,t.RACCINTVA=a.props.AllTVA[c].ID_ROWID,t.RACDDEBUT=n.format("YYYY-MM-DD HH:mm"),t.VL=a.props.AllVL[o].key,a.props.setNewASV(t),console.log("submit value => :",t),a.setState({modalText:"The modal will be closed after two seconds",confirmLoading:!0}),setTimeout((function(){a.setState({visible:!1,confirmLoading:!1})}),2e3),a.handleAdd(l),a.handleCancel(),console.log("------------------fin-Submit-Assortiment-commandable------------------")}catch(i){console.log("error :",i),console.log("------------------fin-Submit-Assortiment-vendable------------------")}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleDelete=function(e){var t=Object(ae.a)(a.state.dataSource),n=t.findIndex((function(t){return t.key==e}));console.log(t,n),a.props.setDeleteVL(t[n]),a.setState({dataSource:t.filter((function(t){return t.key!==e}))})},a.handleAdd=function(e){var t=a.state,n=t.count,r=t.dataSource,s=e;s.key=r.length,a.setState({dataSource:[].concat(Object(ae.a)(r),[s]),count:n+1})},a.handleSave=function(e){var t=Object(ae.a)(a.state.dataSource),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(nt.a)(Object(nt.a)({},r),e)),a.setState({dataSource:t})},a.showModal=function(){a.setState({visible:!0})},a.onSubmit=function(){a.formRef.current.submit(),console.log(a.formRef.current)},a.onReset=function(){a.formRef.current.resetFields()},a.handleOk=function(){a.onSubmit()},a.handleCancel=function(){console.log("Clicked cancel button"),a.setState({visible:!1,contenu:[]})},a.columns=[{title:"Point de vente",pattern:"^[a-zA-Z]*$",required:!1,disabled:a.props.update,dataIndex:"RACSITE",type:"site",width:"15%",fixed:"left",ellipsis:!0,editable:!0,showSorterTooltip:!0,render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RAVETAT,children:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:null!=t.CEXTSITE?t.CEXTSITE:t.site})})}},{title:"Variante logistique",pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RACCINVL",width:"15%",disabled:a.props.update,ellipsis:!0,editable:!0,showSorterTooltip:!0,render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RAVETAT,children:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:null!=t.CEXTVL?t.CEXTVL:t.RACCINVL})})}},{title:"Fournisseur",type:"fournisseur",pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RACCINFR",width:"15%",disabled:a.props.update,ellipsis:!0,editable:!0,showSorterTooltip:!0,render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RAVETAT,children:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:null!=t.CEXTFOUR?t.CEXTFOUR:t.RACCINFR})})}},{title:"Maximum command\xe9",type:"number",editable:!0,disabled:a.props.update,pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RACMAXCMD",width:"10%",ellipsis:!0,showSorterTooltip:!0,render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RAVDDEBUT,children:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:t.RACMAXCMD})})}},{title:"Minimum command\xe9",type:"number",editable:!0,disabled:a.props.update,pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RACMINCMD",width:"10%",ellipsis:!0,showSorterTooltip:!0,render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RAVDDEBUT,children:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:t.RACMINCMD})})}},{title:"TVA",type:"number",editable:!0,disabled:a.props.update,pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RACCINTVA",width:"16%",ellipsis:!0,showSorterTooltip:!0,render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RAVDDEBUT,children:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:null!=t.CEXTVA?t.CEXTVA:t.RACCINTVA})})}},{title:"Prix brut",type:"number",editable:!0,disabled:a.props.update,pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RACPRIXB",width:"13%",ellipsis:!0,showSorterTooltip:!0,render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RAVDDEBUT,children:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:t.RACPRIXB})})}},{title:"",fixed:"right",width:"6%",dataIndex:"operation",render:function(e,t){return a.state.dataSource.length>=1?Object(N.jsx)(Fn.a,{title:"Sure to delete?",onConfirm:function(){return a.handleDelete(t.key)},children:Object(N.jsx)(He.a,{style:{color:"#f44336"}})}):null}}],a.state={TarifVente:[],contenu:[],bordered:!1,loading:!1,pagination:_r,expandable:Hr,showHeader:!0,rowSelection:{},scroll:void 0,hasData:!0,tableLayout:void 0,top:"none",bottom:"bottomRight",dataSource:[],count:2},a}return Object(I.a)(n,[{key:"getDataSource",value:function(){return this.state.dataSource}},{key:"componentDidUpdate",value:function(e){}},{key:"componentDidMount",value:function(){console.log("datas",this.props.datasource),null!=this.props.datasource&&this.props.datasource.map((function(e,t){Object.assign(e,{key:t,dateDebut:On()(e.RAVDDEBUT,"YYYY-MM-DD"),dateFin:On()(e.RAVDFIN,"YYYY-MM-DD")})})),this.setState({dataSource:null!=this.props.datasource?this.props.datasource:[]})}},{key:"render",value:function(){var e=this,t=this.state.dataSource,n={body:{row:Zr,cell:Jr}},a=this.columns.map((function(t){return t.editable&&e.props.update?Object(nt.a)(Object(nt.a)({},t),{},{onCell:function(n){return{record:n,editable:t.editable,dataIndex:t.dataIndex,title:t.title,max:t.max,required:t.required,pattern:t.pattern,type:t.type,Sites:e.props.AllSites,VV:e.props.AllVL,update:e.props.update,handleSave:e.handleSave,setUpdateVL:e.props.setUpdateVL}}}):t})),r=this.state,s=r.xScroll,o=r.yScroll,c=(Object(at.a)(r,["xScroll","yScroll"]),{});return o&&(c.y=240),s&&(c.x="100vw"),Object(N.jsxs)("div",{children:[" ",Object(N.jsx)(Aa.a,{className:"template-dms",title:function(){return Object(N.jsx)(za,{vues:{vueSysteme:Gr,vuesPersonnalises:$r},title:"",enAdd:e.showModal,type:"primary",style:{marginBottom:16}})},size:"small",pagination:{position:[this.state.top,this.state.bottom]},scroll:{x:500},components:n,rowSelection:Object(nt.a)({},Kr),rowClassName:function(){return"editable-row"},dataSource:t,columns:a})," ",Object(N.jsxs)(te.q,{title:"New",style:{display:"flex"},width:500,destroyOnClose:!0,visible:this.state.visible,onOk:this.handleOk,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,children:[Object(N.jsx)(st.b,{form:{validateMessages:ba.fr},children:Object(N.jsxs)(Un.a,{ref:this.formRef,layout:"vertical",name:"control-ref",initialValues:Object(nt.a)({},this.state.defaultValue),onFinish:this.onFinish,children:[" ",Object(N.jsxs)(te.t,{gutter:[5,5],style:{minHeight:"250px",maxHeight:"400px",overflowY:"auto"},children:[Object(N.jsx)(te.f,{span:12,children:Object(N.jsx)(Un.a.Item,{label:"Point de vente",name:"RACSITE",hasFeedback:!0,rules:[{required:!0}],children:Object(N.jsx)(te.u,{style:{width:"100%"},onChange:function(e){console.log(e)},children:this.props.AllSites.map((function(e,t){return Object(N.jsx)(te.u.Option,{value:t,children:e.RSSITE})}))})})}),Object(N.jsx)(te.f,{span:12,children:Object(N.jsx)(Un.a.Item,{label:"Fournisseur",name:"RACCINFR",hasFeedback:!0,rules:[{required:!0}],children:Object(N.jsx)(te.u,{style:{width:"100%"},children:this.props.AllFour.map((function(e,t){return Object(N.jsx)(te.u.Option,{value:t,children:e.RFRCEXT})}))})})}),Object(N.jsx)(te.f,{span:24,children:Object(N.jsx)(Un.a.Item,{label:"Plan de palettisation",name:"RACCINVL",hasFeedback:!0,rules:[{required:!0}],children:Object(N.jsx)(te.u,{style:{width:"100%"},children:this.props.AllVL.map((function(e,t){return Object(N.jsx)(te.u.Option,{value:t,children:e.RPLLCEXT})}))})})}),Object(N.jsx)(te.f,{span:16,style:{width:"100%"},children:Object(N.jsx)(Un.a.Item,{label:"Date de debut",name:"RACDDEBUT",rules:[{required:!0}],hasFeedback:!0,children:Object(N.jsx)(kr.a,{style:{width:"100%"}})})}),Object(N.jsx)(te.f,{span:4,style:{width:"100%"},children:Object(N.jsx)(Un.a.Item,{label:"Min  ",name:"RACMINCMD",hasFeedback:!0,style:{width:"100%"},children:Object(N.jsx)(te.n,{style:{width:"100%"},placeholder:"5",suffix:Object(N.jsx)(Tr.a,{})})})})," ",Object(N.jsx)(te.f,{span:4,style:{width:"100%"},children:Object(N.jsx)(Un.a.Item,{label:"Max  ",name:"RACMAXCMD",style:{width:"100%"},hasFeedback:!0,children:Object(N.jsx)(te.n,{placeholder:"5",style:{width:"100%"},suffix:Object(N.jsx)(Tr.a,{})})})}),Object(N.jsx)(te.f,{span:10,style:{width:"100%"},children:Object(N.jsx)(Un.a.Item,{label:"TVA",name:"RACCINTVA",hasFeedback:!0,rules:[{required:!0}],children:Object(N.jsx)(te.u,{style:{width:"100%"},children:this.props.AllTVA.map((function(e,t){return Object(N.jsxs)(te.u.Option,{value:t,children:["TVA (",e.RTVACODE,") ",e.RTVATAUX,"%"]})}))})})})," ",Object(N.jsx)(te.f,{span:14,style:{width:"100%"},children:Object(N.jsx)(Un.a.Item,{label:"Prix d'achat",name:"RACPRIXB",hasFeedback:!0,rules:[{required:!0}],children:Object(N.jsx)(B.a,{placeholder:"Entrer le prix...",suffix:Object(N.jsx)(Tr.a,{})})})})]})]})})," "]})]})}}]),n}(r.a.Component),es=function(e,t,n,a){return me.get(e+(null!=t?"?search="+t:"?"+a),{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}})},ts=function(){var e=Object(l.a)(i.a.mark((function e(t,n,a,r,s,o){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.post(t,a,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}});case 2:return c=e.sent,null!=r&&me.patch("".concat(t).concat(c.data.ID_ROWID,"/"),r,{headers:{Authorization:"Bearer "+n,"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundaryEwxlBBDdYQdWdUgK"}}),null!=s&&s.New.map(function(){var e=Object(l.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.RFACINFR=c.data.ID_ROWID,e.next=3,me.post(t+"Adresse/",a,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),null!=o&&o.New.map(function(){var e=Object(l.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.RFCCINFR=c.data.ID_ROWID,e.next=3,me.post(t+"Contact/",a,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",accept:"application/json"}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r,s,o){return e.apply(this,arguments)}}(),ns=function(){var e=Object(l.a)(i.a.mark((function e(t,n,a,r,s,o){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new FormData,r.RFRCEXT&&c.append("RFRCEXT",r.RFRCEXT),r.RFRLIBL&&c.append("RFRLIBL",r.RFRLIBL),r.RFRLIBC&&c.append("RFRLIBC",r.RFRLIBC),r.RFRETAT&&c.append("RFRETAT",r.RFRETAT),r.RFRTYPE&&c.append("RFRTYPE",r.RFRTYPE),r.RFRDEVISE&&c.append("RFRDEVISE",r.RFRDEVISE),r.RFRPAYS&&c.append("RFRPAYS",r.RFRPAYS),r.RPRIDAnger&&c.append("RPRIDAnger",r.RPRIDAnger),r.RFRLOGO&&c.append("RFRLOGO",r.RFRLOGO.originFileObj),e.next=12,me.put("".concat(t).concat(n,"/"),c,{headers:{Authorization:"Bearer "+a,"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundaryEwxlBBDdYQdWdUgK"}});case 12:return null!=s&&s.New.map(function(){var e=Object(l.a)(i.a.mark((function e(r,s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.RFACINFR=n,e.next=3,me.post(t+"Adresse/",r,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=s&&s.update.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.put(t+"Adresse/"+n.ID_ROWID+"/",n,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=s&&s.delete.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.delete(t+"Adresse/"+n.ID_ROWID,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=o&&o.New.map(function(){var e=Object(l.a)(i.a.mark((function e(r,s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.RFCCINFR=n,e.next=3,me.post(t+"Contact/",r,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=o&&o.update.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.put(t+"Contact/"+n.ID_ROWID+"/",n,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),null!=o&&o.delete.map(function(){var e=Object(l.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.delete(t+"Contact/"+n.ID_ROWID,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return");case 19:case"end":return e.stop()}}),e)})));return function(t,n,a,r,s,o){return e.apply(this,arguments)}}(),as=function(e){return new Promise((function(t){return setTimeout(t,e)}))},rs=function(e){var t=function(t){Object(P.a)(a,t);var n=Object(V.a)(a);function a(){return Object(L.a)(this,a),n.apply(this,arguments)}return Object(I.a)(a,[{key:"render",value:function(){var t=this.props,n=t.forwardRef,a=Object(at.a)(t,["forwardRef"]);return Object(N.jsx)(e,Object(nt.a)(Object(nt.a)({},a),{},{ref:n}))}}]),a}(r.a.Component),n=Object(Ze.i)(t,{withRef:!0});return r.a.forwardRef((function(e,t){return Object(N.jsx)(n,Object(nt.a)(Object(nt.a)({},e),{},{forwardRef:t}))}))}(function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a,s;return Object(L.a)(this,n),(s=t.call(this,e)).formRef=r.a.createRef(),s.formContactRef=r.a.createRef(),s.adressRef=r.a.createRef(),s.onChange=function(e){s.setState({targetKeys:e})},s.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-postProduit------------------"),e.next=3,ye(s.state.token,s.state.Refrech,(function(){return window.location.href=m}),s.props.hostStorage);case 3:if(n=e.sent,a=!0,Ge.b.loading("Loading..",a),e.prev=6,null==s.props.match.params.id){e.next=21;break}return console.log("------------------debut-putProduit------------------"),console.log("update produit => : ",t),console.log("add+update complext data => : ",s.state.dataToSend),t.RPRPHOTO=s.state.image,e.next=14,va(s.props.service,s.props.match.params.id,n||s.state.token,t,s.state.dataToSend.SM,s.state.dataToSend.VL,s.state.dataToSend.files,s.state.dataToSend.VV,s.state.dataToSend.UL,s.state.dataToSend.ASV);case 14:e.sent,a=!1,te.H.open({message:"Success",description:"Le produit a \xe9t\xe9 modifier avec succ\xe8s.",className:"custom-class",type:"success",placement:"bottomRight",style:{width:400}}),s.props.onFormulaireChange(!0),s.props.goTo("../userAdvancedSearchPath"),e.next=32;break;case 21:return(r=new FormData).append("RPRPHOTO",s.state.image?s.state.image.originFileObj:null),console.log("add produit => : ",t),console.log("add SM => : ",s.state.dataToSend),e.next=27,ya(s.props.service,n||s.state.token,t,r,s.state.dataToSend.SM,s.state.dataToSend.VL,s.state.dataToSend.files);case 27:e.sent,a=!1,te.H.open({message:"Success",description:"Le produit a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s.",className:"custom-class",type:"success",placement:"bottomRight",style:{width:400}}),s.props.onFormulaireChange(!0),s.props.goTo(g);case 32:console.log("------------------debut-postProduit------------------"),e.next=40;break;case 35:e.prev=35,e.t0=e.catch(6),console.log("error2 :",e.t0),s.props.onFormulaireChange(!1),te.H.open({message:"Error",description:"Le produit n'a pas pu \xeatre cr\xe9\xe9.Veuillez r\xe9essayer.",className:"custom-class",type:"error",placement:"bottomRight",style:{width:400}});case 40:case"end":return e.stop()}}),e,null,[[6,35]])})));return function(t){return e.apply(this,arguments)}}(),s.getToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetToken------------------"),t&&(console.log("error => :",t),s.props.goTo("../403")),null==n&&(console.log("tokne is null => : ",n),s.props.goTo("../403")),s.setState({token:n}),console.log("tokne from host => :",s.state.token),console.log("-------------------fin-GetToken-------------------"),e.next=8,s.getSM();case 8:return e.next=10,s.getSites();case 10:return e.next=12,s.getFournisseurs();case 12:return e.next=14,s.getTva();case 14:if(e.t0=null!=s.props.match.params.id,!e.t0){e.next=18;break}return e.next=18,s.getDatas();case 18:if(e.t1=null!=s.props.match.params.id,!e.t1){e.next=22;break}return e.next=22,s.getUL();case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.getRefrechToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetRefrechToken------------------"),t&&(console.log("error => :",t),s.props.goTo("403")),null==n&&(console.log("Refech tokne is null => : ",n),s.props.goTo("../403")),s.setState({Refrech:n}),console.log("Refech tokne from host => :",s.state.Refrech),console.log("-------------------fin-GetRefrechToken-------------------"),e.t0=s.props.hostStorage,e.next=9,s.getToken;case 9:e.t1=e.sent,e.t0.get.call(e.t0,"access_token",e.t1);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.onSubmit=function(){s.formRef.current.submit()},s.onReset=function(){s.formRef.current.resetFields(),s.formContactRef.current.onReset(),s.setState({changecome:!1})},s.onFill=function(){s.formRef.current.setFieldsValue({note:"Hello world!",gender:"male"})},s.handleInputChange=function(e){s.state.changecome||(s.props.onFormulaireChange(!1),s.setState({changecome:!0}))},s.enCheckVenduCahnge=function(e){console.log("------------------debut-enCheckVenduCahnge------------------"),s.setState({tabPointDeVente:e.target.checked}),console.log("tabs point de vente is : ".concat(e.target.checked)),console.log("-------------------fin-enCheckVenduCahnge-------------------")},s.enCheckCommandeCahnge=function(e){console.log("------------------debut-enCheckVenduCahnge------------------"),s.setState({tabCommendable:e.target.checked}),console.log("tabs point de vente is : ".concat(e.target.checked)),console.log("-------------------fin-enCheckVenduCahnge-------------------")},s.labelComposant=function(e,t){return Object(N.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(N.jsx)(te.F,{className:"text-input-group",style:{display:"flex",width:"80px",fontSize:"14px",fontWeight:"600"},children:e})})},s.state=(a={dataToSend:{UL:{New:[],update:[],delete:[]},SM:{New:[],update:null,delete:null},VL:{New:[],update:[],delete:[]},ASV:{New:[],update:[],delete:[]},ASC:{New:[],update:[],delete:[]},VV:{New:[],update:[],delete:[]},files:{New:[],update:[],delete:[]},PRD:null},AllSM:[],AllSites:[],AllVV:[],AllVL:[],AllFour:[],AllTVA:[],produit:null,token:null,ListAllUL:[],drawerVisible:""},Object(Ve.a)(a,"token",null),Object(Ve.a)(a,"tabPointDeVente",!1),Object(Ve.a)(a,"tabCommendable",!1),Object(Ve.a)(a,"changecome",!1),Object(Ve.a)(a,"Profiles",[]),Object(Ve.a)(a,"loading",!1),Object(Ve.a)(a,"form",{}),Object(Ve.a)(a,"isLoading",null!=s.props.match.params.id),Object(Ve.a)(a,"image",null),Object(Ve.a)(a,"targetKeys",[]),Object(Ve.a)(a,"update",null==s.props.match.params.id),Object(Ve.a)(a,"defaultValue",null),Object(Ve.a)(a,"datas",{US_EMAIL:"",US_NOMUSR:"",US_PRNUSR:"",US_TYPUSR:""}),a),s.getRefrechToken=s.getRefrechToken.bind(Object(zt.a)(s)),s.getToken=s.getToken.bind(Object(zt.a)(s)),s}return Object(I.a)(n,[{key:"setImage",value:function(e){this.setState({image:e})}},{key:"activerUpdate",value:function(){return null!=this.props.match.params.id&&(this.setState({update:!this.state.update}),!0)}},{key:"getFournisseurs",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetFournisseur------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,es("http://localhost:8000/DMERP/v1/Referentiel/Fournisseurs/","",t||this.state.token);case 7:n=e.sent,console.log("succes from api : Produit =>  (getFournisseurs()) => :",n),this.setState({AllFour:null!=n.data?n.data:null}),console.log("-------------------fin-GetFournisseur-------------------"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("Error from api : Produit =>  getFournisseurs  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500"),console.log("-------------------fin-GetFournisseur-------------------");case 18:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"getTva",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetTVA------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,a="http://localhost:8000/DMERP/v1/Referentiel/TVA/",r=t||this.state.token,me.get(a,{headers:{Authorization:"Bearer "+r,"Content-Type":"application/json",accept:"application/json"}});case 7:n=e.sent,console.log("succes from api : Produit =>  (getTVA()) => :",n),this.setState({AllTVA:null!=n.data?n.data:null}),console.log("-------------------fin-GetTVA-------------------"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("Error from api : Produit =>  getTVA  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500"),console.log("-------------------fin-GetTVA-------------------");case 18:case"end":return e.stop()}var a,r}),e,this,[[4,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSites",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetSite------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,Br("http://localhost:8000/DMERP/v1/Referentiel/Sites/","",t||this.state.token);case 7:n=e.sent,console.log("succes from api : Produit =>  (getSites()) => :",n),this.setState({AllSites:null!=n.data?n.data:null}),console.log("-------------------fin-GetSites-------------------"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("Error from api : Produit =>  getSites  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500"),console.log("-------------------fin-GetSites-------------------");case 18:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSM",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetStructures-Marchandise------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,ma(this.props.service,"",t||this.state.token);case 7:n=e.sent,console.log("succes from api : Produit =>  (getStructures-Marchandise()) => :",n),this.setState({AllSM:null!=n.data?n.data:null}),console.log("-------------------fin-GetStructures-Marchandise-------------------"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("Error from api : Produit =>  getStructures-Marchandise  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500"),console.log("-------------------fin-GetStructures-Marchandise-------------------");case 18:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"getUL",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetUnit\xe9-Logistique------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,Oa(this.props.service,this.props.match.params.id,t||this.state.token);case 7:n=e.sent,console.log("succes from api : Produit =>  (getUnit\xe9-Logistique()) => :",n),this.setState({ListAllUL:null!=n.data?n.data:null}),console.log("ul from formulaire ",this.state.ListAllUL),console.log("-------------------fin--------------------"),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(4),console.log("Error from api : Produit =>  getUnit\xe9-Logistique  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500"),console.log("-------------------fin-GetUnit\xe9-Logistique-------------------");case 19:case"end":return e.stop()}}),e,this,[[4,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"getDatas",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetProduit-"+this.props.match.params.id+"------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,ga(this.props.service,this.props.match.params.id,t||this.state.token);case 7:(n=e.sent).data.VV&&n.data.VV.map((function(e,t){return e.RPVVPHOTO="http://localhost:8000"+e.RPVVPHOTO})),console.log("succes from api : Produit =>  (getProduit("+this.props.match.params.id+")) => :",n),null!=n.data.ASSVEN?n.data.vendable=!0:n.data.vendable=!1,this.setState({tabPointDeVente:n.data.vendable,defaultValue:null!=n.data?n.data:null,AllVV:null!=n.data.VV?n.data.VV:[],AllVL:null!=n.data.VL?n.data.VL:[],isLoading:!1}),console.log("-------------------fin-GetProduit-"+this.props.match.params.id+"-------------------"),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(4),console.log("Error from api : Produit =>  (getProduit("+this.props.match.params.id+"))  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500"),console.log("-------------------fin-GetProduit-"+this.props.match.params.id+"-------------------");case 20:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"removeElem",value:function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("date fin => ",t),e.prev=1,e.next=4,Pn(this.props.service,{activate:!1,MUTDFIN:t,pk:this.props.match.params.id});case 4:return this.props.onFormulaireChange(!0),te.H.open({message:"Info",description:"This user is deleted successfully",className:"custom-class",type:"info",placement:"bottomRight",style:{width:400}}),Ge.b.loading("Loading...",.5).then((function(){return Ge.b.success("Finished",.5)})),e.next=9,as(750);case 9:this.props.goTo("../userAdvancedSearchPath"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),te.H.open({message:"Error",description:"This user could not be deleted",className:"custom-class",type:"error",placement:"bottomRight",style:{width:400}});case 16:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loading",value:function(e){this.setState({loading:e})}},{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=this.props.match.params.id?this.props.disabelEditButton(!1):this.props.disabelEditButton(!0),e.t0=this.props.hostStorage,e.next=4,this.getRefrechToken;case 4:e.t1=e.sent,e.t0.get.call(e.t0,"refresh_token",e.t1);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(N.jsx)("div",{style:{height:"100%",width:"100%"},children:!this.state.isLoading&&Object(N.jsx)(te.w,{spinning:this.state.loading,delay:500,children:Object(N.jsxs)(D.a,{gutter:0,justify:"center",style:{width:this.state.drawerVisible},children:[Object(N.jsx)(U.a,{span:""==this.state.drawerVisible?18:24,children:Object(N.jsx)(D.a,{gutter:0,justify:"center",align:"stretch",wrap:!1,children:Object(N.jsxs)(U.a,{span:24,style:{padding:"0px",marginBottom:"10px"},children:[Object(N.jsx)(rt.a,{className:"border-main-content",orientation:"left",style:{margin:"-12px  -2px -12px 0px"},children:"Information"})," ",Object(N.jsx)(D.a,{align:"stretch",justify:"space-between",className:"border-main-content-2",style:{marginRight:"0px",marginLeft:"0px",padding:"22px 22px",borderRadius:"3px",borderWidth:"0px 1px 1px 1px",borderStyle:"solid"},children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(st.b,{form:{validateMessages:ba.fr},children:Object(N.jsxs)(te.l,{ref:this.formRef,name:"control-ref",initialValues:Object(nt.a)({},this.state.defaultValue),onFinish:this.onFinish,children:[Object(N.jsxs)(D.a,{gutter:[20,20],justify:"center",align:"stretch",wrap:!1,children:[Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsxs)(D.a,{gutter:[10,0],align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:11,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RPRCEXT",hasFeedback:!0,rules:[{required:!0,max:50}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Code",Q.a),placeholder:"Entrer le code...",readOnly:!this.state.update,onChange:this.handleInputChange})})})})}),Object(N.jsx)(U.a,{span:13,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RPRLIBC",hasFeedback:!0,rules:[{required:!1,max:50}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Acronyme",gn.a),placeholder:"Entrer l'acronyme...",readOnly:!this.state.update,onChange:this.handleInputChange})})})})})," ",Object(N.jsx)(U.a,{span:14,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RPRLIBL",hasFeedback:!0,rules:[{required:!1,max:50}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Libell\xe9",gn.a),placeholder:"Entrer le libell\xe9...",readOnly:!this.state.update,onChange:this.handleInputChange})})})})})," ",Object(N.jsx)(U.a,{span:5,style:{display:"flex",alignContent:"start",flexWrap:"wrap"},children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"commandable",valuePropName:"checked",children:Object(N.jsx)(te.e,{onChange:this.enCheckCommandeCahnge,children:"Peut \xeatre achet\xe9."})})})})}),Object(N.jsx)(U.a,{span:5,style:{display:"flex",alignContent:"start",flexWrap:"wrap"},children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"vendable",valuePropName:"checked",children:Object(N.jsx)(te.e,{onChange:this.enCheckVenduCahnge,children:"\u200bPeut \xeatre vendu."})})})})}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RPRDSC",hasFeedback:!0,rules:[{required:!1,max:2024}],children:Object(N.jsx)(B.a.TextArea,{addonBefore:this.labelComposant("Description",Q.a),placeholder:"Entrer le description...",rows:4,readOnly:!this.state.update,onChange:this.handleInputChange})})})})})]})})," ",Object(N.jsx)(U.a,{flex:"200px",children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(ka,{setImage:function(t){return e.setImage(t)},defaultValue:null!=this.state.defaultValue?this.state.defaultValue.RPRPHOTO:null,readOnly:!this.state.update})})})})," "]}),Object(N.jsx)("div",{children:Object(N.jsxs)(te.A,{type:"card",className:"tabs-formulaire dms-tabs",children:[Object(N.jsx)(te.A.TabPane,{tab:Object(N.jsx)(te.y,{title:"Donn\xe9e G\xe9n\xe9rale"}),children:Object(N.jsx)("div",{className:"template-tabs-panel",style:{padding:"15px",height:"100%",border:"1px solid #eee",borderTop:"0px"},children:Object(N.jsx)(Va,{setNewSM:function(t){e.state.dataToSend.SM.New.push(t),console.log("data a envoyer a l'api => ",e.state.dataToSend)},AllSM:this.state.AllSM,showDrawer:this.props.showDrawer,closeDrawer:function(){return e.props.closeDrawer()},setSiseForm:function(t){return e.setState({drawerVisible:t})},setDrawerState:function(t,n,a,r){return e.props.setDrawerState(t,n,a,(function(){return r()}))},update:this.state.update,ref:this.formContactRef,handleInputChange:this.handleInputChange})})},"1")," ",Object(N.jsx)(te.A.TabPane,{tab:Object(N.jsx)(te.y,{title:"Logistique"}),children:Object(N.jsx)("div",{className:"template-tabs-panel",style:{height:"100%",border:"1px solid #eee",borderTop:"0px"},children:Object(N.jsx)(Cr,{setNewVL:function(t,n){e.state.dataToSend.VL.New.push(t),e.state.AllVL.push(t),console.log("data a envoyer a l'api => ",e.state.dataToSend)},setNewUL:function(t){if(null!=t.RPULCINVL){e.state.dataToSend.UL.New.push(t),console.log(", data to send => :",e.state.dataToSend)}else{var n=e.state.dataToSend.VL.New,a=n.findIndex((function(e){return e.key===t.VL_key}));n[a].UL.push(t),console.log(", data to send => :",e.state.dataToSend)}},setUpdateUL:function(t){if(null!=t.ID_ROWID){e.state.dataToSend.UL.update.push(t),console.log(", data to send => :",e.state.dataToSend)}else{var n=e.state.dataToSend.VL.New,a=n.findIndex((function(e){return e.key===t.VL_key}));console.log(n[a]),n[a].UL[t.key]=t,console.log(", data to send => :",e.state.dataToSend)}},setDeleteUL:function(t){if(null!=t.ID_ROWID){e.state.dataToSend.UL.delete.push(t),console.log(", data to send => :",e.state.dataToSend)}else{var n=e.state.dataToSend.VL.New,a=n.findIndex((function(e){return e.key===t.VL_key}));console.log(n[a]),n[a].UL=n[a].UL.filter((function(e){return e.key!==t.key})),console.log(", data to send => :",e.state.dataToSend)}},setDeleteVL:function(t){if(null!=t.ID_ROWID){e.state.dataToSend.VL.delete.push(t),console.log("data to send => :",e.state.dataToSend)}else{var n=e.state.dataToSend.VL;n.New=n.New.filter((function(e){return e.key!==t.key})),console.log(", data to send => :",e.state.dataToSend)}},setUpdateVL:function(t,n){if(null!=t.ID_ROWID){var a=e.state.dataToSend.VL.update,r=a.findIndex((function(e){return e.ID_ROWID===t.ID_ROWID}));-1==r?a.push(Object(nt.a)(Object(nt.a)({},t),n)):a[r]=Object(nt.a)(Object(nt.a)({},t),n),console.log(r,", data to send => :",e.state.dataToSend)}else{var s=e.state.dataToSend.VL.New,o=s.findIndex((function(e){return e.key===t.key}));-1!=o&&(s[o]=Object(nt.a)(Object(nt.a)({},t),n)),console.log(o,", data to send => :",e.state.dataToSend)}},setListeAllUl:function(t){var n=e.state.ListAllUL;t.map((function(e){return n.push(e)})),console.log("Listes de toutes les ULs=> ",e.state.ListAllUL)},showDrawer:this.props.showDrawer,closeDrawer:function(){return e.props.closeDrawer()},setSiseForm:function(t){return e.setState({drawerVisible:t})},setDrawerState:function(t,n,a,r){return e.props.setDrawerState(t,n,a,(function(){return r()}))},ref:this.adressRef,update:this.state.update,datasource:null!=this.state.defaultValue?this.state.defaultValue.VL:null})})},"2"),Object(N.jsx)(te.A.TabPane,{tab:Object(N.jsx)(te.y,{title:"Variante de vente"}),children:Object(N.jsx)("div",{className:"template-tabs-panel",style:{height:"100%",border:"1px solid #eee",borderTop:"0px"},children:Object(N.jsx)(Qa,{ListAllUL:this.state.ListAllUL,ListUL:this.state.dataToSend.VL.New,setNewVL:function(t){t.ASV=[];var n=e.state.dataToSend.VL.New,a=e.state.dataToSend.VV.New,r=e.state.AllVV;null!=t.RPVVCINUL.UL?n[t.RPVVCINUL.VL].UL[t.RPVVCINUL.UL].VV.push(t):a.push(t),t.id=null!=t.RPVVCINUL.UL?n[t.RPVVCINUL.VL].UL[t.RPVVCINUL.UL].VV.length-1:a.length-1,r.push(t),console.log("data a envoyer a l'api => ",e.state.dataToSend)},setDeleteVV:function(t){if(null!=t.ID_ROWID)e.state.dataToSend.VV.delete.push(t),console.log("data to send => :",e.state.dataToSend);else if(null!=t.RPVVCINUL&&null!=t.RPVVCINUL.VL){var n=e.state.dataToSend.VL.New[t.RPVVCINUL.VL].UL[t.RPVVCINUL.UL];n.VV=n.VV.filter((function(e){return e.key!==t.key})),console.log(", data to send => :",e.state.dataToSend)}else{var a=e.state.dataToSend.VV;a.New=a.New.filter((function(e){return e.key!==t.key})),console.log(", data to send => :",e.state.dataToSend)}},setUpdateVV:function(t,n){if(null!=t.ID_ROWID){var a=e.state.dataToSend.VV.update,r=a.findIndex((function(e){return e.ID_ROWID===t.ID_ROWID}));-1==r?a.push(Object(nt.a)(Object(nt.a)({},t),n)):a[r]=Object(nt.a)(Object(nt.a)({},t),n),console.log(r,", data to send => :",e.state.dataToSend)}else if(null!=t.RPVVCINUL&&null!=t.RPVVCINUL.VL){var s=e.state.dataToSend.VL.New;console.log("afficheg avant karita 3odma data.RPVVCINUL",t.RPVVCINUL,s[t.RPVVCINUL.VL]),-1!=(o=s[t.RPVVCINUL.VL].UL[t.RPVVCINUL.UL].VV.findIndex((function(e){return e.key===t.key})))&&(s[t.RPVVCINUL.VL].UL[t.RPVVCINUL.UL].VV[o]=Object(nt.a)(Object(nt.a)({},t),n)),console.log(o,", data to send => :",e.state.dataToSend)}else{var o,c=e.state.dataToSend.VV.New;-1!=(o=c.findIndex((function(e){return e.key===t.key})))&&(c[o]=Object(nt.a)(Object(nt.a)({},t),n)),console.log(o,", data to send => :",e.state.dataToSend)}},showDrawer:this.props.showDrawer,closeDrawer:function(){return e.props.closeDrawer()},setSiseForm:function(t){return e.setState({drawerVisible:t})},setDrawerState:function(t,n,a,r){return e.props.setDrawerState(t,n,a,(function(){return r()}))},ref:this.adressRef,updateAdress:this.state.update,update:this.state.update,datasource:null!=this.state.defaultValue?this.state.defaultValue.VV:null})})},"3"),Object(N.jsx)(te.A.TabPane,{tab:Object(N.jsx)(te.y,{title:"Fichier"}),children:Object(N.jsx)("div",{className:"template-tabs-panel",style:{height:"100%",border:"1px solid #eee",borderTop:"0px"},children:Object(N.jsx)(sr,{ListFiles:this.state.defaultValue?this.state.defaultValue.Files:[],setDeleteFiles:function(t){if(null!=t.ID_ROWID){e.state.dataToSend.files.delete.push(t),console.log(", data to send => :",e.state.dataToSend)}else{var n=e.state.dataToSend.files;n.New=n.New.filter((function(e){return e.key!==t.key})),console.log(", data to send => :",e.state.dataToSend)}},setNewFiles:function(t){e.state.dataToSend.files.New.push(t),console.log("data a envoyer a l'api => ",e.state.dataToSend)},ref:this.adressRef,updateAdress:this.state.update,datasource:null!=this.state.defaultValue&&null!=this.state.defaultValue.contact?this.state.defaultValue.contact[0].Adresses:null})})},"4"),this.state.tabPointDeVente&&Object(N.jsx)(te.A.TabPane,{tab:Object(N.jsx)(te.y,{title:"Ventes"}),children:Object(N.jsx)("div",{className:"template-tabs-panel",style:{height:"100%",border:"1px solid #eee",borderTop:"0px"},children:Object(N.jsx)(Mr,{AllSites:this.state.AllSites,AllVV:this.state.AllVV,setNewASV:function(t){if(null!=t.RAVCINVV)e.state.dataToSend.ASV.New.push(t),console.log("data a envoyer a l'api => ",e.state.dataToSend);else if(null!=t.VL){var n=e.state.dataToSend.VL.New;console.log("allVl=> : ",n),console.log("asv=> : ",t),n[t.VL].UL[t.UL].VV[t.VV].ASV.push(t),console.log("data a envoyer a l'api => ",e.state.dataToSend)}else{e.state.dataToSend.VV.New[t.VV].ASV.push(t),console.log("data a envoyer a l'api => ",e.state.dataToSend)}},setNewVL:function(t,n){e.state.dataToSend.VL.New.push(t),console.log("data a envoyer a l'api => ",e.state.dataToSend)},setNewUL:function(t){if(null!=t.RPULCINVL){e.state.dataToSend.UL.New.push(t),console.log(", data to send => :",e.state.dataToSend)}else{var n=e.state.dataToSend.VL.New,a=n.findIndex((function(e){return e.key===t.VL_key}));n[a].UL.push(t),console.log(", data to send => :",e.state.dataToSend)}},setUpdateUL:function(t){if(null!=t.ID_ROWID){e.state.dataToSend.UL.update.push(t),console.log(", data to send => :",e.state.dataToSend)}else{var n=e.state.dataToSend.VL.New,a=n.findIndex((function(e){return e.key===t.VL_key}));console.log(n[a]),n[a].UL[t.key]=t,console.log(", data to send => :",e.state.dataToSend)}},setDeleteUL:function(t){if(null!=t.ID_ROWID){e.state.dataToSend.UL.delete.push(t),console.log(", data to send => :",e.state.dataToSend)}else{var n=e.state.dataToSend.VL.New,a=n.findIndex((function(e){return e.key===t.VL_key}));console.log(n[a]),n[a].UL=n[a].UL.filter((function(e){return e.key!==t.key})),console.log(", data to send => :",e.state.dataToSend)}},setDeleteVL:function(t){if(null!=t.ID_ROWID){e.state.dataToSend.ASV.delete.push(t),console.log("data to send => :",e.state.dataToSend)}else{var n=e.state.dataToSend.VL;n.New[t.VL].UL[t.UL].VV[t.VV].ASV=n.New[t.VL].UL[t.UL].VV[t.VV].ASV.filter((function(e){return e.key==t.key})),console.log("win el mochkila : ",n.New[t.VL].UL[t.UL].VV[t.VV].ASV.filter((function(e){return e.key!==t.key}))),console.log(", data to send => :",e.state.dataToSend)}},setUpdateVL:function(t,n){if(null!=t.ID_ROWID){var a=e.state.dataToSend.ASV.update,r=a.findIndex((function(e){return e.ID_ROWID===t.ID_ROWID}));-1==r?a.push(Object(nt.a)(Object(nt.a)({},t),n)):a[r]=Object(nt.a)(Object(nt.a)({},t),n),console.log(r,", data to send => :",e.state.dataToSend)}else{e.state.dataToSend.VL.New[t.VL].UL[t.UL].VV[t.VV].ASV=Object(nt.a)(Object(nt.a)({},t),n),console.log("data to send => :",e.state.dataToSend)}},setListeAllUl:function(t){var n=e.state.ListAllUL;t.map((function(e){return n.push(e)})),console.log("Listes de toutes les ULs=> ",e.state.ListAllUL)},showDrawer:this.props.showDrawer,closeDrawer:function(){return e.props.closeDrawer()},setSiseForm:function(t){return e.setState({drawerVisible:t})},setDrawerState:function(t,n,a,r){return e.props.setDrawerState(t,n,a,(function(){return r()}))},ref:this.adressRef,update:this.state.update,datasource:null!=this.state.defaultValue?this.state.defaultValue.ASSVEN:null})})},"5"),this.state.tabCommendable&&Object(N.jsx)(te.A.TabPane,{tab:Object(N.jsx)(te.y,{title:"Achats"}),children:Object(N.jsx)("div",{className:"template-tabs-panel",style:{height:"100%",border:"1px solid #eee",borderTop:"0px"},children:Object(N.jsx)(Qr,{AllSites:this.state.AllSites,AllVL:this.state.AllVL,AllVV:this.state.AllVV,AllFour:this.state.AllFour,AllTVA:this.state.AllTVA,setNewASV:function(t){if(null!=t.RAVCINVV){e.state.dataToSend.ASC.New.push(t),console.log("data a envoyer a l'api => ",e.state.dataToSend)}else{var n=e.state.dataToSend.VL.New;console.log("allVl=> : ",n),console.log("asv=> : ",t),n[t.VL].ASC.push(t),console.log("data a envoyer a l'api => ",e.state.dataToSend)}},setNewVL:function(t,n){e.state.dataToSend.VL.New.push(t),console.log("data a envoyer a l'api => ",e.state.dataToSend)},setNewUL:function(t){if(null!=t.RPULCINVL){e.state.dataToSend.UL.New.push(t),console.log(", data to send => :",e.state.dataToSend)}else{var n=e.state.dataToSend.VL.New,a=n.findIndex((function(e){return e.key===t.VL_key}));n[a].UL.push(t),console.log(", data to send => :",e.state.dataToSend)}},setUpdateUL:function(t){if(null!=t.ID_ROWID){e.state.dataToSend.UL.update.push(t),console.log(", data to send => :",e.state.dataToSend)}else{var n=e.state.dataToSend.VL.New,a=n.findIndex((function(e){return e.key===t.VL_key}));console.log(n[a]),n[a].UL[t.key]=t,console.log(", data to send => :",e.state.dataToSend)}},setDeleteUL:function(t){if(null!=t.ID_ROWID){e.state.dataToSend.UL.delete.push(t),console.log(", data to send => :",e.state.dataToSend)}else{var n=e.state.dataToSend.VL.New,a=n.findIndex((function(e){return e.key===t.VL_key}));console.log(n[a]),n[a].UL=n[a].UL.filter((function(e){return e.key!==t.key})),console.log(", data to send => :",e.state.dataToSend)}},setDeleteVL:function(t){if(null!=t.ID_ROWID){e.state.dataToSend.ASV.delete.push(t),console.log("data to send => :",e.state.dataToSend)}else{var n=e.state.dataToSend.VL;n.New[t.VL].UL[t.UL].VV[t.VV].ASV=n.New[t.VL].UL[t.UL].VV[t.VV].ASV.filter((function(e){return e.key==t.key})),console.log("win el mochkila : ",n.New[t.VL].UL[t.UL].VV[t.VV].ASV.filter((function(e){return e.key!==t.key}))),console.log(", data to send => :",e.state.dataToSend)}},setUpdateVL:function(t,n){if(null!=t.ID_ROWID){var a=e.state.dataToSend.ASV.update,r=a.findIndex((function(e){return e.ID_ROWID===t.ID_ROWID}));-1==r?a.push(Object(nt.a)(Object(nt.a)({},t),n)):a[r]=Object(nt.a)(Object(nt.a)({},t),n),console.log(r,", data to send => :",e.state.dataToSend)}else{e.state.dataToSend.VL.New[t.VL].UL[t.UL].VV[t.VV].ASV=Object(nt.a)(Object(nt.a)({},t),n),console.log("data to send => :",e.state.dataToSend)}},setListeAllUl:function(t){var n=e.state.ListAllUL;t.map((function(e){return n.push(e)})),console.log("Listes de toutes les ULs=> ",e.state.ListAllUL)},showDrawer:this.props.showDrawer,closeDrawer:function(){return e.props.closeDrawer()},setSiseForm:function(t){return e.setState({drawerVisible:t})},setDrawerState:function(t,n,a,r){return e.props.setDrawerState(t,n,a,(function(){return r()}))},ref:this.adressRef,update:this.state.update,datasource:null!=this.state.defaultValue?this.state.defaultValue.ASSVEN:null})})},"6")]})})," "]})})})})]})})}),Object(N.jsx)(U.a,{span:18})]})})})}}]),n}(a.Component)),ss=(n(478),n(549)),os=n(550),cs=n(551),is=[],ls=1;ls<=1;ls++)is.push({titre:"Vue syst\xe9me "+ls,check:!0});for(var ds=[],us=1;us<=3;us++)ds.push({titre:"Vues personnalis\xe9s "+us,check:!1});var ps=function(e){var t=e.title,n=e.content;return Object(N.jsxs)("div",{className:"site-description-item-profile-wrapper",children:[Object(N.jsxs)("p",{className:"site-description-item-profile-p-label",children:[t,":"]}),n]})},hs=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a,r,s,o;return Object(L.a)(this,n),(o=t.call(this,e)).getToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetToken------------------"),t&&(console.log("error => :",t),o.props.goTo("../403")),null==n&&(console.log("tokne is null => : ",n),o.props.goTo("../403")),o.setState({token:n}),console.log("tokne from host => :",o.state.token),console.log("-------------------fin-GetToken-------------------"),e.next=8,o.getData();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.getRefrechToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-GetRefrechToken------------------"),t&&(console.log("error => :",t),o.props.goTo("403")),null==n&&(console.log("Refech tokne is null => : ",n),o.props.goTo("../403")),o.setState({Refrech:n}),console.log("Refech tokne from host => :",o.state.Refrech),console.log("-------------------fin-GetRefrechToken-------------------");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.onChange=function(e,t){console.log("Selected Time: ",e),console.log("Formatted Selected Time: ",t,o.state.dateFinDesactiver),o.setState({dateFinDesactiver:t})},o.handleDelete=function(e){var t=Object(ae.a)(o.state.datass);o.setState({datass:t.filter((function(t){return t.key!==e}))})},o.state=(s={search:"",token:null,bordered:!1,loading:!1,model:{title:"",Content:"",width:300,onOk:console.log("ok"),visible:!1},dateFinDesactiver:"20202-28-06 11:34:00",columns:[{title:"",dataIndex:"RPRPHOTO",width:"5%",ellipsis:!0,fixed:"left",render:function(e,t){return!o.state.loading&&Object(N.jsx)(G.a,{src:!!t.RPRPHOTO&&t.RPRPHOTO,size:40,shape:"square",icon:Object(N.jsx)(Q.a,{}),children:"."})}},{title:"Code",dataIndex:"RPRCEXT",ellipsis:!0,width:"10%",fixed:"left",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RPRCEXT,children:Object(N.jsx)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:t.RPRCEXT})})}},(a={title:"Acronyme",dataIndex:"RPRLIBC",ellipsis:!0,width:"10%"},Object(Ve.a)(a,"ellipsis",{showTitle:!1}),Object(Ve.a)(a,"render",(function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RPRLIBC,children:Object(N.jsx)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:t.RPRLIBC})})})),a),{title:"Libelle",ellipsis:!0,width:"15%",dataIndex:"RPRLIBL",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RPRLIBL,children:Object(N.jsx)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:t.RPRLIBL})})}},{title:"Cat\xe9gorie",ellipsis:!0,width:"10%",dataIndex:"structure",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.structure,children:Object(N.jsxs)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:[Object(N.jsx)(nr.a,{children:t.structure})," "]})})}},{title:"Unit\xe9 de stock",ellipsis:!0,width:"10%",dataIndex:"RPRUSTOCK",render:function(e,t){return Object(N.jsx)("span",{style:{display:"flex",justifyContent:"center",width:"100%"},children:o.getUniteStockPrd(t.RPRUSTOCK,t.MUTETAT)})}},{title:"garantie",ellipsis:!0,dataIndex:"RPRIGARANTI",width:"6%",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RPRIGARANTI,children:Object(N.jsx)("div",{style:t.MUTETAT?{display:"flex",justifyContent:"center"}:{cursor:"not-allowed",color:"#7a7a7a",display:"flex",justifyContent:"center"},children:t.RPRIGARANTI?Object(N.jsx)(fe.a,{twoToneColor:"#ff4d4f",style:{fontSize:"17px"}}):Object(N.jsx)(be.a,{twoToneColor:"#16f007",style:{fontSize:"17px"}})})})}},{title:"Dangereux",ellipsis:!0,width:"7%",dataIndex:"RPRIDAnger",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RPRIDAnger,children:Object(N.jsx)("div",{style:t.MUTETAT?{display:"flex",justifyContent:"center"}:{cursor:"not-allowed",color:"#7a7a7a",display:"flex",justifyContent:"center"},children:t.RPRIDAnger?Object(N.jsx)(fe.a,{twoToneColor:"#ff4d4f",style:{fontSize:"17px"}}):Object(N.jsx)(be.a,{twoToneColor:"#16f007",style:{fontSize:"17px"}})})})}},{title:"variante de vente",ellipsis:!0,width:"10%",dataIndex:"RPRUSTOCK",render:function(e,t){var n;return Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[" ",Object(N.jsx)(q.a,(n={className:"dms-button-info dms-button dms",onClick:function(){return console.log("see",t.id)},shape:"circle",type:"text",disabled:!t.MUTETAT},Object(Ve.a)(n,"onClick",(function(){return o.props.goTo(v+t.id)})),Object(Ve.a)(n,"icon",Object(N.jsx)(ss.a,{})),Object(Ve.a)(n,"size","small"),Object(Ve.a)(n,"onClick",(function(){console.log("delete",t.id),o.setState({model:{title:"Contacte",Content:Object(N.jsxs)(z.b,{direction:"vertical",size:12,children:[Object(N.jsxs)(D.a,{children:[Object(N.jsx)(U.a,{span:12,children:Object(N.jsx)(ps,{title:"Email",content:"AntDesign@example.com"})}),Object(N.jsx)(U.a,{span:12,children:Object(N.jsx)(ps,{title:"Phone Number",content:"+86 181 0000 0000"})})]}),Object(N.jsx)(D.a,{children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(ps,{title:"Github",content:Object(N.jsx)("a",{href:"http://github.com/ant-design/ant-design/",children:"github.com/ant-design/ant-design/"})})})})]}),onOk:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("ok",o.state.dateFinDesactiver);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),width:600,visible:!0}})})),n))]})}},{title:"Type",ellipsis:!0,width:"9%",dataIndex:"RPRTYPE",render:function(e,t){return Object(N.jsx)("span",{style:{},children:o.getTypePrd(t.RPRTYPE,t.MUTETAT)})}},(r={title:" ",key:"action",width:"8%",fixed:"right"},Object(Ve.a)(r,"width",170),Object(Ve.a)(r,"render",(function(e,t){return Object(N.jsxs)(z.b,{size:"middle",style:{display:"flex",justifyContent:"flex-end"},children:[Object(N.jsxs)(Jn.a,{placement:"topLeft",title:o.state.publier?"Retirer de la marketplace":"Publier sur la marketplace",children:[" ",Object(N.jsx)(q.a,{className:"dms-button-info dms-button dms",shape:"circle",disabled:!t.MUTETAT,onClick:function(){return o.setState({publier:!o.state.publier})},icon:o.state.publier?Object(N.jsx)(os.a,{}):Object(N.jsx)(cs.a,{}),size:"small"})]}),Object(N.jsx)(q.a,{className:"dms-button-info dms-button dms",shape:"circle",disabled:!t.MUTETAT,onClick:function(){return o.props.goTo(v+t.ID_ROWID)},icon:Object(N.jsx)(ot.a,{}),size:"small"}),Object(N.jsx)(q.a,{className:"dms-button-error dms-button dms",shape:"circle",icon:t.MUTETAT?Object(N.jsx)(He.a,{}):Object(N.jsx)(Fe.a,{}),size:"small",onClick:function(){console.log("delete",t.id),o.setState({model:{title:"Delete user",width:300,Content:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(N.jsxs)(z.b,{direction:"vertical",size:5,align:"center",children:[Object(N.jsx)("p",{children:t.MUTETAT?"Do you want to disable user "+t.username+"?":"Do you want to enable user "+t.username+"?"}),t.MUTETAT&&Object(N.jsx)(te.h,{style:{width:"100%"},showTime:!0,onChange:o.onChange,onOk:o.onOk})]})}),onOk:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ok",o.state.dateFinDesactiver),e.prev=1,e.next=4,Pn(o.props.service,{activate:!t.MUTETAT,MUTDFIN:o.state.dateFinDesactiver,pk:t.id});case 4:o.getData(),ea.a.open({message:"Success",description:t.MUTETAT?t.username+" is disabled successfully":t.username+" is enabled successfully",className:"custom-class",type:"success",placement:"bottomRight",style:{width:400}}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),ea.a.open({message:"Error",placement:"bottomRight",type:"error",description:t.MUTETAT?t.username+" could not be disabled.":t.username+" could not be enabled.",className:"custom-class",style:{width:400}});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),visible:!0}})}})]})})),r)],publier:!1,datass:[]},Object(Ve.a)(s,"loading",!0),Object(Ve.a)(s,"showHeader",!0),Object(Ve.a)(s,"rowSelection",{}),Object(Ve.a)(s,"scroll",void 0),Object(Ve.a)(s,"hasData",!0),Object(Ve.a)(s,"tableLayout",void 0),Object(Ve.a)(s,"top","none"),Object(Ve.a)(s,"bottom","bottomRight"),s),o.getToken=o.getToken.bind(Object(zt.a)(o)),o.getRefrechToken=o.getRefrechToken.bind(Object(zt.a)(o)),o}return Object(I.a)(n,[{key:"getTypePrd",value:function(e,t){switch(e){case 1:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"purple":"default",children:"service"},e);case 2:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"magenta":"default",children:"consommable"},e);default:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"red":"default",children:"autre"},e)}}},{key:"getUniteStockPrd",value:function(e,t){switch(e){case 1:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"cyan":"default",children:"piece"},e);case 2:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"blue":"default",children:"Kilo fix"},e);case 3:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"geekblue":"default",children:"Kilo moyen"},e);case 4:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"green":"default",children:"kilo Pese"},e);default:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"lime":"default",children:"autre"},e)}}},{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-ResultaDeRecherche------------------"),t=this.props.history.location,n="",a="",console.log("location.search  =>  :",t.search),""!=t.search&&null==(n=t.search.slice(1).split("?")[0].split("search=")[1])&&(a=t.search.slice(1).split("?")[0]),this.setState({search:n,filter:a}),console.log("Valeur de recherche => :",n),console.log("Valeur de filtrage => :",a),console.log("-------------------fin-ResultaDeRecherche-------------------"),e.t0=this.props.hostStorage,e.next=13,this.getRefrechToken;case 13:return e.t1=e.sent,e.t0.get.call(e.t0,"refresh_token",e.t1),e.t2=this.props.hostStorage,e.next=18,this.getToken;case 18:e.t3=e.sent,e.t2.get.call(e.t2,"access_token",e.t3);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"refrechpage",value:function(){window.location.reload()}},{key:"onOk",value:function(e){console.log("onOk: ",e)}},{key:"getData",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetProduits------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,xa(this.props.service,this.state.search,t||this.state.token,this.state.filter);case 7:n=e.sent,console.log("succes from api : user (getAll()) => :",n),null!=n.data&&n.data.map((function(e,t){Object.assign(e,{key:t,MUTETAT:!0})})),this.setState({datass:null!=n.data?n.data:null,loading:!1}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("Error  :  GetUsers  => : ",e.t0),this.setState({loading:!1}),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500");case 18:console.log("-------------------fin-GetUser-------------------");case 19:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.xScroll,a=t.yScroll,r=Object(at.a)(t,["xScroll","yScroll"]),s={};a&&(s.y=240),n&&(s.x="100vw");var o=this.state.columns.map((function(e){return Object(nt.a)(Object(nt.a)({},e),{},{ellipsis:r.ellipsis})}));return"fixed"===n&&(o[0].fixed=!0,o[o.length-1].fixed="right"),Object(N.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(N.jsx)(D.a,{justify:"center",children:Object(N.jsxs)(U.a,{span:24,style:{height:"587px",backgroundColor:"#fff"},children:[Object(N.jsx)(We.a,{title:this.state.model.title,centered:!0,visible:this.state.model.visible,onOk:function(){e.state.model.onOk(),e.setState({model:{title:"",Content:"",onOk:console.log("ok"),visible:!1}})},onCancel:function(){return e.setState({model:{title:"",Content:"",width:400,onOk:console.log("ok"),visible:!1}})},width:this.state.model.width,children:this.state.model.Content}),Object(N.jsx)(te.z,Object(nt.a)(Object(nt.a)({className:"template-dms",title:function(){return Object(N.jsx)(za,{vues:{vueSysteme:is,vuesPersonnalises:ds},title:"Produits",enAdd:e.handleAdd,type:"primary",style:{marginBottom:16}})},size:"small",pagination:{position:["none","bottomRight"]},scroll:{x:2245}},this.state),{},Object(Ve.a)({vues:{vueSysteme:is,vuesPersonnalises:ds},size:"small",columns:o,dataSource:r.hasData?this.state.datass:null,scroll:s},"scroll",{y:435})))]})})})}}]),n}(a.Component),js=Object(Ze.i)(hs),bs=r.a.forwardRef((function(e,t){var n=Object(Ze.h)(),s=r.a.createRef(),o=r.a.createRef();return Object(a.useImperativeHandle)(t,(function(){var e;return e={Route:{search:y,create:O,update:v,result:g},removeElem:function(e){s.current.removeElem(e)},activerUpdate:function(){s.current.activerUpdate()},history:function(){return o.current.history},onReset:function(){s.current.onReset()},onSubmit:function(){s.current.onSubmit()},loadingFormulaire:function(e){s.current.loading(e)},CleanInputChange:function(e){s.current.CleanInputChange()}},Object(Ve.a)(e,"history",o.current.history),Object(Ve.a)(e,"goBack",(function(){o.current.history.goBack()})),Object(Ve.a)(e,"goForward",(function(){o.current.history.goForward()})),e})),Object(N.jsx)(Ze.a,{ref:o,initialEntries:[y],initialIndex:0,children:Object(N.jsxs)(Ze.e,{children:[Object(N.jsx)(Ze.c,{exact:!0,path:y,children:Object(N.jsx)(Ca,{showDrawer:e.showDrawer,closeDrawer:function(){return e.closeDrawer()},setDrawerState:function(t,n,a,r){return e.setDrawerState(t,n,a,(function(){return r()}))},history:n,hostStorage:e.hostStorage,service:e.service,goTo:function(t){return e.goTo(t)}})}),Object(N.jsx)(Ze.c,{exact:!0,path:O,children:Object(N.jsx)(rs,{showDrawer:e.showDrawer,closeDrawer:function(){return e.closeDrawer()},setDrawerState:function(t,n,a,r){return e.setDrawerState(t,n,a,(function(){return r()}))},history:n,hostStorage:e.hostStorage,icon:e.icon,disabelEditButton:function(t){return e.disabelEditButton(t)},service:e.service,services:e.services.formulaire,ref:s,goTo:function(t){return e.goTo(t)},onFormulaireChange:function(t){return e.onFormulaireChange(t)}})}),Object(N.jsx)(Ze.c,{exact:!0,path:g,children:Object(N.jsx)(js,{showDrawer:e.showDrawer,closeDrawer:function(){return e.closeDrawer()},setDrawerState:function(t,n,a,r){return e.setDrawerState(t,n,a,(function(){return r()}))},history:n,hostStorage:e.hostStorage,service:e.service,services:e.services.result,goTo:function(t){return e.goTo(t)}})}),Object(N.jsx)(Ze.c,{exact:!0,path:"userUpdatePath/:id",children:Object(N.jsx)(rs,{showDrawer:e.showDrawer,closeDrawer:function(){return e.closeDrawer()},setDrawerState:function(t,n,a,r){return e.setDrawerState(t,n,a,(function(){return r()}))},history:n,hostStorage:e.hostStorage,icon:e.icon,ref:s,disabelEditButton:function(t){return e.disabelEditButton(t)},service:e.service,services:e.services.formulaire,onFormulaireChange:function(t){return e.onFormulaireChange(t)},goTo:function(t){return e.goTo(t)}})}),Object(N.jsx)(Ze.c,{path:"404",children:Object(N.jsx)(dn,{})}),Object(N.jsx)(Ze.b,{from:"*",to:"404"})]})})})),fs=n(552),xs=Object(N.jsx)(Je.a,{style:{fontSize:16,color:"#1890ff"}});function ms(e,t){return e.filter((function(e){return e.mere===t})).reduce((function(t,n){return[].concat(Object(ae.a)(t),[{title:n.RRSMLIBL,value:n.ID_ROWID,children:ms(e,n.ID_ROWID)}])}),[])}for(var Os=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).formRef=r.a.createRef(),a.getToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetToken------------------"),t&&(console.log("error => :",t),a.props.goTo("../403")),null==n&&(console.log("tokne is null => : ",n),a.props.goTo("../403")),a.setState({token:n}),console.log("tokne from host => :",a.state.token),console.log("-------------------fin-GetToken-------------------"),e.next=8,a.getSM();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.getRefrechToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetRefrechToken------------------"),t&&(console.log("error => :",t),a.props.goTo("403")),null==n&&(console.log("Refech tokne is null => : ",n),a.props.goTo("../403")),a.setState({Refrech:n}),console.log("Refech tokne from host => :",a.state.Refrech),console.log("-------------------fin-GetRefrechToken-------------------"),e.t0=a.props.hostStorage,e.next=9,a.getToken;case 9:e.t1=e.sent,e.t0.get.call(e.t0,"access_token",e.t1);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.onSearch=function(e){console.log("------------------debut-onSearch------------------"),console.log("Rechercher par => :",e),a.props.goTo("userAdvancedSearchPath?search="+e),console.log("-------------------fin-onSearch-------------------")},a.onFilter=function(e){console.log("------------------debut-onSearch------------------"),console.log("Filtrer par => :",e),a.props.goTo("userAdvancedSearchPath?"+e),console.log("-------------------fin-onSearch-------------------")},a.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-Submit-NewVarianteVente------------------"),!0,Ge.b.loading("Loading..",true);try{n="&RSSITE="+(null!=t.RSSITE?t.RSSITE:"")+"&RSLIBL="+(null!=t.RSLIBL?t.RSLIBL:"")+"&RSLIBC="+(null!=t.RSLIBC?t.RSLIBC:"")+"&RSZGEO="+(null!=t.RSZGEO?t.RSZGEO:"")+"&RSAdress="+(null!=t.RSAdress?t.RSAdress:"")+"&RSCINCAL__RCSHEUREO="+(null!=t.RCSHEUREO?t.RCSHEUREO.format("HH:mm"):"")+"&RSCINCAL__RCSHEUREF="+(null!=t.RCSHEUREF?t.RCSHEUREF.format("HH:mm"):"")+"&RSCINCAL__RCSINFSAM="+(null!=t.RCSINFSAM?t.RCSINFSAM:"")+"&RSCINCAL__RCSINFDIM="+(null!=t.RCSINFDIM?t.RCSINFDIM:"")+"&RSCINCAL__RCSINFLUN="+(null!=t.RCSINFLUN?t.RCSINFLUN:"")+"&RSCINCAL__RCSINFMAR="+(null!=t.RCSINFMAR?t.RCSINFMAR:"")+"&RSCINCAL__RCSINFMER="+(null!=t.RCSINFMER?t.RCSINFMER:"")+"&RSCINCAL__RCSINFJEU="+(null!=t.RCSINFMJEU?t.RCSINFJEU:"")+"&RSCINCAL__RCSINFVEN="+(null!=t.RCSINFMJVEN?t.RCSINFVEN:""),console.log("filtre => : ",n),a.onFilter(n),console.log("------------------fin-Submit-NewVarianteVente------------------")}catch(r){console.log("error :",r),console.log("------------------fin-Submit-NewVarianteVente------------------")}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){a.formRef.current.submit()},a.onReset=function(){a.formRef.current.resetFields()},a.state={width:"",visible:!1,TreeSM:[]},a.getRefrechToken=a.getRefrechToken.bind(Object(zt.a)(a)),a.getToken=a.getToken.bind(Object(zt.a)(a)),a}return Object(I.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.props.hostStorage,e.next=3,this.getRefrechToken;case 3:e.t1=e.sent,e.t0.get.call(e.t0,"refresh_token",e.t1);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSM",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetStructures-Marchandise------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,ma(this.props.service,"",t||this.state.token);case 7:n=e.sent,console.log("succes from api : Produit =>  (getStructures-Marchandise()) => :",n),a=ms(n.data,null),console.log(n.data,"=> tree =>",a),this.setState({TreeSM:a}),console.log("-------------------fin-GetStructures-Marchandise-------------------"),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(4),console.log("Error from api : Produit =>  getStructures-Marchandise  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500"),console.log("-------------------fin-GetStructures-Marchandise-------------------");case 20:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.visible;return Object(N.jsxs)("div",{style:{height:"100%",width:this.state.width,paddingTop:"90px"},children:[Object(N.jsx)(te.a,{offsetTop:150,style:{position:"fixed",left:"95%",top:"90%"},children:Object(N.jsx)(te.d,{type:"primary",shape:"circle",size:"large",onClick:function(){return e.props.goTo(O)},children:Object(N.jsx)(Qe.a,{})})}),Object(N.jsx)(te.q,{title:Object(N.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(N.jsx)(fs.a,{style:{marginRight:"6px"},twoToneColor:"#52488b"}),Object(N.jsx)("div",{style:{color:"#52488b"},children:"Recherche avanc\xe9e"})]}),centered:!0,visible:t,onOk:function(){e.onSubmit(),e.setState({visible:!1})},onCancel:function(){e.setState({visible:!1}),e.onReset()},okText:Object(N.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(N.jsx)(fs.a,{style:{marginRight:"6px"},twoToneColor:"#fff"}),Object(N.jsx)("div",{children:"Apply filter"})]}),width:800,children:Object(N.jsx)(st.b,{form:{validateMessages:ba.fr},children:Object(N.jsx)(te.l,{ref:this.formRef,layout:"vertical",name:"control-ref",onFinish:this.onFinish,children:Object(N.jsx)(D.a,{gutter:[20,20],justify:"center",align:"stretch",children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsxs)(D.a,{gutter:[16,0],align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:16,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Code",style:{marginBottom:"15px"},name:"RSSITE",children:Object(N.jsx)(B.a,{placeholder:"Entrer le code..."})})," "]})})})," ",Object(N.jsx)(U.a,{span:8,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Acronyme",style:{marginBottom:"15px"},name:"RSLIBC",children:Object(N.jsx)(B.a,{placeholder:"Entrer l'acronyme..."})})," "]})})}),Object(N.jsx)(U.a,{span:16,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{style:{marginBottom:"15px"},label:"Libelle",name:"RSLIBL",children:Object(N.jsx)(B.a,{placeholder:"Entrer libelle..."})})," "]})})}),Object(N.jsx)(U.a,{span:8,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"15px"},label:"Zone Geo",name:"RSZGEO",children:Object(N.jsxs)(te.u,{allowClear:!0,placeholder:"Selectionner la zone geographique...",children:[Object(N.jsx)(te.u.Option,{value:0,children:"Algerie"}),Object(N.jsx)(te.u.Option,{value:1,children:"Allemagne"}),Object(N.jsx)(te.u.Option,{value:2,children:"Arabie saoudite"}),Object(N.jsx)(te.u.Option,{value:3,children:"France"})]})})})})})," ",Object(N.jsx)(U.a,{span:16,children:Object(N.jsxs)(D.a,{gutter:[15,0],align:"stretch",children:[Object(N.jsxs)(U.a,{span:24,children:[Object(N.jsx)(te.l.Item,{style:{marginBottom:"15px"},label:"Adresse",name:"RSAdress",children:Object(N.jsx)(B.a,{placeholder:"Entrer l'adresse..."})})," "]}),Object(N.jsx)(U.a,{span:12,style:{display:"flex",alignContent:"center",flexWrap:"wrap",width:"100%"},children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"15px",width:"100%"},name:"RCSHEUREO",label:"Heure d'ouverteure",valuePropName:"checked",children:Object(N.jsx)(te.C,{style:{width:"100%"},defaultOpenValue:On()("00:00:00","HH:mm")})})})," ",Object(N.jsx)(U.a,{span:12,style:{display:"flex",alignContent:"center",flexWrap:"wrap",width:"100%"},children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"15px",width:"100%"},name:"RCSHEUREF",label:"Heure de fermture",valuePropName:"checked",children:Object(N.jsx)(te.C,{style:{width:"100%"},defaultOpenValue:On()("00:00:00","HH:mm")})})})]})}),Object(N.jsx)(U.a,{span:8,style:{display:"flex",alignContent:"center",flexWrap:"wrap"},children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(D.a,{children:[Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RCSINFSAM",valuePropName:"checked",children:Object(N.jsx)(te.e,{style:{lineHeight:"32px"},children:"Samedi"})})}),Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RCSINFDIM",valuePropName:"checked",children:Object(N.jsx)(te.e,{style:{lineHeight:"32px"},children:"dimanche"})})}),Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RCSINFLUN",valuePropName:"checked",children:Object(N.jsx)(te.e,{style:{lineHeight:"32px"},children:"lundi"})})}),Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RCSINFMAR",valuePropName:"checked",children:Object(N.jsx)(te.e,{style:{lineHeight:"32px"},children:"mardi"})})}),Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RCSINFMER",valuePropName:"checked",children:Object(N.jsx)(te.e,{style:{lineHeight:"32px"},children:"mercredi"})})}),Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RCSINFJEU",valuePropName:"checked",children:Object(N.jsx)(te.e,{style:{lineHeight:"32px"},children:"jeudi"})})})," ",Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RCSINFVEN",valuePropName:"checked",children:Object(N.jsx)(te.e,{style:{lineHeight:"32px"},children:"vendredi"})})})]})})})," "]})})})})})}),Object(N.jsxs)(D.a,{gutter:[16,30],align:"middle",justify:"space-around",children:[Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(z.b,{children:Object(N.jsx)("img",{src:"./search3.png",alt:"ooo",style:{width:"410px"}})})})," ",Object(N.jsxs)(U.a,{span:""==this.state.width?9:15,children:[" ",Object(N.jsxs)(D.a,{align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:2,children:Object(N.jsx)(te.d,{type:"primary",style:{height:"100%"},onClick:function(t){e.setState({visible:!0})},children:Object(N.jsx)(ha.a,{})})}),Object(N.jsx)(U.a,{span:22,children:Object(N.jsx)(B.a.Search,{placeholder:"what are you looking for ?",enterButton:"Search",size:"large",suffix:xs,onSearch:function(t){return e.onSearch(t)}})})]})]})]})]})}}]),n}(a.Component),gs=Object(Ze.i)(Os),ys=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){var e=this.props,t=e.update,n=e.handleInputChange;return Object(N.jsxs)(D.a,{gutter:t?[0,0]:[0,20],align:"top",justify:"space-between",children:[Object(N.jsx)(U.a,{span:7,style:{display:"flex"},children:Object(N.jsx)(te.F,{className:"text-input-group",style:{marginTop:"6px",fontSize:"14px",fontWeight:"600"},children:"Jours de fermeture :"})})," ",Object(N.jsx)(U.a,{span:13,style:{display:"flex",justifyContent:"flex-end"},children:t?Object(N.jsxs)(D.a,{children:[Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RCSINFSAM",valuePropName:"checked",children:Object(N.jsx)(te.e,{style:{lineHeight:"32px"},children:"Samedi"})})}),Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RCSINFDIM",valuePropName:"checked",children:Object(N.jsx)(te.e,{onChange:n,style:{lineHeight:"32px"},children:"dimanche"})})}),Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RCSINFLUN",valuePropName:"checked",children:Object(N.jsx)(te.e,{onChange:n,style:{lineHeight:"32px"},children:"lundi"})})}),Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RCSINFMAR",valuePropName:"checked",children:Object(N.jsx)(te.e,{onChange:n,style:{lineHeight:"32px"},children:"mardi"})})}),Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RCSINFMER",valuePropName:"checked",children:Object(N.jsx)(te.e,{onChange:n,style:{lineHeight:"32px"},children:"mercredi"})})}),Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RCSINFJEU",valuePropName:"checked",children:Object(N.jsx)(te.e,{onChange:n,style:{lineHeight:"32px"},children:"jeudi"})})})," ",Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RCSINFVEN",valuePropName:"checked",children:Object(N.jsx)(te.e,{onChange:n,style:{lineHeight:"32px"},children:"vendredi"})})})]}):Object(N.jsx)(D.a,{children:this.props.jourF.map((function(e){return Object(N.jsx)(te.B,{style:{padding:"3px 9px"},color:e.color,children:e.titre},e.titre)}))})}),Object(N.jsx)(U.a,{span:7,style:{display:"flex"},children:Object(N.jsx)(te.F,{className:"text-input-group",style:{marginTop:"6px",fontSize:"14px",fontWeight:"600"},children:"Heure d'ouverture et de fermeture :"})})," ",Object(N.jsx)(U.a,{span:6,style:{display:"flex"},children:Object(N.jsx)(te.l.Item,{name:"time",hasFeedback:!0,rules:[{required:!1}],children:Object(N.jsx)(te.C.RangePicker,{onChange:n,disabled:!t,defaultValue:On()("12:08","HH:mm"),format:"HH:mm"})})})]})}}]),n}(a.Component),vs=function(e){var t=function(t){Object(P.a)(a,t);var n=Object(V.a)(a);function a(){return Object(L.a)(this,a),n.apply(this,arguments)}return Object(I.a)(a,[{key:"render",value:function(){var t=this.props,n=t.forwardRef,a=Object(at.a)(t,["forwardRef"]);return Object(N.jsx)(e,Object(nt.a)(Object(nt.a)({},a),{},{ref:n}))}}]),a}(r.a.Component),n=Object(Ze.i)(t,{withRef:!0});return r.a.forwardRef((function(e,t){return Object(N.jsx)(n,Object(nt.a)(Object(nt.a)({},e),{},{forwardRef:t}))}))}(function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).formRef=r.a.createRef(),a.formContactRef=r.a.createRef(),a.adressRef=r.a.createRef(),a.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.time,t.RCSHEUREO=n[0].format("HH:mm"),t.RCSHEUREF=n[1].format("HH:mm"),console.log("------------------debut-postSite------------------"),e.next=6,ye(a.state.token,a.state.Refrech,(function(){return window.location.href=m}),a.props.hostStorage);case 6:if(r=e.sent,s=!0,Ge.b.loading("Loading..",s),e.prev=9,null==a.props.match.params.id){e.next=22;break}return console.log("------------------debut-putSite------------------"),console.log("update Site => : ",t),e.next=15,qr(a.props.service,a.props.match.params.id,r||a.state.token,t,a.state.defaultValue.Calendrier.ID_ROWID);case 15:e.sent,s=!1,te.H.open({message:"Success",description:"Le point de vente a \xe9t\xe9 modifier avec succ\xe8s.",className:"custom-class",type:"success",placement:"bottomRight",style:{width:400}}),a.props.onFormulaireChange(!0),a.props.goTo("../userAdvancedSearchPath"),e.next=30;break;case 22:return console.log("add point de vente => : ",t),e.next=25,zr(a.props.service,r||a.state.token,t);case 25:e.sent,s=!1,te.H.open({message:"Success",description:"Le point de vente a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s.",className:"custom-class",type:"success",placement:"bottomRight",style:{width:400}}),a.props.onFormulaireChange(!0),a.props.goTo(g);case 30:console.log("------------------debut-postSite------------------"),e.next=38;break;case 33:e.prev=33,e.t0=e.catch(9),console.log("error2 :",e.t0),a.props.onFormulaireChange(!1),te.H.open({message:"Error",description:"Le point de vente n'a pas pu \xeatre cr\xe9\xe9.Veuillez r\xe9essayer.",className:"custom-class",type:"error",placement:"bottomRight",style:{width:400}});case 38:case"end":return e.stop()}}),e,null,[[9,33]])})));return function(t){return e.apply(this,arguments)}}(),a.getToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("------------------debut-GetToken------------------"),t&&(console.log("error => :",t),a.props.goTo("../403")),null==n&&(console.log("tokne is null => : ",n),a.props.goTo("../403")),a.setState({token:n}),console.log("tokne from host => :",a.state.token),console.log("-------------------fin-GetToken-------------------"),e.t0=null!=a.props.match.params.id,!e.t0){e.next=10;break}return e.next=10,a.getDatas();case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.getRefrechToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetRefrechToken------------------"),t&&(console.log("error => :",t),a.props.goTo("403")),null==n&&(console.log("Refech tokne is null => : ",n),a.props.goTo("../403")),a.setState({Refrech:n}),console.log("Refech tokne from host => :",a.state.Refrech),console.log("-------------------fin-GetRefrechToken-------------------"),e.t0=a.props.hostStorage,e.next=9,a.getToken;case 9:e.t1=e.sent,e.t0.get.call(e.t0,"access_token",e.t1);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.onSubmit=function(){a.formRef.current.submit()},a.onReset=function(){a.formRef.current.resetFields(),a.setState({changecome:!1})},a.handleInputChange=function(e){a.state.changecome||(a.props.onFormulaireChange(!1),a.setState({changecome:!0}))},a.labelSelectComposant=function(e,t){return Object(N.jsx)("div",{className:"ant-input-group-addon",style:Object(Ve.a)({border:"1px solid #dcdcdc",display:"inline-flex",width:"128px",paddingLeft:"10px",height:"32px"},"width","37%"),children:Object(N.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[" ",Object(N.jsx)(te.F,{className:"text-input-group",style:{display:"flex",width:"120px",fontSize:"14px",fontWeight:"600"},children:e})]})})},a.labelComposant=function(e,t){return Object(N.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(N.jsx)(te.F,{className:"text-input-group",style:{display:"flex",width:"80px",fontSize:"14px",fontWeight:"600"},children:e})})},a.state={jourF:[],drawerVisible:"",token:null,changecome:!1,loading:!1,isLoading:null!=a.props.match.params.id,update:null==a.props.match.params.id,defaultValue:null},a.getRefrechToken=a.getRefrechToken.bind(Object(zt.a)(a)),a.getToken=a.getToken.bind(Object(zt.a)(a)),a}return Object(I.a)(n,[{key:"activerUpdate",value:function(){return null!=this.props.match.params.id&&(this.setState({update:!this.state.update}),!0)}},{key:"getDatas",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetSite-"+this.props.match.params.id+"------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,s=this.props.service,o=this.props.match.params.id,c=t||this.state.token,me.get("".concat(s).concat(o),{headers:{Authorization:"Bearer "+c,"Content-Type":"application/json",accept:"application/json"}});case 7:(n=e.sent).data.time=[On()(n.data.Calendrier.RCSHEUREO,"HH:mm"),On()(n.data.Calendrier.RCSHEUREF,"HH:mm")],a=n.data.Calendrier,r=this.state.jourF,a.RCSINFSAM&&r.push({titre:"Samedi",color:"purple"}),a.RCSINFDIM&&r.push({titre:"dimanche",color:"magenta"}),a.RCSINFLUN&&r.push({titre:"lundi",color:"volcano"}),a.RCSINFMAR&&r.push({titre:"mardi",color:"lime"}),a.RCSINFMER&&r.push({titre:"mercredi",color:"cyan"}),a.RCSINFJEU&&r.push({titre:"jeudi",color:"geekblue"}),a.RCSINFVEN&&r.push({titre:"vendredi",color:"gold"}),n.data.RCSINFSAM=n.data.Calendrier.RCSINFSAM,n.data.RCSINFDIM=n.data.Calendrier.RCSINFDIM,n.data.RCSINFLUN=n.data.Calendrier.RCSINFLUN,n.data.RCSINFMAR=n.data.Calendrier.RCSINFMAR,n.data.RCSINFMER=n.data.Calendrier.RCSINFMER,n.data.RCSINFJEU=n.data.Calendrier.RCSINFJEU,n.data.RCSINFVEN=n.data.Calendrier.RCSINFVEN,this.setState({defaultValue:null!=n.data?n.data:null,isLoading:!1}),console.log("succes from api : point de vente =>  (getSite("+this.props.match.params.id+")) => :",this.state.defaultValue),console.log("-------------------fin-GetSite-"+this.props.match.params.id+"-------------------"),e.next=35;break;case 30:e.prev=30,e.t0=e.catch(4),console.log("Error from api : Point de vente =>  (getSite("+this.props.match.params.id+"))  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500"),console.log("-------------------fin-GetSite-"+this.props.match.params.id+"-------------------");case 35:case"end":return e.stop()}var s,o,c}),e,this,[[4,30]])})));return function(){return e.apply(this,arguments)}}()},{key:"loading",value:function(e){this.setState({loading:e})}},{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=this.props.match.params.id?this.props.disabelEditButton(!1):this.props.disabelEditButton(!0),e.t0=this.props.hostStorage,e.next=4,this.getRefrechToken;case 4:e.t1=e.sent,e.t0.get.call(e.t0,"refresh_token",e.t1);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(N.jsx)("div",{style:{height:"100%",width:"100%"},children:!this.state.isLoading&&Object(N.jsx)(te.w,{spinning:this.state.loading,delay:500,children:Object(N.jsxs)(D.a,{gutter:0,justify:"center",style:{width:this.state.drawerVisible},children:[Object(N.jsx)(U.a,{span:""==this.state.drawerVisible?18:24,children:Object(N.jsx)(D.a,{gutter:0,justify:"center",align:"stretch",wrap:!1,children:Object(N.jsxs)(U.a,{span:24,style:{padding:"0px",marginBottom:"10px"},children:[Object(N.jsx)(rt.a,{className:"border-main-content",orientation:"left",style:{margin:"-12px  -2px -12px 0px"},children:"Information"})," ",Object(N.jsx)(D.a,{align:"stretch",justify:"space-between",className:"border-main-content-2",style:{marginRight:"0px",marginLeft:"0px",padding:"22px 22px",borderRadius:"3px",borderWidth:"0px 1px 1px 1px",borderStyle:"solid"},children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(st.b,{form:{validateMessages:ba.fr},children:Object(N.jsxs)(te.l,{ref:this.formRef,name:"control-ref",initialValues:Object(nt.a)({},this.state.defaultValue),onFinish:this.onFinish,children:[Object(N.jsxs)(D.a,{gutter:[20,20],justify:"center",align:"stretch",wrap:!1,children:[Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsxs)(D.a,{gutter:[10,0],align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:16,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RSSITE",hasFeedback:!0,rules:[{required:!0,max:50}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Code",Q.a),placeholder:"Entrer le code...",readOnly:!this.state.update,onChange:this.handleInputChange})})})})}),Object(N.jsx)(U.a,{span:8,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RSLIBC",hasFeedback:!0,rules:[{required:!1,max:50}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Acronyme",gn.a),placeholder:"Entrer l'acronyme...",readOnly:!this.state.update,onChange:this.handleInputChange})})})})})," ",Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RSLIBL",hasFeedback:!0,rules:[{required:!1,max:50}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Libell\xe9",null),placeholder:"Entrer le libell\xe9...",readOnly:!this.state.update,onChange:this.handleInputChange})})})})})," ",Object(N.jsx)(U.a,{span:7,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsxs)(B.a.Group,{compact:!0,children:[this.labelSelectComposant("Zone g\xe9o",wn.a),Object(N.jsx)(te.l.Item,{name:"RSZGEO",style:{marginBottom:"15px",width:"63%"},hasFeedback:!0,rules:[{required:!1}],children:Object(N.jsxs)(te.u,{onChange:this.handleInputChange,allowClear:!0,disabled:!this.state.update,placeholder:"Selectionner la zone geographique...",children:[Object(N.jsx)(te.u.Option,{value:0,children:"Algerie"}),Object(N.jsx)(te.u.Option,{value:1,children:"Allemagne"}),Object(N.jsx)(te.u.Option,{value:2,children:"Arabie saoudite"}),Object(N.jsx)(te.u.Option,{value:3,children:"France"})]})})]})})})}),Object(N.jsx)(U.a,{span:17,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RSAdress",children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Adresse",null),placeholder:"Entrer l'adresse...",readOnly:!this.state.update,onChange:this.handleInputChange})})})})}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RSDESC",hasFeedback:!0,rules:[{required:!1,max:2024}],children:Object(N.jsx)(B.a.TextArea,{addonBefore:this.labelComposant("Description",null),disabled:!this.state.update,placeholder:"Entrer le description...",rows:7,readOnly:!this.state.update,onChange:this.handleInputChange})})})})})]})})," "]}),Object(N.jsx)("div",{children:Object(N.jsxs)(te.A,{type:"card",className:"tabs-formulaire dms-tabs",children:[Object(N.jsx)(te.A.TabPane,{tab:Object(N.jsx)(te.y,{title:"Calendrier"}),children:Object(N.jsx)("div",{className:"template-tabs-panel",style:{padding:"15px",height:"100%",border:"1px solid #eee",borderTop:"0px"},children:Object(N.jsx)(ys,{jourF:this.state.jourF,update:this.state.update,ref:this.formContactRef,handleInputChange:this.handleInputChange})})},"1")," "]})})," "]})})})})]})})}),Object(N.jsx)(U.a,{span:18})]})})})}}]),n}(a.Component)),Rs=(n(479),n(553)),ws=n(554),Ss=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){var e=this;return Object(N.jsxs)(te.t,{justify:"end",children:[Object(N.jsx)(te.f,{span:20,style:{display:"flex"},children:Object(N.jsxs)(te.v,{size:0,children:[Object(N.jsx)(te.k,{overlay:Object(N.jsxs)(te.p,{style:{minWidth:"250px"},className:"dms-divder-menu",children:[Object(N.jsx)(te.i,{orientation:"left",plain:!0,children:"Vues syst\xe8me"}),this.props.vues.vueSysteme.map((function(e,t){return Object(N.jsx)(te.p.Item,{children:Object(N.jsxs)(te.t,{children:[Object(N.jsx)(te.f,{span:2,children:Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:e.check&&Object(N.jsx)(Na.a,{}),size:"small"})}),Object(N.jsxs)(te.f,{span:17,children:[Object(N.jsx)(te.i,{type:"vertical"}),e.titre]}),Object(N.jsx)(te.f,{span:5,children:Object(N.jsx)(te.t,{wrap:!1,justify:"end",align:"middle",children:Object(N.jsx)(te.f,{span:24,children:Object(N.jsxs)(te.v,{children:[Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:Object(N.jsx)(qe.a,{}),size:"small"}),Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:Object(N.jsx)(He.a,{}),size:"small"})]})})})})]})},"1")})),Object(N.jsx)(te.i,{orientation:"left",plain:!0,children:"Vues personnalis\xe9s"}),this.props.vues.vuesPersonnalises.map((function(e,t){return Object(N.jsx)(te.p.Item,{children:Object(N.jsxs)(te.t,{children:[Object(N.jsx)(te.f,{span:2,children:Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:e.check&&Object(N.jsx)(Na.a,{}),size:"small"})}),Object(N.jsxs)(te.f,{span:17,children:[Object(N.jsx)(te.i,{type:"vertical"}),e.titre]}),Object(N.jsx)(te.f,{span:5,children:Object(N.jsx)(te.t,{wrap:!1,justify:"end",align:"middle",children:Object(N.jsx)(te.f,{span:24,children:Object(N.jsxs)(te.v,{children:[Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:Object(N.jsx)(qe.a,{}),size:"small"}),Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:Object(N.jsx)(He.a,{}),size:"small"})]})})})})]})},"1")})),Object(N.jsx)(te.p.Divider,{}),Object(N.jsx)(te.p.Item,{children:Object(N.jsx)("div",{className:"vue-personnalisee",children:"Cr\xe9er une vue personnalis\xe9e"})},"3")]}),trigger:["click"],children:Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(Ea.a,{className:"dms-table-icon-secandary"}),onClick:function(e){return e.preventDefault()}})}),Object(N.jsxs)("div",{className:"dms-table-icon-secandary",style:{fontWeight:"500",fontSize:"17px"},children:[" ",this.props.title]}),Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:Object(N.jsx)(Ma.a,{className:"dms-table-icon-primary"}),size:"small"})]})}),Object(N.jsxs)(te.f,{span:4,style:{display:"flex",justifyContent:"flex-end"},children:[Object(N.jsxs)(te.v,{size:0,children:[Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(Y.a,{className:"dms-table-icon-secandary"})}),Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(Be.a,{className:"dms-table-icon-secandary"})})," ",Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(Ba.a,{className:"dms-table-icon-secandary"})})," ",Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(ha.a,{className:"dms-table-icon-secandary"})}),Object(N.jsx)(te.d,{type:"text",onClick:function(t){return e.props.enAdd(t)},icon:Object(N.jsx)(Ta.a,{className:"dms-table-icon-primary"})})]})," "]})]})}}]),n}(a.Component),Cs=[],ks=1;ks<=1;ks++)Cs.push({titre:"Vue syst\xe9me "+ks,check:!0});for(var Ts=[],Ls=1;Ls<=3;Ls++)Ts.push({titre:"Vues personnalis\xe9s "+Ls,check:!1});var Is=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a,r,s,o;return Object(L.a)(this,n),(o=t.call(this,e)).getToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetToken------------------"),t&&(console.log("error => :",t),o.props.goTo("../403")),null==n&&(console.log("tokne is null => : ",n),o.props.goTo("../403")),o.setState({token:n}),console.log("tokne from host => :",o.state.token),console.log("-------------------fin-GetToken-------------------"),e.next=8,o.getData();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.getRefrechToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-GetRefrechToken------------------"),t&&(console.log("error => :",t),o.props.goTo("403")),null==n&&(console.log("Refech tokne is null => : ",n),o.props.goTo("../403")),o.setState({Refrech:n}),console.log("Refech tokne from host => :",o.state.Refrech),console.log("-------------------fin-GetRefrechToken-------------------");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.onChange=function(e,t){console.log("Selected Time: ",e),console.log("Formatted Selected Time: ",t,o.state.dateFinDesactiver),o.setState({dateFinDesactiver:t})},o.handleDelete=function(e){var t=Object(ae.a)(o.state.datass);o.setState({datass:t.filter((function(t){return t.key!==e}))})},o.state=(s={search:"",token:null,bordered:!1,loading:!1,model:{title:"",Content:"",width:300,onOk:console.log("ok"),visible:!1},dateFinDesactiver:"20202-28-06 11:34:00",columns:[{title:"Code",dataIndex:"RSSITE",ellipsis:!0,width:"20%",fixed:"left",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RSSITE,children:Object(N.jsx)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:t.RSSITE})})}},(a={title:"Acronyme",dataIndex:"RSLIBC",ellipsis:!0,width:"10%"},Object(Ve.a)(a,"ellipsis",{showTitle:!1}),Object(Ve.a)(a,"render",(function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RSLIBC,children:Object(N.jsx)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:t.RSLIBC})})})),a),{title:"Libelle",ellipsis:!0,width:"15%",dataIndex:"RSLIBL",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RSLIBL,children:Object(N.jsx)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:t.RSLIBL})})}},{title:"Adresse",ellipsis:!0,width:"18%",dataIndex:"RSAdress",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RSAdress,children:Object(N.jsxs)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:[Object(N.jsx)(Rs.a,{})," ",Object(N.jsx)("a",{children:t.RSAdress})]})})}},{title:"Jour de fermture",ellipsis:!0,width:"22%",dataIndex:"Calendrier",render:function(e,t){var n=[];return n=null!=t.Calendrier?o.getUniteStockPrd(t.Calendrier):[],Object(N.jsx)("span",{style:{display:"flex",justifyContent:"flex-start",width:"100%"},children:n.map((function(e){return Object(N.jsx)(Qn.a,{color:e.color,children:e.titre},e.titre)}))})}},{title:"Open",ellipsis:!0,dataIndex:"RCSHEUREO",width:"10%",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:!!t.Calendrier&&t.Calendrier.RCSHEUREO,children:!!t.Calendrier&&Object(N.jsxs)("div",{style:t.MUTETAT?{display:"flex",justifyContent:"space-between",alignItems:"center"}:{cursor:"not-allowed",color:"#7a7a7a",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(N.jsx)("div",{children:t.Calendrier.RCSHEUREO}),Object(N.jsx)(ws.a,{twoToneColor:"#bbb"})]})})}},{title:"Close",ellipsis:!0,width:"10%",dataIndex:"RCSHEUREF",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:!!t.Calendrier&&t.Calendrier.RCSHEUREF,children:!!t.Calendrier&&Object(N.jsxs)("div",{style:t.MUTETAT?{display:"flex",justifyContent:"space-between",alignItems:"center"}:{cursor:"not-allowed",color:"#7a7a7a",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.Calendrier.RCSHEUREF,Object(N.jsx)(ws.a,{twoToneColor:"#bbb"})]})})}},(r={title:" ",key:"action",width:"4%",fixed:"right"},Object(Ve.a)(r,"width",170),Object(Ve.a)(r,"render",(function(e,t){return Object(N.jsxs)(z.b,{size:"middle",style:{display:"flex",justifyContent:"flex-end"},children:[Object(N.jsx)(q.a,{className:"dms-button-info dms-button dms",shape:"circle",disabled:!t.MUTETAT,onClick:function(){return o.props.goTo(v+t.ID_ROWID)},icon:Object(N.jsx)(ot.a,{}),size:"small"}),Object(N.jsx)(q.a,{className:"dms-button-error dms-button dms",shape:"circle",icon:t.MUTETAT?Object(N.jsx)(He.a,{}):Object(N.jsx)(Fe.a,{}),size:"small",onClick:function(){console.log("delete",t.id),o.setState({model:{title:"Delete user",width:300,Content:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(N.jsxs)(z.b,{direction:"vertical",size:5,align:"center",children:[Object(N.jsx)("p",{children:t.MUTETAT?"Do you want to disable user "+t.username+"?":"Do you want to enable user "+t.username+"?"}),t.MUTETAT&&Object(N.jsx)(te.h,{style:{width:"100%"},showTime:!0,onChange:o.onChange,onOk:o.onOk})]})}),onOk:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ok",o.state.dateFinDesactiver),e.prev=1,e.next=4,Pn(o.props.service,{activate:!t.MUTETAT,MUTDFIN:o.state.dateFinDesactiver,pk:t.id});case 4:o.getData(),ea.a.open({message:"Success",description:t.MUTETAT?t.username+" is disabled successfully":t.username+" is enabled successfully",className:"custom-class",type:"success",placement:"bottomRight",style:{width:400}}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),ea.a.open({message:"Error",placement:"bottomRight",type:"error",description:t.MUTETAT?t.username+" could not be disabled.":t.username+" could not be enabled.",className:"custom-class",style:{width:400}});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),visible:!0}})}})]})})),r)],publier:!1,datass:[]},Object(Ve.a)(s,"loading",!0),Object(Ve.a)(s,"showHeader",!0),Object(Ve.a)(s,"rowSelection",{}),Object(Ve.a)(s,"scroll",void 0),Object(Ve.a)(s,"hasData",!0),Object(Ve.a)(s,"tableLayout",void 0),Object(Ve.a)(s,"top","none"),Object(Ve.a)(s,"bottom","bottomRight"),s),o.getToken=o.getToken.bind(Object(zt.a)(o)),o.getRefrechToken=o.getRefrechToken.bind(Object(zt.a)(o)),o}return Object(I.a)(n,[{key:"getTypePrd",value:function(e,t){switch(e){case 1:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"purple":"default",children:"service"},e);case 2:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"magenta":"default",children:"consommable"},e);default:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"red":"default",children:"autre"},e)}}},{key:"getUniteStockPrd",value:function(e,t){console.log("calandrier => : ",e);var n=[];return e.RCSINFSAM&&n.push({titre:"Samedi",color:"purple"}),e.RCSINFDIM&&n.push({titre:"dimanche",color:"magenta"}),e.RCSINFLUN&&n.push({titre:"lundi",color:"volcano"}),e.RCSINFMAR&&n.push({titre:"mardi",color:"lime"}),e.RCSINFMER&&n.push({titre:"mercredi",color:"cyan"}),e.RCSINFJEU&&n.push({titre:"jeudi",color:"geekblue"}),e.RCSINFVEN&&n.push({titre:"vendredi",color:"gold"}),n}},{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-ResultaDeRecherche------------------"),t=this.props.history.location,n="",a="",console.log("location.search  =>  :",t.search),""!=t.search&&null==(n=t.search.slice(1).split("?")[0].split("search=")[1])&&(a=t.search.slice(1).split("?")[0]),this.setState({search:n,filter:a}),console.log("Valeur de recherche => :",n),console.log("Valeur de filtrage => :",a),console.log("-------------------fin-ResultaDeRecherche-------------------"),e.t0=this.props.hostStorage,e.next=13,this.getRefrechToken;case 13:return e.t1=e.sent,e.t0.get.call(e.t0,"refresh_token",e.t1),e.t2=this.props.hostStorage,e.next=18,this.getToken;case 18:e.t3=e.sent,e.t2.get.call(e.t2,"access_token",e.t3);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"refrechpage",value:function(){window.location.reload()}},{key:"onOk",value:function(e){console.log("onOk: ",e)}},{key:"getData",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetProduits------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,xa(this.props.service,this.state.search,t||this.state.token,this.state.filter);case 7:n=e.sent,console.log("succes from api : user (getAll()) => :",n),null!=n.data&&n.data.map((function(e,t){Object.assign(e,{key:t,MUTETAT:!0})})),this.setState({datass:null!=n.data?n.data:null,loading:!1}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("Error  :  GetUsers  => : ",e.t0),this.setState({loading:!1}),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500");case 18:console.log("-------------------fin-GetUser-------------------");case 19:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.xScroll,a=t.yScroll,r=Object(at.a)(t,["xScroll","yScroll"]),s={};a&&(s.y=240),n&&(s.x="100vw");var o=this.state.columns.map((function(e){return Object(nt.a)(Object(nt.a)({},e),{},{ellipsis:r.ellipsis})}));return"fixed"===n&&(o[0].fixed=!0,o[o.length-1].fixed="right"),Object(N.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(N.jsx)(D.a,{justify:"center",children:Object(N.jsxs)(U.a,{span:24,style:{height:"587px",backgroundColor:"#fff"},children:[Object(N.jsx)(We.a,{title:this.state.model.title,centered:!0,visible:this.state.model.visible,onOk:function(){e.state.model.onOk(),e.setState({model:{title:"",Content:"",onOk:console.log("ok"),visible:!1}})},onCancel:function(){return e.setState({model:{title:"",Content:"",width:400,onOk:console.log("ok"),visible:!1}})},width:this.state.model.width,children:this.state.model.Content}),Object(N.jsx)(te.z,Object(nt.a)(Object(nt.a)({className:"template-dms",title:function(){return Object(N.jsx)(Ss,{vues:{vueSysteme:Cs,vuesPersonnalises:Ts},title:"Produits",enAdd:e.handleAdd,type:"primary",style:{marginBottom:16}})},size:"small",pagination:{position:["none","bottomRight"]},scroll:{x:2245}},this.state),{},Object(Ve.a)({vues:{vueSysteme:Cs,vuesPersonnalises:Ts},size:"small",columns:o,dataSource:r.hasData?this.state.datass:null,scroll:s},"scroll",{y:435})))]})})})}}]),n}(a.Component),Ps=Object(Ze.i)(Is),Vs=r.a.forwardRef((function(e,t){var n=Object(Ze.h)(),s=r.a.createRef(),o=r.a.createRef();return Object(a.useImperativeHandle)(t,(function(){var e;return e={Route:{search:y,create:O,update:v,result:g},removeElem:function(e){s.current.removeElem(e)},activerUpdate:function(){s.current.activerUpdate()},history:function(){return o.current.history},onReset:function(){s.current.onReset()},onSubmit:function(){s.current.onSubmit()},loadingFormulaire:function(e){s.current.loading(e)},CleanInputChange:function(e){s.current.CleanInputChange()}},Object(Ve.a)(e,"history",o.current.history),Object(Ve.a)(e,"goBack",(function(){o.current.history.goBack()})),Object(Ve.a)(e,"goForward",(function(){o.current.history.goForward()})),e})),Object(N.jsx)(Ze.a,{ref:o,initialEntries:[y],initialIndex:0,children:Object(N.jsxs)(Ze.e,{children:[Object(N.jsx)(Ze.c,{exact:!0,path:y,children:Object(N.jsx)(gs,{showDrawer:e.showDrawer,closeDrawer:function(){return e.closeDrawer()},setDrawerState:function(t,n,a,r){return e.setDrawerState(t,n,a,(function(){return r()}))},history:n,hostStorage:e.hostStorage,service:e.service,goTo:function(t){return e.goTo(t)}})}),Object(N.jsx)(Ze.c,{exact:!0,path:O,children:Object(N.jsx)(vs,{showDrawer:e.showDrawer,closeDrawer:function(){return e.closeDrawer()},setDrawerState:function(t,n,a,r){return e.setDrawerState(t,n,a,(function(){return r()}))},history:n,hostStorage:e.hostStorage,icon:e.icon,disabelEditButton:function(t){return e.disabelEditButton(t)},service:e.service,services:e.services.formulaire,ref:s,goTo:function(t){return e.goTo(t)},onFormulaireChange:function(t){return e.onFormulaireChange(t)}})}),Object(N.jsx)(Ze.c,{exact:!0,path:g,children:Object(N.jsx)(Ps,{showDrawer:e.showDrawer,closeDrawer:function(){return e.closeDrawer()},setDrawerState:function(t,n,a,r){return e.setDrawerState(t,n,a,(function(){return r()}))},history:n,hostStorage:e.hostStorage,service:e.service,services:e.services.result,goTo:function(t){return e.goTo(t)}})}),Object(N.jsx)(Ze.c,{exact:!0,path:"userUpdatePath/:id",children:Object(N.jsx)(vs,{showDrawer:e.showDrawer,closeDrawer:function(){return e.closeDrawer()},setDrawerState:function(t,n,a,r){return e.setDrawerState(t,n,a,(function(){return r()}))},history:n,hostStorage:e.hostStorage,icon:e.icon,ref:s,disabelEditButton:function(t){return e.disabelEditButton(t)},service:e.service,services:e.services.formulaire,onFormulaireChange:function(t){return e.onFormulaireChange(t)},goTo:function(t){return e.goTo(t)}})}),Object(N.jsx)(Ze.c,{path:"404",children:Object(N.jsx)(dn,{})}),Object(N.jsx)(Ze.b,{from:"*",to:"404"})]})})})),As=Object(N.jsx)(Je.a,{style:{fontSize:16,color:"#1890ff"}});function Ds(e,t){return e.filter((function(e){return e.mere===t})).reduce((function(t,n){return[].concat(Object(ae.a)(t),[{title:n.RRSMLIBL,value:n.ID_ROWID,children:Ds(e,n.ID_ROWID)}])}),[])}var Us=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).formRef=r.a.createRef(),a.getToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetToken------------------"),t&&(console.log("error => :",t),a.props.goTo("../403")),null==n&&(console.log("tokne is null => : ",n),a.props.goTo("../403")),a.setState({token:n}),console.log("tokne from host => :",a.state.token),console.log("-------------------fin-GetToken-------------------"),e.next=8,a.getSM();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.getRefrechToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetRefrechToken------------------"),t&&(console.log("error => :",t),a.props.goTo("403")),null==n&&(console.log("Refech tokne is null => : ",n),a.props.goTo("../403")),a.setState({Refrech:n}),console.log("Refech tokne from host => :",a.state.Refrech),console.log("-------------------fin-GetRefrechToken-------------------"),e.t0=a.props.hostStorage,e.next=9,a.getToken;case 9:e.t1=e.sent,e.t0.get.call(e.t0,"access_token",e.t1);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.onSearch=function(e){console.log("------------------debut-onSearch------------------"),console.log("Rechercher par => :",e),a.props.goTo("userAdvancedSearchPath?search="+e),console.log("-------------------fin-onSearch-------------------")},a.onFilter=function(e){console.log("------------------debut-onSearch------------------"),console.log("Filtrer par => :",e),a.props.goTo("userAdvancedSearchPath?"+e),console.log("-------------------fin-onSearch-------------------")},a.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-Submit-NewVarianteVente------------------"),!0,Ge.b.loading("Loading..",true);try{n="&RFRLIBC="+(null!=t.RFRLIBC?t.RFRLIBC:"")+"&RFRLIBL="+(null!=t.RFRLIBL?t.RFRLIBL:"")+"&RFRTYPE="+(null!=t.RFRTYPE?t.RFRTYPE:"")+"&RFRDEVISE="+(null!=t.RFRDEVISE?t.RFRDEVISE:"")+"&RFRPAYS="+(null!=t.RFRPAYS?t.RFRPAYS:""),console.log("filtre => : ",n),a.onFilter(n),console.log("------------------fin-Submit-NewVarianteVente------------------")}catch(r){console.log("error :",r),console.log("------------------fin-Submit-NewVarianteVente------------------")}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){a.formRef.current.submit()},a.onReset=function(){a.formRef.current.resetFields()},a.state={width:"",visible:!1,TreeSM:[]},a.getRefrechToken=a.getRefrechToken.bind(Object(zt.a)(a)),a.getToken=a.getToken.bind(Object(zt.a)(a)),a}return Object(I.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.props.hostStorage,e.next=3,this.getRefrechToken;case 3:e.t1=e.sent,e.t0.get.call(e.t0,"refresh_token",e.t1);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSM",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetStructures-Marchandise------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,ma(this.props.service,"",t||this.state.token);case 7:n=e.sent,console.log("succes from api : Produit =>  (getStructures-Marchandise()) => :",n),a=Ds(n.data,null),console.log(n.data,"=> tree =>",a),this.setState({TreeSM:a}),console.log("-------------------fin-GetStructures-Marchandise-------------------"),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(4),console.log("Error from api : Produit =>  getStructures-Marchandise  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500"),console.log("-------------------fin-GetStructures-Marchandise-------------------");case 20:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,n=this.state.visible;return Object(N.jsxs)("div",{style:{height:"100%",width:this.state.width,paddingTop:"90px"},children:[Object(N.jsx)(te.a,{offsetTop:150,style:{position:"fixed",left:"95%",top:"90%"},children:Object(N.jsx)(te.d,{type:"primary",shape:"circle",size:"large",onClick:function(){return t.props.goTo(O)},children:Object(N.jsx)(Qe.a,{})})}),Object(N.jsx)(te.q,{title:"Recherche avanc\xe9e",centered:!0,visible:n,onOk:function(){t.onSubmit(),t.setState({visible:!1})},onCancel:function(){t.setState({visible:!1}),t.onReset()},okText:"Apply filter",width:800,children:Object(N.jsx)(st.b,{form:{validateMessages:ba.fr},children:Object(N.jsx)(te.l,{ref:this.formRef,layout:"vertical",name:"control-ref",onFinish:this.onFinish,children:Object(N.jsx)(D.a,{gutter:[20,20],justify:"center",align:"stretch",children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsxs)(D.a,{gutter:[16,0],align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:8,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Acronyme",style:{marginBottom:"15px"},name:"RFRLIBC",children:Object(N.jsx)(B.a,{placeholder:"Entrer l'acronyme..."})})," "]})})})," ",Object(N.jsx)(U.a,{span:16,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{style:{marginBottom:"15px"},label:"Libelle",name:"RFRLIBL",children:Object(N.jsx)(B.a,{placeholder:"Entrer libelle..."})})," "]})})}),Object(N.jsx)(U.a,{span:8,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"15px"},label:"Type",name:"RFRTYPE",children:Object(N.jsxs)(te.u,{allowClear:!0,placeholder:"Selectionner le type...",children:[Object(N.jsx)(te.u.Option,{value:2,children:"Consommable"}),Object(N.jsx)(te.u.Option,{value:1,children:"Service"})]})})})})})," ",Object(N.jsx)(U.a,{span:8,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RFRDEVISE",label:"Devise",style:{marginBottom:"15px"},children:Object(N.jsx)(te.E,(e={style:{width:"100%"},dropdownStyle:{maxHeight:190,overflow:"auto"},onChange:this.onChange,showSearch:!0},Object(Ve.a)(e,"style",{width:"100%"}),Object(Ve.a)(e,"placeholder","Selectionner la cat\xe9gorie\u200b..."),Object(Ve.a)(e,"allowClear",!0),Object(Ve.a)(e,"treeDefaultExpandAll",!0),Object(Ve.a)(e,"treeData",this.state.TreeSM),e))})})})})," ",Object(N.jsx)(U.a,{span:8,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{style:{marginBottom:"15px"},label:"pays",name:"RFRPAYS",children:Object(N.jsxs)(te.u,{allowClear:!0,placeholder:"Selectionner l'Unite de stock...",children:[Object(N.jsx)(te.u.Option,{value:"FR",children:"Piece"}),Object(N.jsx)(te.u.Option,{value:"DZ",children:"Kilo fix"}),Object(N.jsx)(te.u.Option,{value:"ee",children:"Kilo moyen"}),Object(N.jsx)(te.u.Option,{value:"4e",children:"kilo Pese"})," "]})})})})})]})})})})})}),Object(N.jsxs)(D.a,{gutter:[16,30],align:"middle",justify:"space-around",children:[Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(z.b,{children:Object(N.jsx)("img",{src:"./search3.png",alt:"ooo",style:{width:"410px"}})})})," ",Object(N.jsxs)(U.a,{span:""==this.state.width?9:15,children:[" ",Object(N.jsxs)(D.a,{align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:2,children:Object(N.jsx)(te.d,{type:"primary",style:{height:"100%"},onClick:function(e){t.setState({visible:!0})},children:Object(N.jsx)(ha.a,{})})}),Object(N.jsx)(U.a,{span:22,children:Object(N.jsx)(B.a.Search,{placeholder:"what are you looking for ?",enterButton:"Search",size:"large",suffix:As,onSearch:function(e){return t.onSearch(e)}})})]})]})]})]})}}]),n}(a.Component),Fs=Object(Ze.i)(Us),Ns=function(e){var t=Object(a.useState)(null!=e.defaultValue?[{uid:"-1",name:"imagex.png",status:"done",url:null!=e.defaultValue?e.defaultValue:""}]:[]),n=Object(d.a)(t,2),r=n[0],s=n[1];Object(a.useEffect)(Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e.defaultValue);case 1:case"end":return t.stop()}}),t)}))),[]);var o=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url){e.next=5;break}return e.next=4,new Promise((function(e){var n=new FileReader;n.readAsDataURL(t.originFileObj),n.onload=function(){return e(n.result)}}));case 4:n=e.sent;case 5:(a=new Image).src=n,window.open(n).document.write(a.outerHTML);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)(Sn.a,{className:"user-avatar",listType:"picture-card",fileList:r,onChange:function(t){var n=t.fileList;s(n),console.log(n[0]),e.setImage(n[0])},onPreview:o,disabled:e.readOnly,style:{width:"100%",objectFit:"cover"},children:r.length<1&&"+ Upload"})},Es=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).formRef=r.a.createRef(),a.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-Submit-NewSTMarchandise------------------"),!0,Ge.b.loading("Loading..",true);try{console.log(t),a.props.setNewSM(t),a.props.closeDrawer(),a.onReset(),console.log("------------------fin-Submit-NewSTMarchandise------------------")}catch(n){console.log("error :",n),console.log("------------------fin-Submit-NewSTMarchandise------------------")}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){a.formRef.current.submit(),console.log(a.formRef.current)},a.onReset=function(){a.formRef.current.resetFields()},a.labelComposant=function(e,t){return Object(N.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(N.jsx)(te.F,{style:{display:"flex",width:"100px",fontSize:"14px",fontWeight:"600"},children:e})})},a.onChange=function(e){console.log(e),a.setState({value:e})},a.state={loading:!1,value:null},a}return Object(I.a)(n,[{key:"render",value:function(){var e,t=this;return Object(N.jsxs)(st.b,{form:{validateMessages:ba.fr},children:[Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[Object(N.jsx)(te.F,{style:{display:"flex",fontSize:"15px",fontWeight:"600",marginBottom:"15px"},children:"New Categorie"}),Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(La.a,{}),onClick:function(){return t.onReset()}})]}),Object(N.jsx)(te.l,{ref:this.formRef,layout:"vertical",name:"control-ref",onFinish:this.onFinish,children:Object(N.jsx)(D.a,{gutter:[20,20],justify:"center",align:"stretch",children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsxs)(D.a,{gutter:[16,0],align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:16,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{label:"Code",name:"RRSMCEXT",rules:[{required:!0,max:50}],children:Object(N.jsx)(B.a,{placeholder:"Entrer le code..."})})})})}),Object(N.jsx)(U.a,{span:8,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Max niveaux",name:"RRSMNIV",rules:[{required:!0,type:"number"}],hasFeedback:!0,children:Object(N.jsx)(te.n,{style:{width:"100%"},placeholder:"max niveau..."})})," "]})})}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{label:"Acronyme",name:"RRSMLIBC",rules:[{required:!1,max:35}],children:Object(N.jsx)(B.a,{placeholder:"Entrer l'acronyme'..."})})})})})," ",Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Libell\xe9",name:"RRSMLIBL",rules:[{required:!1,max:50}],children:Object(N.jsx)(B.a,{placeholder:"Entrer libell\xe9..."})})," "]})})}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RLRINSMM",label:"Categorie M\xe9re",style:{width:"100%"},hasFeedback:!0,rules:[{required:!1}],children:Object(N.jsx)(te.E,(e={style:{width:"100%"},value:this.state.value,dropdownStyle:{maxHeight:190,overflow:"auto"},onChange:this.onChange,showSearch:!0},Object(Ve.a)(e,"style",{width:"100%"}),Object(Ve.a)(e,"placeholder","Selectionner la cat\xe9gorie\u200b..."),Object(Ve.a)(e,"allowClear",!0),Object(Ve.a)(e,"treeDefaultExpandAll",!0),Object(Ve.a)(e,"treeData",this.props.SMListes),e))})})})}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Date D\xe9but",style:{width:"100%"},name:"RLRDDEB",rules:[{required:!0}],hasFeedback:!0,children:Object(N.jsx)(te.h,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",style:{width:"100%"},onChange:this.handleInputChange})})," "]})})})," ",Object(N.jsx)(rt.a,{}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",style:{display:"flex",justifyContent:"flex-end"},children:Object(N.jsxs)(te.v,{children:[Object(N.jsx)(te.d,{onClick:function(e){t.props.closeDrawer(),t.onReset()},children:"close"}),Object(N.jsx)(te.d,{type:"primary",onClick:function(e){t.onSubmit()},children:"submit"})]})})})})," "]})})})})]})}}]),n}(a.Component);function Ms(e,t){return e.filter((function(e){return e.mere===t})).reduce((function(t,n){return[].concat(Object(ae.a)(t),[{title:n.RRSMLIBL,value:n.ID_ROWID,children:Ms(e,n.ID_ROWID)}])}),[])}a.Component;for(var Bs=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).formRef=r.a.createRef(),a.onChange=function(e){a.setState({targetKeys:e})},a.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-Submit-NewAdresse------------------"),!0,Ge.b.loading("Loading..",true);try{console.log(t),a.props.setNewAdresse(t),a.props.closeDrawer(),a.props.addVV(t),a.onReset(),a.setState({VLUL:[]}),console.log("------------------fin-Submit-NewAdresse------------------")}catch(n){console.log("error :",n),console.log("------------------fin-Submit-NewAdresse------------------")}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){a.formRef.current.submit(),console.log(a.formRef.current)},a.onReset=function(){a.formRef.current.resetFields(),a.setState({changecome:!1})},a.handleChange=function(e){!function(e,t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)})),n.readAsDataURL(e)}(e.file.originFileObj,(function(e){return a.setState({imageUrl:e,loadingPhoto:!1})}))},a.labelComposant=function(e,t){return Object(N.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(N.jsx)(te.F,{style:{display:"flex",width:"100px",fontSize:"14px",fontWeight:"600"},children:e})})},a.state={VLUL:[],userData:[],loadingPhoto:!1,changecome:!1,Profiles:[],loading:!0,form:{},photo:null,targetKeys:[],update:!0,defaultValue:null!=a.props.contact?a.props.contact[0]:null,datas:{US_EMAIL:"",US_NOMUSR:"",US_PRNUSR:"",US_TYPUSR:""}},a}return Object(I.a)(n,[{key:"activerUpdate",value:function(){}},{key:"getUlType",value:function(e){switch(e){case 0:return"uvc";case 1:return"sub-carton";case 2:return"carton";case 3:return"couche";case 3:return"palette";default:return"autre"}}},{key:"componentDidMount",value:function(){var e=this;console.log("all ul",this.props.ListAllUL),null!=this.props.ListUL&&this.props.ListUL.map((function(t,n){null!=t.UL&&t.UL.map((function(a,r){e.state.VLUL.push({VL:n,UL:r,titre:t.RPLLCEXT+" "+a.RPULTYPUL})}))})),this.setState({loading:!1,VLUL:this.props.ListAllUL.concat(this.state.VLUL)}),console.log("all ul finale",this.state.VLUL)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.isLoading,t.handleInputChange,this.state),a=n.loadingPhoto;n.imageUrl,a?Ua.a:Qe.a;return!this.state.loading&&Object(N.jsxs)(st.b,{form:{validateMessages:ba.fr},children:[Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[Object(N.jsx)(te.F,{style:{display:"flex",fontSize:"15px",fontWeight:"600",marginBottom:"15px"},children:"New adresse"}),Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(La.a,{}),onClick:function(){return e.onReset()}})]}),Object(N.jsx)(te.l,{ref:this.formRef,layout:"vertical",name:"control-ref",initialValues:Object(nt.a)({},this.state.defaultValue),onFinish:this.onFinish,children:Object(N.jsx)(D.a,{gutter:[20,20],justify:"center",align:"stretch",children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsxs)(D.a,{gutter:[16,0],align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:12,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Region",name:"RFAREG",rules:[{required:!1}],hasFeedback:!0,children:Object(N.jsxs)(te.u,{allowClear:!0,placeholder:"Selectionner la region...",children:[Object(N.jsx)(te.u.Option,{value:"nord",children:"nord"}),Object(N.jsx)(te.u.Option,{value:"est",children:"est"})]})})," "]})})})," ",Object(N.jsx)(U.a,{span:12,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{label:"Pays",name:"RFAPAYS",hasFeedback:!0,rules:[{required:!1}],children:Object(N.jsx)(te.u,{allowClear:!0,placeholder:"Selectionner le pays...",children:Object(N.jsx)(te.u.Option,{value:0,children:"algerie"})})})})})})," ",Object(N.jsx)(U.a,{span:18,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Ville",style:{width:"100%"},name:"RFAVILLE",hasFeedback:!0,children:Object(N.jsx)(te.u,{allowClear:!0,placeholder:"Selectionner la ville...",children:Object(N.jsx)(te.u.Option,{value:"tlemcen",children:"Tlemcen"})})})," "]})})})," ",Object(N.jsx)(U.a,{span:6,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Code postale",style:{width:"100%"},name:"RFACPOST",hasFeedback:!0,children:Object(N.jsx)(te.n,{style:{width:"100%"},placeholder:5e3})})," "]})})})," ",Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RFABDIST",label:"Bureau distributeur",hasFeedback:!0,rules:[{required:!1,max:2024}],children:Object(N.jsx)(B.a.TextArea,{placeholder:"Entrer le bureau distributeur...",rows:4})})})})}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RFARUE",label:"Rue",hasFeedback:!0,rules:[{required:!1,max:2024}],children:Object(N.jsx)(B.a.TextArea,{placeholder:"Entrer le rue...",rows:4})})})})})," ",Object(N.jsx)(rt.a,{style:{margin:"0px",marginTop:"40px"}}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",style:{display:"flex",justifyContent:"flex-end",marginTop:"10px"},children:Object(N.jsxs)(te.v,{children:[Object(N.jsx)(te.d,{onClick:function(t){e.props.closeDrawer(),e.onReset()},children:"close"}),Object(N.jsx)(te.d,{type:"primary",onClick:function(t){e.onSubmit()},children:"submit"})]})})})})," "]})})})})]})}}]),n}(a.Component),zs=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){var e=this;return Object(N.jsxs)(te.t,{justify:"end",children:[Object(N.jsx)(te.f,{span:20,style:{display:"flex"},children:Object(N.jsxs)(te.v,{size:0,children:[Object(N.jsx)(te.k,{overlay:Object(N.jsxs)(te.p,{style:{minWidth:"250px"},className:"dms-divder-menu",children:[Object(N.jsx)(te.i,{orientation:"left",plain:!0,children:"Vues syst\xe8me"}),this.props.vues.vueSysteme.map((function(e,t){return Object(N.jsx)(te.p.Item,{children:Object(N.jsxs)(te.t,{children:[Object(N.jsx)(te.f,{span:2,children:Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:e.check&&Object(N.jsx)(Na.a,{}),size:"small"})}),Object(N.jsxs)(te.f,{span:17,children:[Object(N.jsx)(te.i,{type:"vertical"}),e.titre]}),Object(N.jsx)(te.f,{span:5,children:Object(N.jsx)(te.t,{wrap:!1,justify:"end",align:"middle",children:Object(N.jsx)(te.f,{span:24,children:Object(N.jsxs)(te.v,{children:[Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:Object(N.jsx)(qe.a,{}),size:"small"}),Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:Object(N.jsx)(He.a,{}),size:"small"})]})})})})]})},"1")})),Object(N.jsx)(te.i,{orientation:"left",plain:!0,children:"Vues personnalis\xe9s"}),this.props.vues.vuesPersonnalises.map((function(e,t){return Object(N.jsx)(te.p.Item,{children:Object(N.jsxs)(te.t,{children:[Object(N.jsx)(te.f,{span:2,children:Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:e.check&&Object(N.jsx)(Na.a,{}),size:"small"})}),Object(N.jsxs)(te.f,{span:17,children:[Object(N.jsx)(te.i,{type:"vertical"}),e.titre]}),Object(N.jsx)(te.f,{span:5,children:Object(N.jsx)(te.t,{wrap:!1,justify:"end",align:"middle",children:Object(N.jsx)(te.f,{span:24,children:Object(N.jsxs)(te.v,{children:[Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:Object(N.jsx)(qe.a,{}),size:"small"}),Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:Object(N.jsx)(He.a,{}),size:"small"})]})})})})]})},"1")})),Object(N.jsx)(te.p.Divider,{}),Object(N.jsx)(te.p.Item,{children:Object(N.jsx)("div",{className:"vue-personnalisee",children:"Cr\xe9er une vue personnalis\xe9e"})},"3")]}),trigger:["click"],children:Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(Ea.a,{className:"dms-table-icon-secandary"}),onClick:function(e){return e.preventDefault()}})}),Object(N.jsxs)("div",{className:"dms-table-icon-secandary",style:{fontWeight:"500",fontSize:"17px"},children:[" ",this.props.title]}),Object(N.jsx)(te.d,{type:"text",shape:"circle",icon:Object(N.jsx)(Ma.a,{className:"dms-table-icon-primary"}),size:"small"})]})}),Object(N.jsxs)(te.f,{span:4,style:{display:"flex",justifyContent:"flex-end"},children:[Object(N.jsxs)(te.v,{size:0,children:[Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(Y.a,{className:"dms-table-icon-secandary"})}),Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(Be.a,{className:"dms-table-icon-secandary"})})," ",Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(Ba.a,{className:"dms-table-icon-secandary"})})," ",Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(ha.a,{className:"dms-table-icon-secandary"})}),0!=this.props.activeAdd&&Object(N.jsx)(te.d,{type:"text",onClick:function(t){return e.props.enAdd(t)},icon:Object(N.jsx)(Ta.a,{className:"dms-table-icon-primary"})})]})," "]})]})}}]),n}(a.Component),qs={expandedRowRender:function(e){return Object(N.jsx)("p",{children:e.description})}},Hs={position:"bottom"},_s=[],Gs=1;Gs<=1;Gs++)_s.push({titre:"Vue syst\xe9me "+Gs,check:!0});for(var Ws=[],$s=1;$s<=3;$s++)Ws.push({titre:"Vues personnalis\xe9s "+$s,check:!1});var Ys={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},onSelect:function(e,t,n){console.log(e,t,n)},onSelectAll:function(e,t,n){console.log(e,t,n)}},Ks=r.a.createContext(null),Xs=function(e){e.index;var t=Object(at.a)(e,["index"]),n=Un.a.useForm(),a=Object(d.a)(n,1)[0];return Object(N.jsx)(Un.a,{form:a,component:!1,children:Object(N.jsx)(Ks.Provider,{value:a,children:Object(N.jsx)("tr",Object(nt.a)({},t))})})},Zs=function(e){e.title,e.pattern,e.max,e.required;var t=e.editable,n=e.children,r=e.dataIndex,s=e.record,o=e.handleSave,c=e.setUpdateAdresse,u=(e.Uls,e.disabled,e.type),p=(e.update,Object(at.a)(e,["title","pattern","max","required","editable","children","dataIndex","record","handleSave","setUpdateAdresse","Uls","disabled","type","update"])),h=Object(a.useState)(!1),j=Object(d.a)(h,2),b=j[0],f=j[1],x=Object(a.useRef)(null),m=Object(a.useContext)(Ks);Object(a.useEffect)((function(){b&&x.current.focus()}),[b]);var O=function(){f(!b),m.setFieldsValue(Object(Ve.a)({},r,s[r]))},g=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.validateFields();case 3:t=e.sent,console.log("Adresse update => ",t,"recorde",s),O(),c(s,t),o(Object(nt.a)(Object(nt.a)({},s),t)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),y=n;return t&&(y=b?Object(N.jsx)(Un.a.Item,{style:{margin:0},name:r,children:"number"==u?Object(N.jsx)(te.n,{size:"small",bordered:!1,ref:x,onPressEnter:g,onBlur:g}):"select"==u?Object(N.jsx)(te.u,{size:"small",showSearch:!0,bordered:!1,ref:x,onPressEnter:g,onBlur:g,optionFilterProp:"children",children:Object(N.jsx)(te.u.Option,{value:0,children:"UVC"})}):Object(N.jsx)(B.a,{size:"small",bordered:!1,ref:x,onPressEnter:g,onBlur:g})}):Object(N.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:O,children:n})),Object(N.jsx)("td",Object(nt.a)(Object(nt.a)({},p),{},{children:y}))},Js=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).handleDelete=function(e){var t=Object(ae.a)(a.state.dataSource),n=t.findIndex((function(t){return t.key==e}));console.log(t,n),a.props.setDeleteAdresse(t[n]),a.setState({dataSource:t.filter((function(t){return t.key!==e}))})},a.handleAdd=function(e){var t=a.state,n=t.count,r=t.dataSource,s=e;s.key=r.length,a.setState({dataSource:[].concat(Object(ae.a)(r),[s]),count:n+1})},a.handleSave=function(e){var t=Object(ae.a)(a.state.dataSource),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(nt.a)(Object(nt.a)({},r),e)),a.setState({dataSource:t})},a.showModal=function(e){console.log(e),a.setState({visible:!0,width:380,contenu:Object(N.jsx)(te.t,{gutter:[5,5],style:{minHeight:"180px",maxHeight:"180px"},children:!!e&&Object(N.jsxs)(te.f,{span:24,style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[" ",Object(N.jsx)(te.h.RangePicker,{showTime:!0,bordered:!1,defaultValue:[On()(e[0].PRCDDEB,"YYYY-MM-DD HH:mm:ss"),On()(e[0].PRCDFIN,"YYYY-MM-DD HH:mm:ss")]}),Object(N.jsx)("img",{src:"./codeBarre.png",style:{width:"300px"}})," ",Object(N.jsx)(te.F,{style:{fontSize:"17px"},children:e[0].PRCCODE+""})," "]})}),title:"Code Bare"})},a.handleOk=function(){a.setState({modalText:"The modal will be closed after two seconds",confirmLoading:!0}),setTimeout((function(){a.setState({visible:!1,confirmLoading:!1})}),2e3)},a.handleCancel=function(){console.log("Clicked cancel button",a.state.VLUL),a.setState({visible:!1})},a.columns=[{title:"Pays",max:30,pattern:"^[a-zA-Z]*$",required:!1,disabled:a.props.update,dataIndex:"RFAPAYS",width:"14%",type:"select",fixed:"left",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"Region",max:10,pattern:"^[a-zA-Z0-9_-]+$",required:!1,type:"select",disabled:a.props.update,dataIndex:"RFAREG",width:"14%",ellipsis:!0,editable:!0},{title:"Ville",max:4,pattern:"^[0-9]*$",required:!1,dataIndex:"RFAVILLE",width:"14%",type:"select",ellipsis:!0,editable:!0},{title:"Bureau distributeur",max:15,pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RFABDIST",width:"18%",ellipsis:!0,editable:!0},{title:"Code postal",max:5,type:"number",required:!1,dataIndex:"RFACPOST",width:"15%",ellipsis:!0,editable:!0},{title:"Rue",max:15,pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RFARUE",width:"20%",ellipsis:!0,editable:!0},{title:"",fixed:"right",width:"5%",dataIndex:"operation",render:function(e,t){return a.props.update&&a.state.dataSource.length>=1?Object(N.jsx)(Fn.a,{title:"Sure to delete?",onConfirm:function(){return a.handleDelete(t.key)},children:Object(N.jsx)(He.a,{style:{color:"#f44336"}})}):null}}],a.state={VLUL:[],visible:!1,confirmLoading:!1,modalText:"Content of the modal",bordered:!1,loading:!1,pagination:Hs,expandable:qs,showHeader:!0,rowSelection:{},scroll:void 0,hasData:!0,tableLayout:void 0,top:"none",bottom:"bottomRight",dataSource:[],count:2},a}return Object(I.a)(n,[{key:"getDataSource",value:function(){return this.state.dataSource}},{key:"componentDidMount",value:function(){console.log("datas",this.props.datasource),null!=this.props.datasource&&this.props.datasource.map((function(e,t){Object.assign(e,{key:t})})),this.setState({dataSource:null!=this.props.datasource?this.props.datasource:[]}),this.setState({loading:!1})}},{key:"render",value:function(){var e=this,t=this.state.dataSource,n={body:{row:Xs,cell:Zs}},a=this.columns.map((function(t){return t.editable&&e.props.update?(console.log("boom ka => ",e.props.update),Object(nt.a)(Object(nt.a)({},t),{},{onCell:function(n){return{record:n,editable:t.editable,dataIndex:t.dataIndex,title:t.title,max:t.max,required:t.required,disabled:t.disabled,pattern:t.pattern,type:t.type,update:e.props.update,handleSave:e.handleSave,Uls:e.state.VLUL,setUpdateAdresse:e.props.setUpdateAdresse}}})):t})),r=this.state,s=r.xScroll,o=r.yScroll,c=(Object(at.a)(r,["xScroll","yScroll"]),{});return o&&(c.y=240),s&&(c.x="100vw"),Object(N.jsxs)("div",{children:[" ",Object(N.jsx)(Aa.a,{className:"template-dms",title:function(){return Object(N.jsx)(zs,{vues:{vueSysteme:_s,vuesPersonnalises:Ws},title:"Adresse",activeAdd:e.props.update,enAdd:function(t){e.props.showDrawer(t),e.props.setSiseForm("935px"),e.props.setDrawerState("",Object(N.jsx)(Bs,{ListAllUL:e.props.ListAllUL,ListUL:e.props.ListUL,setNewAdresse:function(t){return e.props.setNewAdresse(t)},closeDrawer:function(){return e.props.closeDrawer()},addVV:function(t){return e.handleAdd(t)},isLoading:e.props.isLoading,changecome:e.props.changecome,updateCtc:e.props.updateCtc,onFormulaireChange:function(t){return e.props.onFormulaireChange(t)},token:e.props.token,hostStorage:e.props.hostStorage,goTo:function(t){return e.props.goTo(t)},handleInputChange:e.props.handleInputChange,user_id:e.props.user_id,service:e.props.service}),500,(function(){console.log("en close drawer"),e.props.setSiseForm("")}))},type:"primary",style:{marginBottom:16}})},size:"small",pagination:{position:[this.state.top,this.state.bottom]},scroll:{x:500},components:n,rowSelection:Object(nt.a)({},Ys),rowClassName:function(){return"editable-row"},dataSource:t,columns:a})," ",Object(N.jsx)(te.q,{title:this.state.title,width:this.state.width,visible:this.state.visible,onOk:this.handleCancel,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,children:this.state.contenu})]})}}]),n}(r.a.Component),Qs=Sn.a.Dragger,eo={name:"file",multiple:!0,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?Ge.b.success("".concat(e.file.name," file uploaded successfully.")):"error"===t&&Ge.b.error("".concat(e.file.name," file upload failed."))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};a.Component;for(var to={expandedRowRender:function(e){return Object(N.jsx)("p",{children:e.description})}},no={position:"bottom"},ao=[],ro=1;ro<=1;ro++)ao.push({titre:"Vue syst\xe9me "+ro,check:!0});for(var so=[],oo=1;oo<=3;oo++)so.push({titre:"Vues personnalis\xe9s "+oo,check:!1});for(var co=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a,s;return Object(L.a)(this,n),(s=t.call(this,e)).formRef=r.a.createRef(),s.onTypeChange=function(e){s.state.typeUniteL[e].active=!1},s.onChange=function(e){s.setState({targetKeys:e})},s.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-Submit-NewPlanPalitisation------------------"),!0,Ge.b.loading("Loading..",true);try{console.log(t),null!=t.UL?t.UL.map((function(e,t){return e.VV=[],e.key=t})):t.UL=[],t.UL0=s.state.dataSource,s.props.setNewVL(t),s.props.setListeAllUl(s.state.dataSource),s.props.closeDrawer(),s.props.addVL(t),s.onReset(),console.log("------------------fin-Submit-NewPlanPalitisation------------------")}catch(n){console.log("error :",n),console.log("------------------fin-Submit-NewPlanPalitisation------------------")}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.onSubmit=function(){s.formRef.current.submit(),console.log(s.formRef.current)},s.onReset=function(){s.formRef.current.resetFields(),s.setState({dataSource:[]})},s.labelComposant=function(e,t){return Object(N.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(N.jsx)(te.F,{style:{display:"flex",width:"100px",fontSize:"14px",fontWeight:"600"},children:e})})},s.handleDelete=function(e){var t=Object(ae.a)(s.state.dataSource);s.setState({dataSource:t.filter((function(t){return t.key!==e}))})},s.handleAdd=function(){var e=s.state,t=e.count,n=e.dataSource,a={key:t,RPULTYPUL:0,RPULCEXT:"code..",RPULDSC:"description..",RPULCOEF:0,RPULETAT:0,RPULPOID:0,RPULLANG:0,RPULLARG:0,RPULHAUT:0,VV:[]};s.setState({dataSource:[a].concat(Object(ae.a)(n)),count:t+1})},s.handleSave=function(e){var t=Object(ae.a)(s.state.dataSource),n=t.findIndex((function(t){return e.key===t.key})),a=t[n];t.splice(n,1,Object(nt.a)(Object(nt.a)({},a),e)),s.setState({dataSource:t})},s.columns=[{title:"Code",type:"text",pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RPULCEXT",width:"10%",fixed:"left",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"Type",type:"select",required:!1,dataIndex:"RPULTYPUL",width:"15%",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"Coefition",type:"number",required:!0,dataIndex:"RPULCOEF",width:"10%",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"Poid",type:"number",required:!1,dataIndex:"RPULPOID",width:"8%",ellipsis:!0,showSorterTooltip:!0,editable:!0},{title:"Longueur ",type:"number",required:!1,dataIndex:"RPULLANG",width:"11%",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"Largeur ",type:"number",required:!1,dataIndex:"RPULLARG",width:"10%",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"Hauteur ",type:"number",required:!1,dataIndex:"RPULHAUT",width:"10%",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"Description",type:"text",pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RPULDSC",width:"20%",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"",fixed:"right",width:"5%",dataIndex:"operation",render:function(e,t){return s.state.dataSource.length>=1?Object(N.jsx)(Fn.a,{title:"Sure to delete?",onConfirm:function(){return s.handleDelete(t.key)},children:Object(N.jsx)(He.a,{style:{color:"#f44336"}})}):null}}],s.state=(a={typeUniteL:[{value:0,titel:"uvc",active:!0},{value:1,titel:"sub-carton",active:!0},{value:2,titel:"carton",active:!0},{value:3,titel:"couche",active:!0},{value:4,titel:"palette",active:!0}],bordered:!1,loading:!1,pagination:no,expandable:to,showHeader:!0,rowSelection:{},scroll:void 0,hasData:!0,tableLayout:void 0,top:"none",bottom:"bottomRight",dataSource:[],count:2,userData:[],changecome:!1,Profiles:[]},Object(Ve.a)(a,"loading",!1),Object(Ve.a)(a,"form",{}),Object(Ve.a)(a,"photo",null),Object(Ve.a)(a,"targetKeys",[]),Object(Ve.a)(a,"update",!0),Object(Ve.a)(a,"defaultValue",null!=s.props.contact?s.props.contact[0]:null),Object(Ve.a)(a,"datas",{US_EMAIL:"",US_NOMUSR:"",US_PRNUSR:"",US_TYPUSR:""}),a),s}return Object(I.a)(n,[{key:"activerUpdate",value:function(){}},{key:"getDataSource",value:function(){return this.state.dataSource}},{key:"render",value:function(){var e=this,t=this.props,n=t.isLoading,a=(t.handleInputChange,this.state.dataSource,this.columns.map((function(t){return t.editable?Object(nt.a)(Object(nt.a)({},t),{},{onCell:function(n){return{record:n,editable:t.editable,dataIndex:t.dataIndex,title:t.title,max:t.max,required:t.required,pattern:t.pattern,type:t.type,handleSave:e.handleSave}}}):t})),this.state),r=a.xScroll,s=a.yScroll,o=(Object(at.a)(a,["xScroll","yScroll"]),{});return s&&(o.y=240),r&&(o.x="100vw"),!n&&Object(N.jsxs)(st.b,{form:{validateMessages:ba.fr},children:[Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",borderBottom:"1px solid #eee",marginBottom:"10px"},children:[Object(N.jsx)(te.F,{style:{display:"flex",fontSize:"15px",fontWeight:"600",marginBottom:"10px"},children:"New plan de paltisation"}),Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(La.a,{}),onClick:function(){return e.onReset()}})]}),Object(N.jsx)(te.l,{ref:this.formRef,layout:"horizontal",name:"control-ref",initialValues:Object(nt.a)({},this.state.defaultValue),onFinish:this.onFinish,children:Object(N.jsx)(D.a,{gutter:[20,20],justify:"center",align:"stretch",style:{overflowY:"auto",height:"430px"},children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsxs)(D.a,{gutter:[16,0],align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:14,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{label:"Code",name:"RPLLCEXT",rules:[{required:!1,max:50}],children:Object(N.jsx)(B.a,{placeholder:"Entrer le code..."})})})})}),Object(N.jsx)(U.a,{span:10,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Etat",name:"RPLLETAT",hasFeedback:!0,children:Object(N.jsx)(te.n,{style:{width:"100%"},placeholder:"..."})})," "]})})})," ",Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{name:"RPLLDSC",rules:[{required:!0,max:2024}],hasFeedback:!0,children:Object(N.jsx)(B.a.TextArea,{rows:3,placeholder:"Entrer le libell\xe9 Lang..."})})," "]})})}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.List,{name:"UL",children:function(t,n){var a=n.add,r=n.remove;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:"20px"},children:[Object(N.jsx)(te.F.Title,{level:5,style:{fontSize:"16px",fontWeight:"400px"},children:"Unit\xe9 logistique"}),Object(N.jsx)(te.d,{type:"dashed",onClick:function(){return a()},style:{width:"6%"},icon:Object(N.jsx)(Qe.a,{})})]})," ",Object(N.jsxs)(D.a,{gutter:[10,10],justify:"space-between",align:"stretch",style:{marginBottom:"10px"},children:[Object(N.jsx)(U.a,{span:7,style:{display:"flex"},children:"Type"})," ",Object(N.jsx)(U.a,{span:3,style:{whiteSpace:"nowrap"},children:"Coefition"})," ",Object(N.jsx)(U.a,{span:3,style:{whiteSpace:"nowrap"},children:"Poid"}),Object(N.jsx)(U.a,{span:3,style:{whiteSpace:"nowrap"},children:"Langeur"})," ",Object(N.jsx)(U.a,{span:3,style:{whiteSpace:"nowrap"},children:"Largeur"}),Object(N.jsx)(U.a,{span:3,style:{whiteSpace:"nowrap"},children:"Hauteur"}),Object(N.jsx)(U.a,{span:2})]}),t.map((function(t){var n=t.key,a=t.name,s=t.fieldKey,o=Object(at.a)(t,["key","name","fieldKey"]);return Object(N.jsxs)("div",{style:{display:"flex",marginBottom:8,width:"100%",justifyContent:"space-between"},children:[" ",Object(N.jsxs)(te.v,{align:"baseline",children:[" ",Object(N.jsxs)(D.a,{gutter:[10,10],justify:"space-between",align:"stretch",children:[Object(N.jsxs)(U.a,{span:7,children:[" ",Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULTYPUL"],fieldKey:[s,"RPULTYPUL"],rules:[{required:!0}],children:Object(N.jsx)(te.u,{onChange:e.onTypeChange,showSearch:!0,children:e.state.typeUniteL.map((function(e,t){return Object(N.jsx)(te.u.Option,{value:e.value,disabled:!e.active,children:e.titel})}))})}))]}),Object(N.jsxs)(U.a,{span:3,children:[Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULCOEF"],fieldKey:[s,"RPULCOEF"],rules:[{required:!0}],children:Object(N.jsx)(te.n,{style:{width:"100%"}})}))," "]}),Object(N.jsxs)(U.a,{span:3,children:[Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULPOID"],fieldKey:[s,"RPULPOID"],rules:[{required:!1}],children:Object(N.jsx)(te.n,{style:{width:"100%"}})}))," "]}),Object(N.jsxs)(U.a,{span:3,children:[" ",Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULLANG"],fieldKey:[s,"RPULLANG"],rules:[{required:!1}],children:Object(N.jsx)(te.n,{style:{width:"100%"}})}))]})," ",Object(N.jsxs)(U.a,{span:3,children:[Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULLARG"],fieldKey:[s,"RPULLARG"],rules:[{required:!1}],children:Object(N.jsx)(te.n,{style:{width:"100%"}})}))," "]}),Object(N.jsxs)(U.a,{span:3,children:[" ",Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULHAUT"],fieldKey:[s,"RPULHAUT"],rules:[{required:!1}],children:Object(N.jsx)(te.n,{style:{width:"100%"}})}))]}),Object(N.jsx)(U.a,{span:2,children:Object(N.jsx)(cr.a,{onClick:function(){return r(a)}})})]})]},n)," "]})})),Object(N.jsx)(te.l.Item,{children:Object(N.jsx)(te.d,{type:"dashed",onClick:function(){a()},block:!0,icon:Object(N.jsx)(Qe.a,{}),children:"Add field"})})]})}})})})})]})})})}),Object(N.jsx)(rt.a,{}),Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",style:{display:"flex",justifyContent:"flex-end"},children:Object(N.jsxs)(te.v,{children:[Object(N.jsx)(te.d,{onClick:function(t){e.props.closeDrawer(),e.onReset()},children:"close"}),Object(N.jsx)(te.d,{type:"primary",onClick:function(t){e.onSubmit()},children:"submit"})]})})})]})}}]),n}(a.Component),io=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).formRef=r.a.createRef(),a.onTypeChange=function(e,t,n){var r=a.state,s=r.ToUpdate.findIndex((function(e){return e.key===t}));console.log(r.ToUpdate,"  =>existDeja => ",s),-1==s&&r.ToUpdate.push({key:t,name:n}),a.state.typeUniteL[e].active=!1},a.onChange=function(e,t){var n=a.state,r=n.ToUpdate.findIndex((function(t){return t.key===e}));console.log(n.ToUpdate,"  =>key "+e+" ,existDeja => ",r),-1==r&&n.ToUpdate.push({key:e,name:t})},a.onDelete=function(e,t){var n=a.state;console.log("Uls => ",a.state.Uls,"keu : ",e),n.ToDelete.push({key:e,name:t,ID_ROWID:null!=a.state.Uls[e]?a.state.Uls[e].ID_ROWID:null})},a.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-Submit-NewPlanPalitisation------------------"),!0,Ge.b.loading("Loading..",true);try{console.log("tout",t),console.log("update",a.state.ToUpdate),n=[],a.state.ToDelete.map((function(e,t){n.push({key:e.key,VL_key:a.props.VL_key,ID_ROWID:e.ID_ROWID})})),r=[],a.state.ToUpdate.map((function(e,n){t.UL[e.key].key=e.key,t.UL[e.key].VL_key=a.props.VL_key,r.push(t.UL[e.key])})),s=t.UL.filter((function(e){return!0===e.New})),console.log("New",s),console.log("update",r),console.log("delete",n),s.map((function(e,t){return a.props.setNewUL(e)})),r.map((function(e,t){return a.props.setUpdateUL(e)})),n.map((function(e,t){return a.props.setDeleteUL(e)})),a.setState({ToUpdate:[],deleteUL:[]}),console.log("------------------fin-Submit-NewPlanPalitisation------------------")}catch(o){console.log("error :",o),console.log("------------------fin-Submit-NewPlanPalitisation------------------")}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){a.formRef.current.submit(),console.log(a.formRef.current)},a.onReset=function(){a.formRef.current.resetFields()},a.labelComposant=function(e,t){return Object(N.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(N.jsx)(te.F,{style:{display:"flex",width:"100px",fontSize:"14px",fontWeight:"600"},children:e})})},a.state={ToUpdate:[],ToDelete:[],typeUniteL:[{value:0,titel:"uvc",active:!0},{value:1,titel:"sub-carton",active:!0},{value:2,titel:"carton",active:!0},{value:3,titel:"couche",active:!0},{value:4,titel:"palette",active:!0}],Uls:[],loading:!0,form:{},update:!0,datas:{US_EMAIL:"",US_NOMUSR:"",US_PRNUSR:"",US_TYPUSR:""}},a}return Object(I.a)(n,[{key:"componentDidUpdate",value:function(e){e.datas!==this.props.datas&&this.formRef.current.setFieldsValue({UL:this.props.datas})}},{key:"componentDidMount",value:function(){console.log("Uls => :",this.props.datas),this.setState({Uls:this.props.datas,loading:!1})}},{key:"render",value:function(){var e=this;return!this.state.loading&&Object(N.jsx)(D.a,{gutter:[20,20],justify:"center",align:"stretch",style:{overflowY:"auto",height:"100%",width:"100%"},children:Object(N.jsxs)(U.a,{span:24,children:[Object(N.jsx)(te.l,{ref:this.formRef,initialValues:{UL:this.state.Uls},onFinish:this.onFinish,children:Object(N.jsx)(te.l.List,{name:"UL",children:function(t,n){var a=n.add,r=n.remove;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:"20px"},children:Object(N.jsx)(te.F.Title,{level:5,style:{fontSize:"16px",fontWeight:"400px"},children:"Unit\xe9 logistique"})})," ",Object(N.jsxs)(D.a,{gutter:[10,10],justify:"space-between",align:"stretch",style:{marginBottom:"20px"},children:[Object(N.jsx)(U.a,{span:7,style:{display:"flex"},children:"Type"})," ",Object(N.jsx)(U.a,{span:3,children:"Coefition"})," ",Object(N.jsx)(U.a,{span:3,children:"Poid"}),Object(N.jsx)(U.a,{span:3,children:"Langeur"})," ",Object(N.jsx)(U.a,{span:3,children:"Largeur"}),Object(N.jsx)(U.a,{span:3,children:"Hauteur"}),Object(N.jsx)(U.a,{span:2})]}),t.map((function(t){var n=t.key,a=t.name,s=t.fieldKey,o=Object(at.a)(t,["key","name","fieldKey"]);return Object(N.jsxs)("div",{style:{display:"flex",marginBottom:8,width:"100%",justifyContent:"space-between"},children:[" ",Object(N.jsxs)(te.v,{align:"baseline",children:[" ",Object(N.jsxs)(D.a,{gutter:[10,10],justify:"space-between",align:"top",children:[Object(N.jsxs)(U.a,{span:7,children:[" ",Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULTYPUL"],fieldKey:[s,"RPULTYPUL"],rules:[{required:!0}],shouldUpdate:function(e,t){return e.RPULTYPUL!==t.RPULTYPUL},messageVariables:{another:"good"},children:Object(N.jsx)(te.u,{onChange:function(t){return e.onTypeChange(t,n,"RPULTYPUL")},showSearch:!0,children:e.state.typeUniteL.map((function(e,t){return Object(N.jsx)(te.u.Option,{value:e.value,disabled:!e.active,children:e.titel})}))})}))]}),Object(N.jsxs)(U.a,{span:3,children:[Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULCOEF"],fieldKey:[s,"RPULCOEF"],rules:[{required:!0}],children:Object(N.jsx)(te.n,{style:{width:"100%"},onChange:function(t){return e.onChange(n,"RPULCOEF")}})}))," "]}),Object(N.jsxs)(U.a,{span:3,children:[Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULPOID"],fieldKey:[s,"RPULPOID"],rules:[{required:!1}],children:Object(N.jsx)(te.n,{style:{width:"100%"},onChange:function(t){return e.onChange(n,"RPULPOID")}})}))," "]}),Object(N.jsxs)(U.a,{span:3,children:[" ",Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULLANG"],fieldKey:[s,"RPULLANG"],rules:[{required:!1}],children:Object(N.jsx)(te.n,{style:{width:"100%"},onChange:function(t){return e.onChange(n,"RPULLANG")}})}))]})," ",Object(N.jsxs)(U.a,{span:3,children:[Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULLARG"],fieldKey:[s,"RPULLARG"],rules:[{required:!1}],children:Object(N.jsx)(te.n,{style:{width:"100%"},onChange:function(t){return e.onChange(n,"RPULLARG")}})}))," "]}),Object(N.jsxs)(U.a,{span:3,children:[" ",Object(N.jsx)(te.l.Item,Object(nt.a)(Object(nt.a)({},o),{},{name:[a,"RPULHAUT"],fieldKey:[s,"RPULHAUT"],rules:[{required:!1}],children:Object(N.jsx)(te.n,{style:{width:"100%"},onChange:function(t){return e.onChange(n,"RPULHAUT")}})}))]}),Object(N.jsx)(U.a,{span:2,children:Object(N.jsx)(cr.a,{onClick:function(){r(a),e.onDelete(n)}})})]})]},n)," "]})})),Object(N.jsx)(te.l.Item,{children:Object(N.jsx)(te.d,{type:"dashed",onClick:function(){return a({New:!0,RPULCINVL:e.props.VL_Id,VL_key:e.props.VL_key,VV:[]})},block:!0,icon:Object(N.jsx)(Qe.a,{}),children:"Add field"})})]})}})})," "]})})}}]),n}(a.Component),lo={expandedRowRender:function(e){return Object(N.jsx)("p",{children:e.description})}},uo={position:"bottom"},po=[],ho=1;ho<=1;ho++)po.push({titre:"Vue syst\xe9me "+ho,check:!0});for(var jo=[],bo=1;bo<=3;bo++)jo.push({titre:"Vues personnalis\xe9s "+bo,check:!1});for(var fo={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},onSelect:function(e,t,n){console.log(e,t,n)},onSelectAll:function(e,t,n){console.log(e,t,n)}},xo=r.a.createContext(null),mo=function(e){e.index;var t=Object(at.a)(e,["index"]),n=Un.a.useForm(),a=Object(d.a)(n,1)[0];return Object(N.jsx)(Un.a,{form:a,component:!1,children:Object(N.jsx)(xo.Provider,{value:a,children:Object(N.jsx)("tr",Object(nt.a)({},t))})})},Oo=function(e){e.title,e.pattern,e.max,e.required;var t=e.editable,n=e.children,r=e.dataIndex,s=e.record,o=e.handleSave,c=e.setUpdateVL,u=(e.disabled,e.type),p=(e.update,Object(at.a)(e,["title","pattern","max","required","editable","children","dataIndex","record","handleSave","setUpdateVL","disabled","type","update"])),h=Object(a.useState)(!1),j=Object(d.a)(h,2),b=j[0],f=j[1],x=Object(a.useRef)(null),m=Object(a.useContext)(xo);Object(a.useEffect)((function(){b&&x.current.focus()}),[b]);var O=function(){f(!b),m.setFieldsValue(Object(Ve.a)({},r,s[r]))},g=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.validateFields();case 3:t=e.sent,console.log("variante logistique update => ",t,"recorde",s),O(),c(s,t),o(Object(nt.a)(Object(nt.a)({},s),t)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),y=n;return t&&(y=b?Object(N.jsx)(Un.a.Item,{style:{margin:0},name:r,children:"number"==u?Object(N.jsx)(te.n,{size:"small",bordered:!1,ref:x,onPressEnter:g,onBlur:g}):Object(N.jsx)(B.a,{size:"small",bordered:!1,ref:x,onPressEnter:g,onBlur:g})}):Object(N.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:O,children:n})),Object(N.jsx)("td",Object(nt.a)(Object(nt.a)({},p),{},{children:y}))},go=(r.a.Component,{expandedRowRender:function(e){return Object(N.jsx)("p",{children:e.description})}}),yo={position:"bottom"},vo=[],Ro=1;Ro<=1;Ro++)vo.push({titre:"Vue syst\xe9me "+Ro,check:!0});for(var wo=[],So=1;So<=3;So++)wo.push({titre:"Vues personnalis\xe9s "+So,check:!1});var Co={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},onSelect:function(e,t,n){console.log(e,t,n)},onSelectAll:function(e,t,n){console.log(e,t,n)}},ko=r.a.createContext(null),To=function(e){e.index;var t=Object(at.a)(e,["index"]),n=Un.a.useForm(),a=Object(d.a)(n,1)[0];return Object(N.jsx)(Un.a,{form:a,component:!1,children:Object(N.jsx)(ko.Provider,{value:a,children:Object(N.jsx)("tr",Object(nt.a)({},t))})})},Lo=function(e){e.title,e.pattern,e.max,e.required;var t=e.editable,n=e.children,r=e.dataIndex,s=e.record,o=e.handleSave,c=e.setUpdateVL,u=(e.disabled,e.Sites),p=e.VV,h=e.type,j=(e.update,Object(at.a)(e,["title","pattern","max","required","editable","children","dataIndex","record","handleSave","setUpdateVL","disabled","Sites","VV","type","update"])),b=Object(a.useState)(!1),f=Object(d.a)(b,2),x=f[0],m=f[1],O=Object(a.useRef)(null),g=Object(a.useContext)(ko);Object(a.useEffect)((function(){x&&O.current.focus()}),[x]);var y=function(){m(!x),g.setFieldsValue(Object(Ve.a)({},r,s[r]))},v=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.validateFields();case 3:t=e.sent,console.log("Assortiment vendable update => ",t,"recorde",s),y(),c(s,t),o(Object(nt.a)(Object(nt.a)({},s),t)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),R=n;return t&&(R=x?Object(N.jsx)(Un.a.Item,{style:{margin:0},name:r,children:"number"==h?Object(N.jsx)(kr.a,{style:{width:"100%"},ref:O,onPressEnter:v,onBlur:v,bordered:!1,size:"small"}):"site"==h?Object(N.jsx)(te.u,{size:"small",showSearch:!0,bordered:!1,ref:O,onPressEnter:v,onBlur:v,optionFilterProp:"children",children:null!=u&&u.map((function(e,t){return Object(N.jsx)(te.u.Option,{value:e.ID_ROWID,children:e.RSSITE})}))}):Object(N.jsx)(te.u,{size:"small",showSearch:!0,bordered:!1,ref:O,onPressEnter:v,onBlur:v,optionFilterProp:"children",children:null!=p&&p.map((function(e,t){return Object(N.jsx)(te.u.Option,{value:t,children:e.RPVVCEXT})}))})}):Object(N.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:y,children:n})),Object(N.jsx)("td",Object(nt.a)(Object(nt.a)({},j),{},{children:R}))},Io=(r.a.Component,n(268)),Po=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){return Object(N.jsx)(aa.a,{plugins:[Io.a],initialView:"dayGridMonth"})}}]),n}(r.a.Component);for(var Vo=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).formRef=r.a.createRef(),a.onChange=function(e){a.setState({targetKeys:e})},a.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-Submit-NewContact------------------"),!0,Ge.b.loading("Loading..",true);try{console.log(t),a.props.setNewContact(t),a.props.closeDrawer(),a.props.addVV(t),a.onReset(),a.setState({VLUL:[]}),console.log("------------------fin-Submit-NewContact------------------")}catch(n){console.log("error :",n),console.log("------------------fin-Submit-NewContact------------------")}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){a.formRef.current.submit(),console.log(a.formRef.current)},a.onReset=function(){a.formRef.current.resetFields(),a.setState({changecome:!1})},a.handleChange=function(e){!function(e,t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)})),n.readAsDataURL(e)}(e.file.originFileObj,(function(e){return a.setState({imageUrl:e,loadingPhoto:!1})}))},a.labelComposant=function(e,t){return Object(N.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(N.jsx)(te.F,{style:{display:"flex",width:"100px",fontSize:"14px",fontWeight:"600"},children:e})})},a.state={VLUL:[],userData:[],loadingPhoto:!1,changecome:!1,Profiles:[],loading:!0,form:{},photo:null,targetKeys:[],update:!0,defaultValue:null!=a.props.contact?a.props.contact[0]:null,datas:{US_EMAIL:"",US_NOMUSR:"",US_PRNUSR:"",US_TYPUSR:""}},a}return Object(I.a)(n,[{key:"activerUpdate",value:function(){}},{key:"getUlType",value:function(e){switch(e){case 0:return"uvc";case 1:return"sub-carton";case 2:return"carton";case 3:return"couche";case 3:return"palette";default:return"autre"}}},{key:"componentDidMount",value:function(){var e=this;console.log("all ul",this.props.ListAllUL),null!=this.props.ListUL&&this.props.ListUL.map((function(t,n){null!=t.UL&&t.UL.map((function(a,r){e.state.VLUL.push({VL:n,UL:r,titre:t.RPLLCEXT+" "+a.RPULTYPUL})}))})),this.setState({loading:!1,VLUL:this.props.ListAllUL.concat(this.state.VLUL)}),console.log("all ul finale",this.state.VLUL)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.isLoading,t.handleInputChange,this.state),a=n.loadingPhoto;n.imageUrl,a?Ua.a:Qe.a;return!this.state.loading&&Object(N.jsxs)(st.b,{form:{validateMessages:ba.fr},children:[Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[Object(N.jsx)(te.F,{style:{display:"flex",fontSize:"15px",fontWeight:"600",marginBottom:"15px"},children:"New contact"}),Object(N.jsx)(te.d,{type:"text",icon:Object(N.jsx)(La.a,{}),onClick:function(){return e.onReset()}})]}),Object(N.jsx)(te.l,{ref:this.formRef,layout:"vertical",name:"control-ref",initialValues:Object(nt.a)({},this.state.defaultValue),onFinish:this.onFinish,children:Object(N.jsx)(D.a,{gutter:[20,20],justify:"center",align:"stretch",children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsxs)(D.a,{gutter:[16,0],align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:12,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Tel-personnel",name:"RFCPER",rules:[{required:!1,pattern:"^[0-9]{10}$"}],hasFeedback:!0,children:Object(N.jsx)(B.a,{placeholder:"+123 (00)0000-0000",suffix:Object(N.jsx)(kn.a,{})})})," "]})})})," ",Object(N.jsx)(U.a,{span:12,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Tel-telecopie",name:"RFCTELCOP",rules:[{required:!1,pattern:"^[0-9]{10}$"}],hasFeedback:!0,children:Object(N.jsx)(B.a,{placeholder:"+123 (00)0000-0000",suffix:Object(N.jsx)(kn.a,{})})})," "]})})})," ",Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Tel-portable",name:"RFCMOB",rules:[{required:!1,pattern:"^[0-9]{10}$"}],hasFeedback:!0,children:Object(N.jsx)(B.a,{placeholder:"+123 (00)0000-0000",suffix:Object(N.jsx)(kn.a,{})})})," "]})})}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Tel-professionnel",name:"RFCPROF",rules:[{required:!1,max:35,pattern:"^[0-9]{10}$"}],hasFeedback:!0,children:Object(N.jsx)(B.a,{placeholder:"+123 (00)0000-0000",suffix:Object(N.jsx)(kn.a,{})})})," "]})})}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"Fax",name:"RFCFAX",rules:[{required:!1,pattern:"^[0-9]{10}$"}],hasFeedback:!0,children:Object(N.jsx)(B.a,{placeholder:"+123 (00)0000-0000",suffix:Object(N.jsx)(Be.a,{})})})," "]})})})," ",Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsxs)(U.a,{flex:"auto",children:[Object(N.jsx)(te.l.Item,{label:"E-mail",name:"RFCEMAIL",rules:[{required:!1,max:35,type:"email"}],hasFeedback:!0,children:Object(N.jsx)(B.a,{placeholder:"e-mail@gmail.com",suffix:Object(N.jsx)(gn.a,{})})})," "]})})}),Object(N.jsx)(rt.a,{style:{margin:"0px",marginTop:"40px"}}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",style:{display:"flex",justifyContent:"flex-end",marginTop:"10px"},children:Object(N.jsxs)(te.v,{children:[Object(N.jsx)(te.d,{onClick:function(t){e.props.closeDrawer(),e.onReset()},children:"close"}),Object(N.jsx)(te.d,{type:"primary",onClick:function(t){e.onSubmit()},children:"submit"})]})})})})," "]})})})})]})}}]),n}(a.Component),Ao={expandedRowRender:function(e){return Object(N.jsx)("p",{children:e.description})}},Do={position:"bottom"},Uo=[],Fo=1;Fo<=1;Fo++)Uo.push({titre:"Vue syst\xe9me "+Fo,check:!0});for(var No=[],Eo=1;Eo<=3;Eo++)No.push({titre:"Vues personnalis\xe9s "+Eo,check:!1});for(var Mo={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},onSelect:function(e,t,n){console.log(e,t,n)},onSelectAll:function(e,t,n){console.log(e,t,n)}},Bo=r.a.createContext(null),zo=function(e){e.index;var t=Object(at.a)(e,["index"]),n=Un.a.useForm(),a=Object(d.a)(n,1)[0];return Object(N.jsx)(Un.a,{form:a,component:!1,children:Object(N.jsx)(Bo.Provider,{value:a,children:Object(N.jsx)("tr",Object(nt.a)({},t))})})},qo=function(e){e.title,e.pattern,e.max,e.required;var t=e.editable,n=e.children,r=e.dataIndex,s=e.record,o=e.handleSave,c=e.setUpdateContact,u=(e.Uls,e.disabled,e.type),p=(e.update,Object(at.a)(e,["title","pattern","max","required","editable","children","dataIndex","record","handleSave","setUpdateContact","Uls","disabled","type","update"])),h=Object(a.useState)(!1),j=Object(d.a)(h,2),b=j[0],f=j[1],x=Object(a.useRef)(null),m=Object(a.useContext)(Bo);Object(a.useEffect)((function(){b&&x.current.focus()}),[b]);var O=function(){f(!b),m.setFieldsValue(Object(Ve.a)({},r,s[r]))},g=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.validateFields();case 3:t=e.sent,console.log("variante vente update => ",t,"recorde",s),O(),c(s,t),o(Object(nt.a)(Object(nt.a)({},s),t)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),y=n;return t&&(y=b?Object(N.jsx)(Un.a.Item,{style:{margin:0},name:r,children:"number"==u?Object(N.jsx)(te.n,{size:"small",bordered:!1,ref:x,onPressEnter:g,onBlur:g}):Object(N.jsx)(B.a,{size:"small",bordered:!1,ref:x,onPressEnter:g,onBlur:g})}):Object(N.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:O,children:n})),Object(N.jsx)("td",Object(nt.a)(Object(nt.a)({},p),{},{children:y}))},Ho=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).handleDelete=function(e){var t=Object(ae.a)(a.state.dataSource),n=t.findIndex((function(t){return t.key==e}));console.log(t,n),a.props.setDeleteContact(t[n]),a.setState({dataSource:t.filter((function(t){return t.key!==e}))})},a.handleAdd=function(e){var t=a.state,n=t.count,r=t.dataSource,s=e;s.key=r.length,a.setState({dataSource:[].concat(Object(ae.a)(r),[s]),count:n+1})},a.handleSave=function(e){var t=Object(ae.a)(a.state.dataSource),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(nt.a)(Object(nt.a)({},r),e)),a.setState({dataSource:t})},a.showModal=function(e){console.log(e),a.setState({visible:!0,width:380,contenu:Object(N.jsx)(te.t,{gutter:[5,5],style:{minHeight:"180px",maxHeight:"180px"},children:!!e&&Object(N.jsxs)(te.f,{span:24,style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[" ",Object(N.jsx)(te.h.RangePicker,{showTime:!0,bordered:!1,defaultValue:[On()(e[0].PRCDDEB,"YYYY-MM-DD HH:mm:ss"),On()(e[0].PRCDFIN,"YYYY-MM-DD HH:mm:ss")]}),Object(N.jsx)("img",{src:"./codeBarre.png",style:{width:"300px"}})," ",Object(N.jsx)(te.F,{style:{fontSize:"17px"},children:e[0].PRCCODE+""})," "]})}),title:"Code Bare"})},a.handleOk=function(){a.setState({modalText:"The modal will be closed after two seconds",confirmLoading:!0}),setTimeout((function(){a.setState({visible:!1,confirmLoading:!1})}),2e3)},a.handleCancel=function(){console.log("Clicked cancel button",a.state.VLUL),a.setState({visible:!1})},a.columns=[{title:"Tel-personnel",max:30,pattern:"^[a-zA-Z]*$",required:!1,disabled:a.props.update,dataIndex:"RFCPER",width:"15%",fixed:"left",ellipsis:!0,editable:!0,showSorterTooltip:!0},{title:"Tel-telecopie",max:10,pattern:"^[a-zA-Z0-9_-]+$",required:!1,disabled:a.props.update,dataIndex:"RFCTELCOP",width:"15%",ellipsis:!0,editable:!0},{title:"Tel-portable",max:4,pattern:"^[0-9]*$",required:!1,dataIndex:"RFCMOB",width:"15%",ellipsis:!0,editable:!0},{title:"Tel-professionnel",max:15,pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RFCPROF",width:"15%",ellipsis:!0,editable:!0},{title:"Fax",max:5,required:!1,dataIndex:"RFCFAX",width:"15%",ellipsis:!0,editable:!0},{title:"Email",max:15,pattern:"^[a-zA-Z]*$",required:!1,dataIndex:"RFCEMAIL",width:"20%",ellipsis:!0,editable:!0},{title:"",fixed:"right",width:"5%",dataIndex:"operation",render:function(e,t){return a.state.dataSource.length>=1?Object(N.jsx)(Fn.a,{title:"Sure to delete?",onConfirm:function(){return a.handleDelete(t.key)},children:a.props.update&&Object(N.jsx)(He.a,{style:{color:"#f44336"}})}):null}}],a.state={VLUL:[],visible:!1,confirmLoading:!1,modalText:"Content of the modal",bordered:!1,loading:!1,pagination:Do,expandable:Ao,showHeader:!0,rowSelection:{},scroll:void 0,hasData:!0,tableLayout:void 0,top:"none",bottom:"bottomRight",dataSource:[],count:2},a}return Object(I.a)(n,[{key:"getDataSource",value:function(){return this.state.dataSource}},{key:"componentDidMount",value:function(){console.log("datas",this.props.datasource),null!=this.props.datasource&&this.props.datasource.map((function(e,t){Object.assign(e,{key:t})})),this.setState({dataSource:null!=this.props.datasource?this.props.datasource:[]}),this.setState({loading:!1})}},{key:"render",value:function(){var e=this,t=this.state.dataSource,n={body:{row:zo,cell:qo}},a=this.columns.map((function(t){return t.editable&&e.props.update?(console.log("boom ka => ",e.props.update),Object(nt.a)(Object(nt.a)({},t),{},{onCell:function(n){return{record:n,editable:t.editable,dataIndex:t.dataIndex,title:t.title,max:t.max,required:t.required,disabled:t.disabled,pattern:t.pattern,type:t.type,update:e.props.update,handleSave:e.handleSave,Uls:e.state.VLUL,setUpdateContact:e.props.setUpdateContact}}})):t})),r=this.state,s=r.xScroll,o=r.yScroll,c=(Object(at.a)(r,["xScroll","yScroll"]),{});return o&&(c.y=240),s&&(c.x="100vw"),Object(N.jsxs)("div",{children:[" ",Object(N.jsx)(Aa.a,{className:"template-dms",title:function(){return Object(N.jsx)(zs,{vues:{vueSysteme:Uo,vuesPersonnalises:No},title:"Contact",enAdd:function(t){e.props.showDrawer(t),e.props.setSiseForm("935px"),e.props.setDrawerState("",Object(N.jsx)(Vo,{ListAllUL:e.props.ListAllUL,ListUL:e.props.ListUL,setNewContact:function(t){return e.props.setNewContact(t)},closeDrawer:function(){return e.props.closeDrawer()},addVV:function(t){return e.handleAdd(t)},isLoading:e.props.isLoading,changecome:e.props.changecome,updateCtc:e.props.updateCtc,onFormulaireChange:function(t){return e.props.onFormulaireChange(t)},token:e.props.token,hostStorage:e.props.hostStorage,goTo:function(t){return e.props.goTo(t)},handleInputChange:e.props.handleInputChange,user_id:e.props.user_id,service:e.props.service}),500,(function(){console.log("en close drawer"),e.props.setSiseForm("")}))},activeAdd:e.props.update,type:"primary",style:{marginBottom:16}})},size:"small",pagination:{position:[this.state.top,this.state.bottom]},scroll:{x:500},components:n,rowSelection:Object(nt.a)({},Mo),rowClassName:function(){return"editable-row"},dataSource:t,columns:a})," ",Object(N.jsx)(te.q,{title:this.state.title,width:this.state.width,visible:this.state.visible,onOk:this.handleCancel,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,children:this.state.contenu})]})}}]),n}(r.a.Component),_o=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Go=function(e){var t=function(t){Object(P.a)(a,t);var n=Object(V.a)(a);function a(){return Object(L.a)(this,a),n.apply(this,arguments)}return Object(I.a)(a,[{key:"render",value:function(){var t=this.props,n=t.forwardRef,a=Object(at.a)(t,["forwardRef"]);return Object(N.jsx)(e,Object(nt.a)(Object(nt.a)({},a),{},{ref:n}))}}]),a}(r.a.Component),n=Object(Ze.i)(t,{withRef:!0});return r.a.forwardRef((function(e,t){return Object(N.jsx)(n,Object(nt.a)(Object(nt.a)({},e),{},{forwardRef:t}))}))}(function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a,s;return Object(L.a)(this,n),(s=t.call(this,e)).formRef=r.a.createRef(),s.formContactRef=r.a.createRef(),s.adressRef=r.a.createRef(),s.onChange=function(e){s.setState({targetKeys:e})},s.onFinish=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-postProduit------------------"),e.next=3,ye(s.state.token,s.state.Refrech,(function(){return window.location.href=m}),s.props.hostStorage);case 3:if(n=e.sent,a=!0,Ge.b.loading("Loading..",a),e.prev=6,null==s.props.match.params.id){e.next=21;break}return console.log("------------------debut-putFournisseur------------------"),console.log("update fournisseur => : ",t),console.log("add+update complext data => : ",s.state.dataToSend),t.RFRLOGO=s.state.image,e.next=14,ns(s.props.service,s.props.match.params.id,n||s.state.token,t,s.state.dataToSend.Adresse,s.state.dataToSend.Contact);case 14:e.sent,a=!1,te.H.open({message:"Success",description:"Le fournisseur a \xe9t\xe9 modifier avec succ\xe8s.",className:"custom-class",type:"success",placement:"bottomRight",style:{width:400}}),s.props.onFormulaireChange(!0),s.props.goTo("../userAdvancedSearchPath"),e.next=32;break;case 21:return(r=new FormData).append("RFRLOGO",s.state.image?s.state.image.originFileObj:null),console.log("add produit => : ",t),console.log("add SM => : ",s.state.dataToSend),e.next=27,ts(s.props.service,n||s.state.token,t,r,s.state.dataToSend.Adresse,s.state.dataToSend.Contact);case 27:e.sent,a=!1,te.H.open({message:"Success",description:"Le produit a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s.",className:"custom-class",type:"success",placement:"bottomRight",style:{width:400}}),s.props.onFormulaireChange(!0),s.props.goTo(g);case 32:console.log("------------------debut-postProduit------------------"),e.next=40;break;case 35:e.prev=35,e.t0=e.catch(6),console.log("error2 :",e.t0),s.props.onFormulaireChange(!1),te.H.open({message:"Error",description:"Le produit n'a pas pu \xeatre cr\xe9\xe9.Veuillez r\xe9essayer.",className:"custom-class",type:"error",placement:"bottomRight",style:{width:400}});case 40:case"end":return e.stop()}}),e,null,[[6,35]])})));return function(t){return e.apply(this,arguments)}}(),s.getToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetToken------------------"),t&&(console.log("error => :",t),s.props.goTo("../403")),null==n&&(console.log("tokne is null => : ",n),s.props.goTo("../403")),s.setState({token:n}),console.log("tokne from host => :",s.state.token),console.log("-------------------fin-GetToken-------------------"),e.next=8,s.getSM();case 8:return e.next=10,s.getSites();case 10:if(e.t0=null!=s.props.match.params.id,!e.t0){e.next=14;break}return e.next=14,s.getDatas();case 14:if(e.t1=null!=s.props.match.params.id,!e.t1){e.next=18;break}return e.next=18,s.getUL();case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.getRefrechToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetRefrechToken------------------"),t&&(console.log("error => :",t),s.props.goTo("403")),null==n&&(console.log("Refech tokne is null => : ",n),s.props.goTo("../403")),s.setState({Refrech:n}),console.log("Refech tokne from host => :",s.state.Refrech),console.log("-------------------fin-GetRefrechToken-------------------"),e.t0=s.props.hostStorage,e.next=9,s.getToken;case 9:e.t1=e.sent,e.t0.get.call(e.t0,"access_token",e.t1);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.onSubmit=function(){s.formRef.current.submit()},s.onReset=function(){s.formRef.current.resetFields(),s.formContactRef.current.onReset(),s.setState({changecome:!1})},s.onFill=function(){s.formRef.current.setFieldsValue({note:"Hello world!",gender:"male"})},s.handleInputChange=function(e){s.state.changecome||(s.props.onFormulaireChange(!1),s.setState({changecome:!0}))},s.enCheckVenduCahnge=function(e){console.log("------------------debut-enCheckVenduCahnge------------------"),s.setState({tabPointDeVente:e.target.checked}),console.log("tabs point de vente is : ".concat(e.target.checked)),console.log("-------------------fin-enCheckVenduCahnge-------------------")},s.labelSelectComposant=function(e,t,n){return Object(N.jsx)("div",{className:"ant-input-group-addon",style:Object(Ve.a)({border:"1px solid #dcdcdc",display:"inline-flex",width:"128px",paddingLeft:"10px",height:"32px"},"width",n),children:Object(N.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[" ",Object(N.jsx)(te.F,{className:"text-input-group",style:{display:"flex",width:"120px",fontSize:"14px",fontWeight:"600"},children:e})]})})},s.labelComposant=function(e,t){return Object(N.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(N.jsx)(te.F,{className:"text-input-group",style:{display:"flex",width:"80px",fontSize:"14px",fontWeight:"600"},children:e})})},s.state=(a={dataToSend:{Adresse:{New:[],update:[],delete:[]},Contact:{New:[],update:[],delete:[]},UL:{New:[],update:[],delete:[]},SM:{New:[],update:null,delete:null},VL:{New:[],update:[],delete:[]},ASV:{New:[],update:[],delete:[]},VV:{New:[],update:[],delete:[]},files:{New:[],update:[],delete:[]},PRD:null},AllSM:[],AllSites:[],AllVV:[],produit:null,token:null,ListAllUL:[],drawerVisible:""},Object(Ve.a)(a,"token",null),Object(Ve.a)(a,"tabPointDeVente",!1),Object(Ve.a)(a,"changecome",!1),Object(Ve.a)(a,"Profiles",[]),Object(Ve.a)(a,"loading",!1),Object(Ve.a)(a,"form",{}),Object(Ve.a)(a,"isLoading",null!=s.props.match.params.id),Object(Ve.a)(a,"image",null),Object(Ve.a)(a,"targetKeys",[]),Object(Ve.a)(a,"update",null==s.props.match.params.id),Object(Ve.a)(a,"defaultValue",null),Object(Ve.a)(a,"datas",{US_EMAIL:"",US_NOMUSR:"",US_PRNUSR:"",US_TYPUSR:""}),a),s.getRefrechToken=s.getRefrechToken.bind(Object(zt.a)(s)),s.getToken=s.getToken.bind(Object(zt.a)(s)),s}return Object(I.a)(n,[{key:"setImage",value:function(e){this.setState({image:e})}},{key:"activerUpdate",value:function(){return null!=this.props.match.params.id&&(this.setState({update:!this.state.update}),!0)}},{key:"getSites",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetSite------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,Br("http://localhost:8000/DMERP/v1/Referentiel/Sites/","",t||this.state.token);case 7:n=e.sent,console.log("succes from api : Produit =>  (getSites()) => :",n),this.setState({AllSites:null!=n.data?n.data:null}),console.log("-------------------fin-GetSites-------------------"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("Error from api : Produit =>  getSites  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500"),console.log("-------------------fin-GetSites-------------------");case 18:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSM",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetStructures-Marchandise------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,ma(this.props.service,"",t||this.state.token);case 7:n=e.sent,console.log("succes from api : Produit =>  (getStructures-Marchandise()) => :",n),this.setState({AllSM:null!=n.data?n.data:null}),console.log("-------------------fin-GetStructures-Marchandise-------------------"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("Error from api : Produit =>  getStructures-Marchandise  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500"),console.log("-------------------fin-GetStructures-Marchandise-------------------");case 18:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"getUL",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetUnit\xe9-Logistique------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,Oa(this.props.service,this.props.match.params.id,t||this.state.token);case 7:n=e.sent,console.log("succes from api : Produit =>  (getUnit\xe9-Logistique()) => :",n),this.setState({ListAllUL:null!=n.data?n.data:null}),console.log("ul from formulaire ",this.state.ListAllUL),console.log("-------------------fin--------------------"),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(4),console.log("Error from api : Produit =>  getUnit\xe9-Logistique  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500"),console.log("-------------------fin-GetUnit\xe9-Logistique-------------------");case 19:case"end":return e.stop()}}),e,this,[[4,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"getDatas",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetProduit-"+this.props.match.params.id+"------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,ga(this.props.service,this.props.match.params.id,t||this.state.token);case 7:(n=e.sent).data.VV&&n.data.VV.map((function(e,t){return e.RPVVPHOTO="http://localhost:8000"+e.RPVVPHOTO})),console.log("succes from api : Produit =>  (getProduit("+this.props.match.params.id+")) => :",n),null!=n.data.ASSVEN?n.data.vendable=!0:n.data.vendable=!1,this.setState({tabPointDeVente:n.data.vendable,defaultValue:null!=n.data?n.data:null,AllVV:null!=n.data.VV?n.data.VV:[],isLoading:!1}),console.log("-------------------fin-GetProduit-"+this.props.match.params.id+"-------------------"),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(4),console.log("Error from api : Produit =>  (getProduit("+this.props.match.params.id+"))  => : ",e.t0),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500"),console.log("-------------------fin-GetProduit-"+this.props.match.params.id+"-------------------");case 20:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"removeElem",value:function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("date fin => ",t),e.prev=1,e.next=4,Pn(this.props.service,{activate:!1,MUTDFIN:t,pk:this.props.match.params.id});case 4:return this.props.onFormulaireChange(!0),te.H.open({message:"Info",description:"This user is deleted successfully",className:"custom-class",type:"info",placement:"bottomRight",style:{width:400}}),Ge.b.loading("Loading...",.5).then((function(){return Ge.b.success("Finished",.5)})),e.next=9,_o(750);case 9:this.props.goTo("../userAdvancedSearchPath"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),te.H.open({message:"Error",description:"This user could not be deleted",className:"custom-class",type:"error",placement:"bottomRight",style:{width:400}});case 16:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loading",value:function(e){this.setState({loading:e})}},{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=this.props.match.params.id?this.props.disabelEditButton(!1):this.props.disabelEditButton(!0),e.t0=this.props.hostStorage,e.next=4,this.getRefrechToken;case 4:e.t1=e.sent,e.t0.get.call(e.t0,"refresh_token",e.t1);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(N.jsx)("div",{style:{height:"100%",width:"100%"},children:!this.state.isLoading&&Object(N.jsx)(te.w,{spinning:this.state.loading,delay:500,children:Object(N.jsxs)(D.a,{gutter:0,justify:"center",style:{width:this.state.drawerVisible},children:[Object(N.jsx)(U.a,{span:""==this.state.drawerVisible?18:24,children:Object(N.jsx)(D.a,{gutter:0,justify:"center",align:"stretch",wrap:!1,children:Object(N.jsxs)(U.a,{span:24,style:{padding:"0px",marginBottom:"10px"},children:[Object(N.jsx)(rt.a,{className:"border-main-content",orientation:"left",style:{margin:"-12px  -2px -12px 0px"},children:"Information"})," ",Object(N.jsx)(D.a,{align:"stretch",justify:"space-between",className:"border-main-content-2",style:{marginRight:"0px",marginLeft:"0px",padding:"22px 22px",borderRadius:"3px",borderWidth:"0px 1px 1px 1px",borderStyle:"solid"},children:Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(st.b,{form:{validateMessages:ba.fr},children:Object(N.jsxs)(te.l,{ref:this.formRef,name:"control-ref",initialValues:Object(nt.a)({},this.state.defaultValue),onFinish:this.onFinish,children:[Object(N.jsxs)(D.a,{gutter:[20,20],justify:"center",align:"stretch",wrap:!1,children:[Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsxs)(D.a,{gutter:[10,0],align:"stretch",justify:"space-between",children:[Object(N.jsx)(U.a,{span:14,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RFRCEXT",hasFeedback:!0,rules:[{required:!0,max:50}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Code",Q.a),placeholder:"Entrer le code...",readOnly:!this.state.update,onChange:this.handleInputChange})})})})}),Object(N.jsx)(U.a,{span:10,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RFRLIBC",hasFeedback:!0,rules:[{required:!1,max:50}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Acronyme",gn.a),placeholder:"Entrer l'acronyme...",readOnly:!this.state.update,onChange:this.handleInputChange})})})})})," ",Object(N.jsx)(U.a,{span:18,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RFRLIBL",hasFeedback:!0,rules:[{required:!1,max:50}],children:Object(N.jsx)(B.a,{addonBefore:this.labelComposant("Libell\xe9",gn.a),placeholder:"Entrer le libell\xe9...",readOnly:!this.state.update,onChange:this.handleInputChange})})})})}),Object(N.jsx)(U.a,{span:6,style:{display:"flex",alignContent:"start",flexWrap:"wrap"},children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsxs)(B.a.Group,{compact:!0,children:[this.labelSelectComposant("Devise",wn.a,"37%"),Object(N.jsx)(te.l.Item,{name:"RFRDEVISE",style:{marginBottom:"15px",width:"63%"},hasFeedback:!0,rules:[{required:!1}],children:Object(N.jsxs)(te.u,{onChange:this.handleInputChange,allowClear:!0,placeholder:"Selectionner la devise...",disabled:!this.state.update,children:[Object(N.jsx)(te.u.Option,{value:0,children:"URO"}),Object(N.jsx)(te.u.Option,{value:1,children:"USD"}),Object(N.jsx)(te.u.Option,{value:2,children:"DZ"})]})})]})})})}),Object(N.jsx)(U.a,{span:12,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsxs)(B.a.Group,{compact:!0,children:[this.labelSelectComposant("Type",wn.a,"25%"),Object(N.jsx)(te.l.Item,{name:"RFRTYPE",style:{marginBottom:"15px",width:"75%"},hasFeedback:!0,rules:[{required:!1}],children:Object(N.jsxs)(te.u,{onChange:this.handleInputChange,allowClear:!0,placeholder:"Selectionner le pays...",disabled:!this.state.update,children:[Object(N.jsx)(te.u.Option,{value:0,children:"URO"}),Object(N.jsx)(te.u.Option,{value:1,children:"USD"}),Object(N.jsx)(te.u.Option,{value:2,children:"DZ"})]})})]})})})})," ",Object(N.jsx)(U.a,{span:12,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsxs)(B.a.Group,{compact:!0,children:[this.labelSelectComposant("Pays",wn.a,"25%"),Object(N.jsx)(te.l.Item,{name:"RFRPAYS",style:{marginBottom:"15px",width:"75%"},hasFeedback:!0,rules:[{required:!1}],children:Object(N.jsxs)(te.u,{onChange:this.handleInputChange,allowClear:!0,placeholder:"Selectionner le pays...",disabled:!this.state.update,children:[Object(N.jsx)(te.u.Option,{value:0,children:"URO"}),Object(N.jsx)(te.u.Option,{value:1,children:"USD"}),Object(N.jsx)(te.u.Option,{value:2,children:"DZ"})]})})]})})})}),Object(N.jsx)(U.a,{span:24,children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(te.l.Item,{name:"RPRDSC",hasFeedback:!0,rules:[{required:!1,max:2024}],children:Object(N.jsx)(B.a.TextArea,{addonBefore:this.labelComposant("Description",Q.a),placeholder:"Entrer le description...",rows:3,readOnly:!this.state.update,onChange:this.handleInputChange})})})})})]})})," ",Object(N.jsx)(U.a,{flex:"200px",children:Object(N.jsx)(D.a,{gutter:[0,0],align:"stretch",children:Object(N.jsx)(U.a,{flex:"auto",children:Object(N.jsx)(Ns,{setImage:function(t){return e.setImage(t)},defaultValue:null!=this.state.defaultValue?this.state.defaultValue.RFRLOGO:null,readOnly:!this.state.update})})})})," "]}),Object(N.jsx)("div",{children:Object(N.jsxs)(te.A,{type:"card",className:"tabs-formulaire dms-tabs",children:[" ",Object(N.jsx)(te.A.TabPane,{tab:Object(N.jsx)(te.y,{title:"Adresse"}),children:Object(N.jsx)("div",{className:"template-tabs-panel",style:{height:"100%",border:"1px solid #eee",borderTop:"0px"},children:Object(N.jsx)(Js,{ListAllUL:this.state.ListAllUL,ListUL:this.state.dataToSend.VL.New,setNewAdresse:function(t){e.state.dataToSend.Adresse.New.push(t),console.log("data a envoyer a l'api => ",e.state.dataToSend)},setDeleteAdresse:function(t){if(null!=t.ID_ROWID){e.state.dataToSend.Adresse.delete.push(t);var n=e.state.dataToSend.Adresse;n.update=n.update.filter((function(e){return e.key!==t.key})),console.log("data to send => :",e.state.dataToSend)}else{var a=e.state.dataToSend.Adresse;a.New=a.New.filter((function(e){return e.key!==t.key})),console.log(", data to send => :",e.state.dataToSend)}},setUpdateAdresse:function(t,n){if(null!=t.ID_ROWID){var a=e.state.dataToSend.Adresse.update,r=a.findIndex((function(e){return e.ID_ROWID===t.ID_ROWID}));-1==r?a.push(Object(nt.a)(Object(nt.a)({},t),n)):a[r]=Object(nt.a)(Object(nt.a)({},t),n),console.log(r,", data to send => :",e.state.dataToSend)}else{var s=e.state.dataToSend.Adresse.New,o=s.findIndex((function(e){return e.key===t.key}));-1!=o&&(s[o]=Object(nt.a)(Object(nt.a)({},t),n)),console.log(o,", data to send => :",e.state.dataToSend)}},showDrawer:this.props.showDrawer,closeDrawer:function(){return e.props.closeDrawer()},setSiseForm:function(t){return e.setState({drawerVisible:t})},setDrawerState:function(t,n,a,r){return e.props.setDrawerState(t,n,a,(function(){return r()}))},ref:this.adressRef,updateAdress:this.state.update,update:this.state.update,datasource:null!=this.state.defaultValue?this.state.defaultValue.Adresse:null})})},"1"),Object(N.jsx)(te.A.TabPane,{tab:Object(N.jsx)(te.y,{title:"Contact"}),children:Object(N.jsx)("div",{className:"template-tabs-panel",style:{height:"100%",border:"1px solid #eee",borderTop:"0px"},children:Object(N.jsx)(Ho,{ListAllUL:this.state.ListAllUL,ListUL:this.state.dataToSend.VL.New,setNewContact:function(t){e.state.dataToSend.Contact.New.push(t),console.log("data a envoyer a l'api => ",e.state.dataToSend)},setDeleteContact:function(t){if(null!=t.ID_ROWID){var n=e.state.dataToSend.Contact.delete,a=e.state.dataToSend.Contact;a.update=a.update.filter((function(e){return e.key!==t.key})),n.push(t),console.log("data to send => :",e.state.dataToSend)}else{var r=e.state.dataToSend.Contact;r.New=r.New.filter((function(e){return e.key!==t.key})),console.log(", data to send => :",e.state.dataToSend)}},setUpdateContact:function(t,n){if(null!=t.ID_ROWID){var a=e.state.dataToSend.Contact.update,r=a.findIndex((function(e){return e.ID_ROWID===t.ID_ROWID}));-1==r?a.push(Object(nt.a)(Object(nt.a)({},t),n)):a[r]=Object(nt.a)(Object(nt.a)({},t),n),console.log(r,", data to send => :",e.state.dataToSend)}else{var s=e.state.dataToSend.Contact.New,o=s.findIndex((function(e){return e.key===t.key}));-1!=o&&(s[o]=Object(nt.a)(Object(nt.a)({},t),n)),console.log(o,", data to send => :",e.state.dataToSend)}},showDrawer:this.props.showDrawer,closeDrawer:function(){return e.props.closeDrawer()},setSiseForm:function(t){return e.setState({drawerVisible:t})},setDrawerState:function(t,n,a,r){return e.props.setDrawerState(t,n,a,(function(){return r()}))},ref:this.adressRef,updateAdress:this.state.update,update:this.state.update,datasource:null!=this.state.defaultValue?this.state.defaultValue.Contact:null})})},"2"),Object(N.jsx)(te.A.TabPane,{tab:Object(N.jsx)(te.y,{title:"Calendrier "}),style:{display:"flex",justifyContent:"space-between"},children:Object(N.jsx)("div",{style:{width:"700px"},children:Object(N.jsx)(Po,{})})},"3")]})})," "]})})})})]})})}),Object(N.jsx)(U.a,{span:18})]})})})}}]),n}(a.Component)),Wo=(n(481),n(555)),$o=[],Yo=1;Yo<=1;Yo++)$o.push({titre:"Vue syst\xe9me "+Yo,check:!0});for(var Ko=[],Xo=1;Xo<=3;Xo++)Ko.push({titre:"Vues personnalis\xe9s "+Xo,check:!1});var Zo=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(e){var a,r,s,o;return Object(L.a)(this,n),(o=t.call(this,e)).getToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetToken------------------"),t&&(console.log("error => :",t),o.props.goTo("../403")),null==n&&(console.log("tokne is null => : ",n),o.props.goTo("../403")),o.setState({token:n}),console.log("tokne from host => :",o.state.token),console.log("-------------------fin-GetToken-------------------"),e.next=8,o.getData();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.getRefrechToken=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("------------------debut-GetRefrechToken------------------"),t&&(console.log("error => :",t),o.props.goTo("403")),null==n&&(console.log("Refech tokne is null => : ",n),o.props.goTo("../403")),o.setState({Refrech:n}),console.log("Refech tokne from host => :",o.state.Refrech),console.log("-------------------fin-GetRefrechToken-------------------");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.onChange=function(e,t){console.log("Selected Time: ",e),console.log("Formatted Selected Time: ",t,o.state.dateFinDesactiver),o.setState({dateFinDesactiver:t})},o.handleDelete=function(e){var t=Object(ae.a)(o.state.datass);o.setState({datass:t.filter((function(t){return t.key!==e}))})},o.state=(s={search:"",token:null,bordered:!1,loading:!1,model:{title:"",Content:"",width:300,onOk:console.log("ok"),visible:!1},dateFinDesactiver:"20202-28-06 11:34:00",columns:[{title:"",dataIndex:"RFRLOGO",width:"5%",ellipsis:!0,fixed:"left",render:function(e,t){return!o.state.loading&&Object(N.jsx)(G.a,{src:!!t.RFRLOGO&&t.RFRLOGO,size:40,shape:"circle",icon:Object(N.jsx)(Q.a,{}),children:"."})}},{title:"Code",dataIndex:"RFRCEXT",ellipsis:!0,width:"18%",fixed:"left",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RFRCEXT,children:Object(N.jsx)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:t.RFRCEXT})})}},(a={title:"Acronyme",dataIndex:"RFRLIBC",ellipsis:!0,width:"10%"},Object(Ve.a)(a,"ellipsis",{showTitle:!1}),Object(Ve.a)(a,"render",(function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RFRLIBC,children:Object(N.jsx)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:t.RFRLIBC})})})),a),{title:"Libelle",ellipsis:!0,width:"14%",dataIndex:"RFRLIBL",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RFRLIBL,children:Object(N.jsx)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:t.RFRLIBL})})}},{title:"Pays",ellipsis:!0,width:"10%",dataIndex:"RFRPAYS",render:function(e,t){return Object(N.jsx)(Jn.a,{placement:"topLeft",title:t.RFRPAYS,children:Object(N.jsx)("div",{style:t.MUTETAT?{}:{cursor:"not-allowed",color:"#7a7a7a"},children:fa[t.RFRPAYS]})})}},{title:"Adresse",ellipsis:!0,width:"10%",dataIndex:"RPRUSTOCK",render:function(e,t){return Object(N.jsxs)("div",{style:{display:"flex"},children:[" ",Object(N.jsxs)(nr.a,{style:{whiteSpace:"nowrap"},onClick:function(){console.log("delete",t.id),o.setState({model:{Content:Object(N.jsx)(Js,{update:!1,datasource:t.Adresse}),onOk:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("ok",o.state.dateFinDesactiver);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),width:800,visible:!0}})},children:[Object(N.jsx)(Wo.a,{})," Adresse"," "]})]})}},{title:"Devise",ellipsis:!0,width:"6%",dataIndex:"RFRDEVISE",render:function(e,t){return Object(N.jsx)("span",{style:{display:"flex",width:"100%"},children:o.getDevise(t.RFRDEVISE,t.RFRDEVISE)})}},{title:"Type",ellipsis:!0,width:"9%",dataIndex:"RFRTYPE",render:function(e,t){return Object(N.jsx)("span",{style:{},children:o.getTypefour(t.RFRTYPE,t.RFRTYPE)})}},{title:"Contact",ellipsis:!0,width:"10%",dataIndex:"RPRUSTOCK",render:function(e,t){return Object(N.jsxs)("div",{style:{display:"flex"},children:[" ",Object(N.jsxs)(nr.a,{style:{whiteSpace:"nowrap"},onClick:function(){console.log("delete",t),o.setState({model:{Content:Object(N.jsx)(Ho,{update:!1,datasource:t.Contact}),onOk:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("ok",o.state.dateFinDesactiver);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),width:800,visible:!0}})},children:[Object(N.jsx)(kn.a,{})," Contact"]})]})}},(r={title:" ",key:"action",width:"8%",fixed:"right"},Object(Ve.a)(r,"width",170),Object(Ve.a)(r,"render",(function(e,t){return Object(N.jsxs)(z.b,{size:"middle",style:{display:"flex",justifyContent:"flex-end"},children:[Object(N.jsx)(q.a,{className:"dms-button-info dms-button dms",shape:"circle",disabled:!t.MUTETAT,onClick:function(){return o.props.goTo(v+t.ID_ROWID)},icon:Object(N.jsx)(ot.a,{}),size:"small"}),Object(N.jsx)(q.a,{className:"dms-button-error dms-button dms",shape:"circle",icon:t.MUTETAT?Object(N.jsx)(He.a,{}):Object(N.jsx)(Fe.a,{}),size:"small",onClick:function(){console.log("delete",t.id),o.setState({model:{title:"Delete user",width:300,Content:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(N.jsxs)(z.b,{direction:"vertical",size:5,align:"center",children:[Object(N.jsx)("p",{children:t.MUTETAT?"Do you want to disable user "+t.username+"?":"Do you want to enable user "+t.username+"?"}),t.MUTETAT&&Object(N.jsx)(te.h,{style:{width:"100%"},showTime:!0,onChange:o.onChange,onOk:o.onOk})]})}),onOk:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ok",o.state.dateFinDesactiver),e.prev=1,e.next=4,Pn(o.props.service,{activate:!t.MUTETAT,MUTDFIN:o.state.dateFinDesactiver,pk:t.id});case 4:o.getData(),ea.a.open({message:"Success",description:t.MUTETAT?t.username+" is disabled successfully":t.username+" is enabled successfully",className:"custom-class",type:"success",placement:"bottomRight",style:{width:400}}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),ea.a.open({message:"Error",placement:"bottomRight",type:"error",description:t.MUTETAT?t.username+" could not be disabled.":t.username+" could not be enabled.",className:"custom-class",style:{width:400}});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),visible:!0}})}})]})})),r)],publier:!1,datass:[]},Object(Ve.a)(s,"loading",!0),Object(Ve.a)(s,"showHeader",!0),Object(Ve.a)(s,"rowSelection",{}),Object(Ve.a)(s,"scroll",void 0),Object(Ve.a)(s,"hasData",!0),Object(Ve.a)(s,"tableLayout",void 0),Object(Ve.a)(s,"top","none"),Object(Ve.a)(s,"bottom","bottomRight"),s),o.getToken=o.getToken.bind(Object(zt.a)(o)),o.getRefrechToken=o.getRefrechToken.bind(Object(zt.a)(o)),o}return Object(I.a)(n,[{key:"getTypefour",value:function(e,t){switch(e){case 1:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"purple":"default",children:"type1"},e);case 2:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"magenta":"default",children:"type2"},e);default:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"red":"default",children:"autre"},e)}}},{key:"getDevise",value:function(e,t){switch(e){case 0:return Object(N.jsx)(Qn.a,{color:"cyan",children:"EUR"},e);case 2:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"blue":"default",children:"DZD"},e);case 1:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"geekblue":"default",children:"USD"},e);case 4:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"green":"default",children:"GBP"},e);default:return Object(N.jsx)(Qn.a,{style:t?{}:{cursor:"not-allowed"},color:t?"lime":"default",children:"LBP"},e)}}},{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-ResultaDeRecherche------------------"),t=this.props.history.location,n="",a="",console.log("location.search  =>  :",t.search),""!=t.search&&null==(n=t.search.slice(1).split("?")[0].split("search=")[1])&&(a=t.search.slice(1).split("?")[0]),this.setState({search:n,filter:a}),console.log("Valeur de recherche => :",n),console.log("Valeur de filtrage => :",a),console.log("-------------------fin-ResultaDeRecherche-------------------"),e.t0=this.props.hostStorage,e.next=13,this.getRefrechToken;case 13:return e.t1=e.sent,e.t0.get.call(e.t0,"refresh_token",e.t1),e.t2=this.props.hostStorage,e.next=18,this.getToken;case 18:e.t3=e.sent,e.t2.get.call(e.t2,"access_token",e.t3);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"refrechpage",value:function(){window.location.reload()}},{key:"onOk",value:function(e){console.log("onOk: ",e)}},{key:"getData",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-GetProduits------------------"),e.next=3,ye(this.state.token,this.state.Refrech,(function(){return window.location.href=m}),this.props.hostStorage);case 3:return t=e.sent,e.prev=4,e.next=7,es(this.props.service,this.state.search,t||this.state.token,this.state.filter);case 7:n=e.sent,console.log("succes from api : user (getAll()) => :",n),null!=n.data&&n.data.map((function(e,t){Object.assign(e,{key:t,MUTETAT:!0})})),this.setState({datass:null!=n.data?n.data:null,loading:!1}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("Error  :  GetUsers  => : ",e.t0),this.setState({loading:!1}),"Error: Request failed with status code 401"==e.t0?this.props.goTo("403"):"Error: Network Error"==e.t0&&this.props.goTo("500");case 18:console.log("-------------------fin-GetUser-------------------");case 19:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.xScroll,a=t.yScroll,r=Object(at.a)(t,["xScroll","yScroll"]),s={};a&&(s.y=240),n&&(s.x="100vw");var o=this.state.columns.map((function(e){return Object(nt.a)(Object(nt.a)({},e),{},{ellipsis:r.ellipsis})}));return"fixed"===n&&(o[0].fixed=!0,o[o.length-1].fixed="right"),Object(N.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(N.jsx)(D.a,{justify:"center",children:Object(N.jsxs)(U.a,{span:24,style:{height:"587px",backgroundColor:"#fff"},children:[Object(N.jsx)(We.a,{title:this.state.model.title,centered:!0,visible:this.state.model.visible,closable:!1,destroyOnClose:!0,footer:[Object(N.jsx)(q.a,{onClick:function(){return e.setState({model:{title:"",Content:"",width:400,onOk:console.log("ok"),visible:!1}})},children:"Return"},"back")],width:this.state.model.width,children:this.state.model.Content}),Object(N.jsx)(te.z,Object(nt.a)(Object(nt.a)({className:"template-dms",title:function(){return Object(N.jsx)(zs,{vues:{vueSysteme:$o,vuesPersonnalises:Ko},title:"",enAdd:e.handleAdd,type:"primary",style:{marginBottom:16}})},size:"small",pagination:{position:["none","bottomRight"]},scroll:{x:2245}},this.state),{},Object(Ve.a)({vues:{vueSysteme:$o,vuesPersonnalises:Ko},size:"small",columns:o,dataSource:r.hasData?this.state.datass:null,scroll:s},"scroll",{y:435})))]})})})}}]),n}(a.Component),Jo=Object(Ze.i)(Zo),Qo=r.a.forwardRef((function(e,t){var n=Object(Ze.h)(),s=r.a.createRef(),o=r.a.createRef();return Object(a.useImperativeHandle)(t,(function(){var e;return e={Route:{search:y,create:O,update:v,result:g},removeElem:function(e){s.current.removeElem(e)},activerUpdate:function(){s.current.activerUpdate()},history:function(){return o.current.history},onReset:function(){s.current.onReset()},onSubmit:function(){s.current.onSubmit()},loadingFormulaire:function(e){s.current.loading(e)},CleanInputChange:function(e){s.current.CleanInputChange()}},Object(Ve.a)(e,"history",o.current.history),Object(Ve.a)(e,"goBack",(function(){o.current.history.goBack()})),Object(Ve.a)(e,"goForward",(function(){o.current.history.goForward()})),e})),Object(N.jsx)(Ze.a,{ref:o,initialEntries:[y],initialIndex:0,children:Object(N.jsxs)(Ze.e,{children:[Object(N.jsx)(Ze.c,{exact:!0,path:y,children:Object(N.jsx)(Fs,{showDrawer:e.showDrawer,closeDrawer:function(){return e.closeDrawer()},setDrawerState:function(t,n,a,r){return e.setDrawerState(t,n,a,(function(){return r()}))},history:n,hostStorage:e.hostStorage,service:e.service,goTo:function(t){return e.goTo(t)}})}),Object(N.jsx)(Ze.c,{exact:!0,path:O,children:Object(N.jsx)(Go,{showDrawer:e.showDrawer,closeDrawer:function(){return e.closeDrawer()},setDrawerState:function(t,n,a,r){return e.setDrawerState(t,n,a,(function(){return r()}))},history:n,hostStorage:e.hostStorage,icon:e.icon,disabelEditButton:function(t){return e.disabelEditButton(t)},service:e.service,services:e.services.formulaire,ref:s,goTo:function(t){return e.goTo(t)},onFormulaireChange:function(t){return e.onFormulaireChange(t)}})}),Object(N.jsx)(Ze.c,{exact:!0,path:g,children:Object(N.jsx)(Jo,{showDrawer:e.showDrawer,closeDrawer:function(){return e.closeDrawer()},setDrawerState:function(t,n,a,r){return e.setDrawerState(t,n,a,(function(){return r()}))},history:n,hostStorage:e.hostStorage,service:e.service,services:e.services.result,goTo:function(t){return e.goTo(t)}})}),Object(N.jsx)(Ze.c,{exact:!0,path:"userUpdatePath/:id",children:Object(N.jsx)(Go,{showDrawer:e.showDrawer,closeDrawer:function(){return e.closeDrawer()},setDrawerState:function(t,n,a,r){return e.setDrawerState(t,n,a,(function(){return r()}))},history:n,hostStorage:e.hostStorage,icon:e.icon,ref:s,disabelEditButton:function(t){return e.disabelEditButton(t)},service:e.service,services:e.services.formulaire,onFormulaireChange:function(t){return e.onFormulaireChange(t)},goTo:function(t){return e.goTo(t)}})}),Object(N.jsx)(Ze.c,{path:"404",children:Object(N.jsx)(dn,{})}),Object(N.jsx)(Ze.b,{from:"*",to:"404"})]})})})),ec=n(482)(m),tc=function(){var e=r.a.createRef(),t=Object(a.useState)([]),n=Object(d.a)(t,2),s=n[0],o=n[1],c=Object(a.useState)(null),u=Object(d.a)(c,2),p=u[0],h=u[1],j=Object(a.useState)(!0),b=Object(d.a)(j,2),f=b[0],O=b[1],g=function(e){switch(e){case"DMERP/v1/profiles/":return{constent:hn,icon:Q.a};case"DMERP/v1/Utilisateurs/":return{constent:pa,icon:Q.a};case"DMERP/v1/Referentiel/Sites/":return{constent:Vs,icon:Ut.a};case"DMERP/v1/Referentiel/Client":return{constent:hn,icon:Q.a};case"DMERP/v1/Referentiel/Produits/":return{constent:bs,icon:Ft.a};case"DMERP/v1/Referentiel/Fournisseurs/":return{constent:Qo,icon:Nt.a};default:return{constent:null,icon:K.a}}},y=function(){ec.get("access_token",function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===n&&(console.log("-------------------------------Logout-------------------------------"),window.location.href=m);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())};Object(a.useEffect)((function(){console.log("------------------debut-AlerteApplication------------------"),window.addEventListener("focus",y),ec.get("access_token",function(){var e=Object(l.a)(i.a.mark((function e(t,n){var a,r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------------------debut-getMenubyApp------------------"),null==n&&(window.location.href=m),e.prev=2,""!=window.location.search&&(a=window.location.search.slice(1).split("?")[0].split("App_id=")[1],localStorage.setItem("app_id",a)),console.log("succes  : Get id application Alerte from auth application."),e.next=7,Kt(localStorage.getItem("app_id"),n);case 7:return r=e.sent,console.log("succes from api : Menu => :",r),e.next=11,Oe(n);case 11:s=e.sent,console.log("succes from api : User Auth => :",s),c=[],r.data.Menus_per_applications.map((function(e){if(null===e.AMNMENUID)c.push({title:e.AMNLIB,services:T,composant:g(e.AMNURL).constent,service:x+e.AMNURL,key:e.ID_ROWID,icon:g(e.AMNURL).icon});else{var t=c.find((function(t){return t.key===e.AMNMENUID}));null!=t.subMenu?t.subMenu.push({title:e.AMNLIB,services:T,composant:g(e.AMNURL).constent,service:x+e.AMNURL,key:e.ID_ROWID,icon:g(e.AMNURL).icon}):t.subMenu=[{title:e.AMNLIB,services:T,composant:g(e.AMNURL).constent,service:x+e.AMNURL,key:e.ID_ROWID,icon:g(e.AMNURL).icon}]}})),o(c),h(s.data),console.log("succes  : chargement du menu => :",c),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),console.log("error2 :",e.t0),"Error: Network Error"==e.t0&&v("500");case 24:O(!1),console.log("-------------------fin-GetMenuByApp-------------------");case 26:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t,n){return e.apply(this,arguments)}}())}),[]);var v=function(t){e.current.history.push(t)};return Object(N.jsx)(Ze.a,{ref:e,initialEntries:["layout"],initialIndex:0,children:Object(N.jsxs)(Ze.e,{children:[Object(N.jsxs)(Ze.c,{exact:!0,path:"layout",children:[" ",Object(N.jsx)("div",{style:{backgroundColor:"#f0f2f5",height:"100%"},children:f?Object(N.jsx)(te.w,{spinning:f,size:"large",delay:100,style:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}):Object(N.jsx)(Dt,{goto:function(e){return v(e)},logo:"./logo.png",userPhoto:"./photo.png",menu:s,user:p,hostStorage:ec,minLogo:"./minLogo.png"})})," "]}),Object(N.jsx)(Ze.c,{path:"403",children:Object(N.jsx)(un,{})}),Object(N.jsx)(Ze.c,{path:"500",children:Object(N.jsx)(pn,{})}),Object(N.jsx)(Ze.c,{path:"404",children:Object(N.jsx)(dn,{})}),Object(N.jsx)(Ze.b,{from:"*",to:"404"})]})})},nc=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,559)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),s(e),o(e)}))};o.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(tc,{})}),document.getElementById("root")),nc()}},[[485,1,2]]]);
//# sourceMappingURL=main.e0439b13.chunk.js.map